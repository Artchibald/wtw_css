// Copyright (c) 2014, 2022, Oracle and/or its affiliates.
define(["knockout","knockout-mapping","signals","ojs/ojcore","jquery","bots","ojs/ojknockout","ojs/ojdialog","jqueryui-amd/core","jqueryui-amd/widget","ojs/ojcomponentcore","ojs/ojvalidation","ojs/ojselectcombobox","ojs/ojpopup","ojs/ojarraydataprovider","ojL10n","jqueryui-amd/widgets/mouse","ojs/ojmenu","jqueryui-amd/widgets/draggable","jqueryui-amd/position","ojs/ojcheckboxset","ojs/ojdatetimepicker","ojs/ojdvt-base","ojs/ojeditablevalue","ojs/ojinputtext","ojs/ojpopupcore","ojs/ojradiocheckbox","ojs/ojaccordion","ojs/ojcollapsible","ojs/ojmessaging","ojs/ojknockout-validation","ojs/ojprogress-bar"],(function(e,t,i,n,s,a,o,r,l,c,d,u,p,h,m,b,f,g,v,_,y,x,w,k,I,C,S,E,O,A,P,T){return function(e){function t(t){for(var i,s,a=t[0],o=t[1],r=0,c=[];r<a.length;r++)s=a[r],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&c.push(n[s][0]),n[s]=0;for(i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i]);for(l&&l(t);c.length;)c.shift()()}var i={},n={0:0};function s(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(){return Promise.resolve()},s.m=e,s.c=i,s.d=function(e,t,i){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(i,n,function(t){return e[t]}.bind(null,n));return i},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s.oe=function(e){throw console.error(e),e};var a=window.webpackJsonp=window.webpackJsonp||[],o=a.push.bind(a);a.push=t,a=a.slice();for(var r=0;r<a.length;r++)t(a[r]);var l=o;return s(s.s=143)}([function(t,i){t.exports=e},function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i(13),s=i.n(n),a=i(3),o=i(87);function r(e,t,i){const{siteLang:n}=a.a,r=document.documentElement.lang,{getResource:l}=o.a;let c,d,u=l(e,i||n||r);u||i===n||(u=l(e,n||r)),u||(console.error(`No translation for key: ${e} (${i||n||r})`),u=e,t&&(u+=function(e){return Object.keys(e).reduce((e,t)=>{const i=t.toUpperCase();return`${e} {${i}}${i}{${i}END}`},"")}(t))),t&&"object"==typeof t&&(c=function(e){return Object.keys(e).reduce((t,i)=>{const n=function(e,t){let i=e[t];return"function"==typeof i&&(i=i()),i}(e,i);return t[i.toUpperCase()]=n,t},{})}(t),c=function(e,t){return Object.keys(e).reduce((i,n)=>{const s=""+e[n],a=n+"END";if(-1!==t.indexOf(a)){const e=s.lastIndexOf("</");i[n]=s.substr(0,e),i[a]=s.substr(e)}else i[n]=s;return i},{})}(c,u));try{d=s.a.Translations.applyParameters(u,c)}catch(t){console.error(`Expected tokens for key "${e}" but none were given.`),d=e}return d}},function(e,t,i){"use strict";var n=i(66),s=i(88);const a=window.VanityUrlEnabled?new s.a("base"):new n.a("base");t.a=a},function(e,t,i){"use strict";var n=i(39);const s=(window.CX_CONFIG||{}).app||{};s.languages=s.languages||[],s.shortUrl=s.shortUrl||{},s.ceBaseUrl=s.uiBaseUrl+"/CandidateExperience",s.ceBaseSecuredUrl=s.uiBaseUrl+"/CandExpSecured",s.templates=s.templates||{},s.set=(e,t)=>{const i=e.split("."),n=i.splice(-1,1);let a=s;i.forEach(e=>{a[e]||(a[e]={}),a=a[e]}),a[n]=t},s.getSettingByKey=e=>{const t=s._findSetting(e);return t&&t.settingValue?t.settingValue:null},s.setSettingByKey=(e,t)=>{s.settings||(s.settings=[]);const{settings:i}=s,n=i.indexOf(s._findSetting(e));n>-1&&i.splice(n,1),i.push({settingKey:e,settingValue:t})},s.setSite=e=>{if(!e)return;const{headerLinks:t,footerLinks:i,cookies:a,addThis:o,chatbot:r,tcSignUp:l,facets:c,workLocationsDisplay:d,isDistanceCalculationEnabled:u}=e;s.set("links.header",t),s.set("links.footer",i),s.set("cookieConsent",a),s.set("talentCommunitySignUp",l),s.set("isDistanceCalculationEnabled",u),Object.keys(o).forEach(e=>{s.setSettingByKey(e,o[e])}),Object.keys(r).forEach(e=>{s.setSettingByKey(e,r[e])}),Object.keys(c).forEach(e=>{s.setSettingByKey(e,c[e])}),s.setSettingByKey(n.a,d)},s.setTheme=e=>{if(!e)return;const{template:{welcomeText:t},headerMode:i,footerMode:n,themeSettings:a,theme:o}=e;Object.keys(a).forEach(e=>{s.setSettingByKey(e,a[e])}),s.set("template.welcomeText",t),s.set("headerMode",i),s.set("footerMode",n),s.set("theme",o)},s._findSetting=e=>s.settings?s.settings.filter(({settingKey:t})=>t===e).shift():null,s.getTemplate=()=>s.template&&s.template.templateNumber||"mohegan",t.a=s},function(e,t,i){var n=i(31),s=i(145),a=i(109),o=i(45),r=i(32),l=r("iterator"),c=r("toStringTag"),d=a.values;for(var u in s){var p=n[u],h=p&&p.prototype;if(h){if(h[l]!==d)try{o(h,l,d)}catch(e){h[l]=d}if(h[c]||o(h,c,u),s[u])for(var m in a)if(h[m]!==a[m])try{o(h,m,a[m])}catch(e){h[m]=a[m]}}}},function(e,t,i){"use strict";i(4);var n=i(7),s=i.n(n),a=i(3),o=i(15),r=i(16);const l="flowId",c="stepActionUsageId",d="submissionId",u="interviewRequestId",p="scheduleId",h="interviewId",m="referralId",b="mergedCandidate";var f=i(75);const g=/\((\w+)\)$/,v={FlowId:l,ApplyFlowId:l,StepActionUsageId:c,SubmissionId:d,InterviewRequestId:u,ScheduleId:p,ScheduleInterviewId:h,ReferralId:m,DraftUser:"draftUser",MergedCandidate:b};function _(e,t,i,n){t===o.EMAIL&&(e.email=i),t===o.SMS&&(e.phone=Object(f.a)(n))}var y={mapCreateToRest({jobId:e,candidate:t,sourceTrace:i={},submodule:n,lastName:s}){const a=this.mapCandidateToRest({candidate:t,submodule:n});return a.requisitionNumber=e,s&&(a.lastName=s),i.sourceTrackingId&&(a.sourceTrackingId=i.sourceTrackingId),a},mapVerifyTokenToRest:e=>({siteNumber:a.a.siteNumber,URLShortCode:e}),mapVerifyTokenWithChallengeToRest:e=>({siteNumber:a.a.siteNumber,URLShortCode:e,ChallengeFlag:!0}),mapCandidateToRest(e){const{candidate:t,submodule:i}=s.a.toJS(e),n={siteNumber:a.a.siteNumber,mode:r.h[i]};return _(n,t.verificationMethod,t.email,t.phone),n},mapVerificationCodeToRest(e){const t=s.a.toJS(e),{verificationMethod:i,code:n,email:a,phone:o,shortToken:r,persistAccess:l}=t,c={shortCode:n};return r?c.URLShortCode=r:c.challengeFlag=!0,l&&(c.persistAccessFlag=!0),_(c,i,a,o),c},mapResendVerificationCodeToRest(e){const t=s.a.toJS(e),{verificationMethod:i,email:n,phone:o,jobId:l,shortToken:c,submodule:d}=t,u={requisitionNumber:l,siteNumber:a.a.siteNumber};return _(u,i,n,o),c&&(u.URLShortCode=c,u.challengeFlag=!0),d===r.a&&(u.mode=r.h[d]),u.resendFlag=!0,u},mapClaimPhoneNumberToRest(e){const t=s.a.toJS(e),{candidate:{phone:i}}=t;return{siteNumber:a.a.siteNumber,phone:Object(f.a)(i),mode:"CLAIM_PHONE"}},mapExtendAccessToRest:e=>({accessCode:e,mode:"REFRESH_ACCESS"}),mapSignOutToRest:e=>({accessCode:e,mode:"SIGN_OUT"}),mapSignOutAllToRest:e=>({accessCode:e,mode:"SIGN_OUT_ALL"}),mapTokenFromRest:e=>(function(e){if(!e.consumerResponse)return;const t=e.consumerResponse.match(g);t&&(e.offerStatus=t.pop()),e.consumerResponse.split(",").forEach(t=>{const[i,n]=t.split("="),s=v[i];n&&"null"!==n&&s&&(e[s]=n)})}(e),delete e.consumerResponse,delete e.links,e)},x=i(6),w=i(64),k=i(24),I=i(36);class C extends w.a{store(e,t){this._removeItemFromOtherStorage(e);const i=super.store(e,t);return I.a.userSessionChanged.dispatch(),i}remove(e){this._removeItemFromOtherStorage(e);const t=super.remove(e);return I.a.userSessionRemoved.dispatch(),t}_getStorageHandler(){return k.a.isActive()?window.localStorage:window.sessionStorage}_removeItemFromOtherStorage(e){(this._getStorageHandler()===window.localStorage?window.sessionStorage:window.localStorage).removeItem(e)}}var S=new C,E=i(27),O=i(21),A=i(10),P=i(25),T=i(2);function j(e,t){switch(e){case P.a:return Promise.reject("already-applied");case P.b:return function(e){let t;switch(e){case r.h[r.c]:t="ice-job-details";break;case r.h[r.f]:case r.h[r.e]:t="ice-job-alerts";break;default:t="ice-search"}T.a.go(t)}(t),Promise.reject(e);case A.a:case A.g:case A.f:case A.h:case P.h:case P.c:case P.g:case P.e:return Promise.reject(e);case P.d:return Promise.reject("token-expired");default:return Promise.reject("token-invalid")}}var R={handleBadRequest:j,handleBadRequestOnCreateToken:function(e,t){const i=e;return j(e,t).catch(e=>"token-invalid"===e&&i?Promise.reject(i):Promise.reject(e))}};function F(e){return x.a.post("/recruitingCEVerificationTokens",e,{statusCodes:{400:({response:e})=>R.handleBadRequest(e),500:()=>Promise.reject()}}).then(y.mapTokenFromRest)}function D(e,t){return e.candidateNumber&&E.b.trackCandidateNumber(e.candidateNumber),t&&(e.verificationMethod=t),e.accessCode&&S.store("verificationToken",e),e.urlshortCode&&Object(O.d)({token:e.urlshortCode,mergedCandidate:e.mergedCandidate}),e}function L({accessCode:e}){if(!e)return;const t=S.restore("verificationToken");t.accessCode=e,S.store("verificationToken",t)}function N(e){const t=S.restore("verificationToken");return(null==t?void 0:t.accessCode)&&function(e){return e[l]||e[c]||e[d]||e[u]||e[p]||e[h]||e[m]||e.draftUser||e[b]}(e)?([l,c,d,u,p,h,m,b].forEach(i=>{t[i]=e[i]}),S.store("verificationToken",t),e):e}function M(e){return this.draftUser=e.draftUser,e}t.a={create(e){const{verificationMethod:t}=e.candidate;return function(e){return x.a.post("/recruitingCEVerificationTokens",e,{statusCodes:{400({response:t}){const{mode:i}=e;return R.handleBadRequestOnCreateToken(t,i)},500:()=>Promise.reject()}}).then(y.mapTokenFromRest)}(y.mapCreateToRest(e)).then(e=>D(e,t())).then(M.bind(this))},verifyToken:e=>F(y.mapVerifyTokenToRest(e)).then(D),verifyTokenWithChallengeFlag(e){return F(y.mapVerifyTokenWithChallengeToRest(e)).then(D).then(N).then(M.bind(this))},verifyCandidate:e=>F(y.mapCandidateToRest(e)),verifyCode(e){const t=Object(O.b)(),{verificationMethod:i}=e;t&&(e.shortToken=t.token);return F(y.mapVerificationCodeToRest(e)).then(e=>D(e,i()))},resendCode(e){const t=Object(O.b)();t&&(e.shortToken=t.token);return F(y.mapResendVerificationCodeToRest(e))},claimPhoneNumber:e=>F(y.mapClaimPhoneNumberToRest(e)),extendAccess(){var e;const t=null===(e=this.get())||void 0===e?void 0:e.accessCode;if(!t)return Promise.reject("Access code does not exist");return F(y.mapExtendAccessToRest(t)).then(L)},signOut(){var e;const t=null===(e=this.get())||void 0===e?void 0:e.accessCode;if(!t)return Promise.reject("Access code does not exist");return F(y.mapSignOutToRest(t))},signOutAll(){var e;const t=null===(e=this.get())||void 0===e?void 0:e.accessCode;if(!t)return Promise.reject("Access code does not exist");return F(y.mapSignOutAllToRest(t))},applyVerificationToken:e=>D(e),accessCodeExists(){var e;return null===(e=this.get())||void 0===e?void 0:e.accessCode},isCandidateVerified(){const{accessCode:e,candidateNumber:t}=this.get()||{};return e&&t},isKnownCandidate(){return Boolean(this.getCandidateNumber())},isDraftCandidate(){return!this.accessCodeExists()&&this.draftUser},setCandidateNumber(e){const t=this.get();t.candidateNumber=e,S.store("verificationToken",t)},getCandidateNumber(){var e;return null===(e=this.get())||void 0===e?void 0:e.candidateNumber},get:()=>S.restore("verificationToken"),destroy(){return S.remove("verificationToken"),this}}},function(e,t,i){"use strict";var n=i(49);t.a={get:(e,t)=>Object(n.b)(e,null,"GET",t),post:(e,t,i)=>Object(n.b)(e,t,"POST",i),patch:(e,t,i)=>Object(n.b)(e,t,"PATCH",i),put:(e,t,i)=>Object(n.b)(e,t,"PUT",i),delete:(e,t)=>Object(n.b)(e,null,"DELETE",t),jsonp:(e,t,i)=>Object(n.b)(e,t,"JSONP",i)}},function(e,i){e.exports=t},function(e,t){e.exports=i},function(e,t,i){"use strict";var n=i(64);class s extends n.a{_getStorageHandler(){return window.sessionStorage}}const a=new s;t.a=a},function(e,t,i){"use strict";i.d(t,"c",(function(){return n})),i.d(t,"e",(function(){return s})),i.d(t,"a",(function(){return a})),i.d(t,"g",(function(){return o})),i.d(t,"h",(function(){return r})),i.d(t,"f",(function(){return l})),i.d(t,"b",(function(){return c})),i.d(t,"d",(function(){return d}));const n="fill-progress",s="in-progress",a="ORA_URL_LOCKED",o="ORA_IRC_TOO_MANY_REQUESTS",r="ORA_INVALID_SHORT_CODE",l="ORA_IRC_CANNOT_USE_PHONE",c="pin-code-required",d="ORA_INVALID_PERSON_ID"},function(e,t,i){"use strict";var n=i(8),s=i.n(n);t.a={loaded:new s.a,loading:new s.a,pageTitleUpdate:new s.a,cxFooterInViewportChanged:new s.a,toggleLoading:new s.a}},function(e,t,i){"use strict";var n=i(157),s=i(41),a=i(60),o=i(51),r=i(57),l=i(79),c=i(161),d=i(162),u=Math.max,p=Math.min,h=Math.floor,m=/\$([$&'`]|\d\d?|<[^>]*>)/g,b=/\$([$&'`]|\d\d?)/g;n("replace",2,(function(e,t,i,n){var f=n.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,g=n.REPLACE_KEEPS_$0,v=f?"$":"$0";return[function(i,n){var s=l(this),a=null==i?void 0:i[e];return void 0!==a?a.call(i,s,n):t.call(String(s),i,n)},function(e,n){if(!f&&g||"string"==typeof n&&-1===n.indexOf(v)){var a=i(t,e,this,n);if(a.done)return a.value}var l=s(e),h=String(this),m="function"==typeof n;m||(n=String(n));var b=l.global;if(b){var y=l.unicode;l.lastIndex=0}for(var x=[];;){var w=d(l,h);if(null===w)break;if(x.push(w),!b)break;""===String(w[0])&&(l.lastIndex=c(h,o(l.lastIndex),y))}for(var k,I="",C=0,S=0;S<x.length;S++){w=x[S];for(var E=String(w[0]),O=u(p(r(w.index),h.length),0),A=[],P=1;P<w.length;P++)A.push(void 0===(k=w[P])?k:String(k));var T=w.groups;if(m){var j=[E].concat(A,O,h);void 0!==T&&j.push(T);var R=String(n.apply(void 0,j))}else R=_(E,h,O,A,T,n);O>=C&&(I+=h.slice(C,O)+R,C=O+E.length)}return I+h.slice(C)}];function _(e,i,n,s,o,r){var l=n+e.length,c=s.length,d=b;return void 0!==o&&(o=a(o),d=m),t.call(r,d,(function(t,a){var r;switch(a.charAt(0)){case"$":return"$";case"&":return e;case"`":return i.slice(0,n);case"'":return i.slice(l);case"<":r=o[a.slice(1,-1)];break;default:var d=+a;if(0===d)return t;if(d>c){var u=h(d/10);return 0===u?t:u<=c?void 0===s[u-1]?a.charAt(1):s[u-1]+a.charAt(1):t}r=s[d-1]}return void 0===r?"":r}))}}))},function(e,t){e.exports=n},function(e,t,i){"use strict";i.d(t,"f",(function(){return a})),i.d(t,"c",(function(){return o})),i.d(t,"e",(function(){return r})),i.d(t,"d",(function(){return l})),i.d(t,"a",(function(){return c})),i.d(t,"b",(function(){return d})),i.d(t,"g",(function(){return u})),i.d(t,"h",(function(){return p}));var n=i(8),s=i.n(n);const a="Job Views",o="Begin Job Apply",r="Submit Job Apply",l="Finish Job Apply",c="Create Job Application",d="Apply Landing Page",u="User accepted Cookie Consent",p="User declined Cookie Consent";t.i={[a]:new s.a,[o]:new s.a,[r]:new s.a,[l]:new s.a,[c]:new s.a,[d]:new s.a,[u]:new s.a,[p]:new s.a}},function(e,t,i){"use strict";i.r(t),i.d(t,"SMS",(function(){return n})),i.d(t,"EMAIL",(function(){return s}));const n="sms",s="email"},function(e,t,i){"use strict";i.d(t,"e",(function(){return n})),i.d(t,"b",(function(){return s})),i.d(t,"c",(function(){return a})),i.d(t,"g",(function(){return o})),i.d(t,"f",(function(){return r})),i.d(t,"d",(function(){return l})),i.d(t,"a",(function(){return c})),i.d(t,"h",(function(){return d}));const n="TC_CANDIDATE",s="CSS_ENTRY",a="JOB_APPLICATION",o="UNVERIFIED_APPLICATIONS_LIMIT",r="TC_CONFIRM",l="JOB_APPLY_CONFIRM",c="CLAIM_PHONE_NUMBER",d={[s]:"CSS_ACCESS",[a]:"JOB_APPLY",[n]:"TC_SIGNUP",[r]:"CONFIRM",[l]:"JOB_APPLY_CONFIRM",[c]:"CLAIM_PHONE"}},function(e,t){e.exports=s},function(e,t,i){"use strict";var n=i(9),s=i(2),a=i(19),o=i(3);const r="siteLanguage-has-changed";var l={hasChanged:()=>Boolean(n.a.restore(r)),registerChange(){n.a.store(r,"true")},dismiss(){n.a.remove(r)}},c=i(22),d=i(14);function u(){c.a.remove("ORA_CX_SITE_LANG")}d.i[d.h].add(u);var p={set:function(e){c.a.set("ORA_CX_SITE_LANG",e,{days:7})},remove:u};t.a={set(e){l.registerChange(),p.set(e);const t=a.b.interpolate({lang:e},s.a.route().id);s.a.redirect(t)},get:()=>o.a.siteLang,getFusionCode:()=>o.a.languages.filter(e=>e.code===o.a.siteLang).map(e=>e.fusionCode).pop(),store(){n.a.store("siteLanguage",this.get())},restore:()=>n.a.restore("siteLanguage")}},function(e,t,i){"use strict";i.d(t,"a",(function(){return u}));i(12),i(4);var n=i(66),s=i(3),a=i(2);const o=new n.a("base");o.configure({site:{url:"/{context}/{lang}/sites/{siteCode}"}});const r="CandExpSecured",l="CandidateExperience";class c{constructor(e){this.baseURI=e,this.lang=s.a.siteLang,this.siteCode=s.a.siteNumber,this.context=this._getCurrentContext()}interpolate({lang:e=this.lang,siteCode:t=this.siteCode,context:i=this.context}={},...n){return`${this._getSitePath(i,e,t)}${a.a.interpolate(...n)}`}_getSitePath(e,t,i){return this._getUIBaseUrl()+o.interpolate("site",{context:e,lang:t,siteCode:i})}_getCurrentContext(){return-1!==this.baseURI.indexOf(r)?r:l}_getUIBaseUrl(){const e=document.createElement("a");return e.href=s.a.uiBaseUrl,e.href.replace(/\/$/,"")}}const d=new(i(88).a)("base");d.configure({site:{url:"{lang}/sites/{siteCode}"}});const u={SECURED:"CandExpSecured",PUBLIC:"CandidateExperience"},p=window.VanityUrlEnabled?class extends c{_getSitePath(e,t,i){return this._getVanityBaseUrl()+d.interpolate("site",{lang:t,siteCode:i})}_getVanityBaseUrl(){const e=document.createElement("a");return e.href=s.a.vanityBaseUrl,e.href.replace(/\/$/,"")}}:c;t.b=new p(document.baseURI)},function(e,t,i){"use strict";var n=i(9),s=i(5);t.a={setUnverifiedCandidateId(e){n.a.store("unverifiedCandidateId",e)},getUnverifiedCandidateId:()=>n.a.restore("unverifiedCandidateId"),setRemainingUnverifiedApplications(e){n.a.store("remainingUnverifiedApplications",e)},getRemainingUnverifiedApplications:()=>n.a.restore("remainingUnverifiedApplications"),hasRemainingUnverifiedApplications(){return this.getRemainingUnverifiedApplications()>0},isKnownUnverifiedCandidate(){return null!==this.getUnverifiedCandidateId()},setHasExceededUnverifiedApplicationsLimit(e){n.a.store("unverifiedApplicationsExceeded",e),e&&this.setUnverifiedVerificationData()},setUnverifiedVerificationData(){const e=s.a.get();if(e){const t={verificationMethod:e.verificationMethod,email:e.email,phone:e.phone};n.a.store("unverifiedApplicationsVerificationData",t)}},hasExceededUnverifiedApplicationsLimit:()=>n.a.restore("unverifiedApplicationsExceeded"),getUnverifiedVerificationData:()=>n.a.restore("unverifiedApplicationsVerificationData"),clear(){return n.a.remove("unverifiedCandidateId"),n.a.remove("remainingUnverifiedApplications"),this},destroy(){return n.a.remove("unverifiedCandidateId"),n.a.remove("remainingUnverifiedApplications"),n.a.remove("unverifiedApplicationsVerificationData"),n.a.remove("unverifiedAppliedJobIds"),n.a.remove("unverifiedApplicationsExceeded"),this},addUnverifiedCandidateApplication(e){const t=this.getUnverifiedCandidateApplications()||[];t.push(e),n.a.store("unverifiedAppliedJobIds",t)},getUnverifiedCandidateApplications:()=>n.a.restore("unverifiedAppliedJobIds"),hasAppliedToJob(e){const t=this.getUnverifiedCandidateApplications()||[];return Boolean(t.filter(t=>e===t).length)}}},function(e,t,i){"use strict";i.d(t,"d",(function(){return s})),i.d(t,"b",(function(){return a})),i.d(t,"a",(function(){return o})),i.d(t,"c",(function(){return r}));var n=i(9);function s({token:e,jobId:t,pinCodeSent:i,mergedCandidate:s}){e&&n.a.store("shortToken",{token:e,jobId:t,pinCodeSent:i,mergedCandidate:s})}function a(e){const t=n.a.restore("shortToken")||{};if(e){return function(e,t){const i=e=>e.split(" ").join("+");return i(e)===i(t)}(e,decodeURIComponent(t.jobId))?t:void 0}return t}function o(){n.a.remove("shortToken")}function r(){return(n.a.restore("shortToken")||{}).pinCodeSent}},function(e,t,i){"use strict";t.a={set(e,t,i){let n="";i&&(n="; max-age="+function({days:e,hours:t}){return e?24*e*3600:3600*t}(i)),document.cookie=`${e}=${t}${n}; path=/`},get(e){const t=e+"=",i=document.cookie.split(";");for(let e=i.length,n=0;n<e;n++){const e=i[n].trim();if(0===e.indexOf(t))return e.substring(t.length,e.length)}return null},remove(e){this.set(e,"",{hours:-1})}}},function(e,t,i){"use strict";var n=i(3),s=i(28),a=i(48),o=i(52);const r={GET:{},POST:{},PATCH:{},PUT:{},DELETE:{},JSONP:{}};t.a={baseUrl:(n.a.apiBaseUrl||"")+"/hcmRestApi/resources/latest",isCrossDomain:!1,statusCodes:{},headers:{"Content-Type":"application/vnd.oracle.adf.resourceitem+json;charset=utf-8","Accept-Language":n.a.siteLang,"Ora-Irc-Language":n.a.siteLang},timeout:1e5,getMethodConfig:e=>r[e],addAuthorizationHeader:e=>e,addTimestampHeader:e=>e,addUserTrackingHeader:e=>e,defaultErrorHandler:(e,t)=>(t.suppressErrors||s.a.apiError.dispatch(e,t),Promise.reject(e)),transformRequest:e=>(e.body=a.a.mapToRest(e.body),e),transformResponse:e=>a.a.mapFromRest(e),setStatusCodeHandler(e,t){this.statusCodes[e]=t},unsetStatusCodeHandler(e){delete this.statusCodes[e]},addMiddleware(e){o.a.add(e)},removeMiddleware(e){o.a.remove(e)},hasMiddleware:e=>o.a.has(e)}},function(e,t,i){"use strict";var n=i(3),s=i(62);t.a={isActive:()=>Boolean(s.a.restore("sessionPersistence")),isEnabled:()=>"true"===n.a.getSettingByKey("ORA_IRC_KEEP_CANDIDATE_SIGNED_IN_ENABLED"),activate(){s.a.store("sessionPersistence","true")},deactivate(){s.a.remove("sessionPersistence")}}},function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return s})),i.d(t,"h",(function(){return a})),i.d(t,"c",(function(){return o})),i.d(t,"g",(function(){return r})),i.d(t,"f",(function(){return l})),i.d(t,"e",(function(){return c})),i.d(t,"d",(function(){return d}));const n="DUPLICATE_SUBMISSION",s="ORA_IRC_INTERNAL_CANDIDATE",a="ORA_URL_INVALID",o="ORA_IRC_INVALID_COOKIE",r="ORA_IRC_NO_CAND_PROFILE",l="last-name-check",c="ORA_INVALID_PERSON_ID",d="ORA_IRC_INVALID_INPUT"},function(e,t,i){"use strict";function n(e){return"Y"===e}function s(e){return"true"===e}i.d(t,"b",(function(){return n})),i.d(t,"a",(function(){return s}))},function(e,t,i){"use strict";i.d(t,"a",(function(){return m}));var n=i(6),s=i(9),a=i(62),o=i(22),r=i(3),l=i(18);i(12);var c=function(){let e=(new Date).getTime();return"undefined"!=typeof performance&&"function"==typeof performance.now&&(e+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const i=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?i:3&i|8).toString(16)})},d=i(89),u=i(14);const p="favourite-jobs_"+l.a.get(),h=r.a.siteNumber+"_cookieAccept",m="ORA_CANDIDATE_NUMBER";function b(e){let t=o.a.get("ORA_CX_USERID");t!==e&&(o.a.set("ORA_CX_USERID",e,{days:90}),t=e),x(t)}function f(){const e=c();o.a.set("ORA_CX_USERID",e,{days:90}),w(null,null)}function g(){const e=o.a.get("ORA_CX_USERID");e?(x(e),o.a.set("ORA_CX_USERID",e,{days:90})):f()}function v(){return!!r.a.cookieConsent&&(!r.a.cookieConsent.cookieMessageEnabled||"true"===o.a.get(h))}function _(){v()&&g()}function y(){s.a.remove("favourite-jobs-ids"),s.a.remove(p)}function x(e){return n.a.get("/recruitingCEUserTrackings/"+e).then(e=>function(e){const{candidateNumber:t}=e;if(t&&o.a.set(m,t,{days:90}),e.content){const t=JSON.parse(e.content),i=t.filter(e=>"PIN"===e.action).map(e=>e.identifier),n=t.filter(e=>"SEARCH"===e.action).map(e=>(delete e.attributes.searchKey,e.attributes));i&&(y(),s.a.store("favourite-jobs-ids",i),d.a.favouriteJobsSet.dispatch(i)),n&&a.a.store("recent-searches",n)}}(e))}function w(e,t){if(v()){let i=null;const s=o.a.get(m);t&&(i=c(),o.a.set(m,t,{days:90}));const a={userId:o.a.get("ORA_CX_USERID"),candidateNumber:t||s,temporaryUserId:i,Content:e?JSON.stringify(e):null};return n.a.post("/recruitingCEUserTrackings",a,{statusCodes:{401:()=>Promise.resolve(),500:()=>Promise.resolve()}})}return Promise.resolve()}u.i[u.g].add(_);t.b={trackCandidateNumber:function(e){w(null,e).then(e=>{e&&b(e.userId)}).catch(e=>console.error(e))},trackDataForNewUser:b,trackUserByUUID:f,trackJobApplicationSubmit:function(e){w({entity:"JOB_APPLICATION",action:"SUBMIT",identifier:e,attributes:null},null)},trackJobApplicationStart:function(e){w({entity:"JOB_APPLICATION",action:"NEW",identifier:e,attributes:null})},trackJobView:function(e){w({entity:"REQUISITION",action:"VIEW",identifier:e,attributes:null})},trackAddRequisitionToFavourites:function(e){w({entity:"REQUISITION",action:"PIN",identifier:e.id,attributes:null},null)},trackRemoveRequisitionToFavourites:function(e){w({entity:"REQUISITION",action:"UNPIN",identifier:e.id,attributes:null},null)},trackRequisitionSearch:function(e){let t=null;e.keyword&&e.locationId?t=`${e.keyword}|${e.locationId}`:e.keyword?t=e.keyword:e.locationId&&(t=e.locationId),w({entity:"REQUISITION",action:"SEARCH",identifier:null,attributes:{searchKey:t,keyword:e.keyword,location:e.location,locationId:e.locationId,locationLevel:e.locationLevel,radius:e.radius,radiusUnit:e.radiusUnit}})},initializeUserTracking:g,isCookieAllowed:v,init:_,clearUserTrackingCookie:function(){o.a.remove("ORA_CX_USERID"),o.a.remove(m),a.a.remove("recent-searches"),y()}}},function(e,t,i){"use strict";var n=i(8),s=i.n(n);t.a={error:new s.a,apiError:new s.a,cookiesDisabledError:new s.a,unauthorizedError:new s.a}},function(e,t,i){"use strict";var n=i(2);t.a={isPostApply:()=>"post-apply"===n.a.route().id}},function(e,t,i){"use strict";i.d(t,"b",(function(){return c})),i.d(t,"a",(function(){return d})),i.d(t,"e",(function(){return u})),i.d(t,"c",(function(){return p})),i.d(t,"d",(function(){return h}));var n=i(21),s=i(5),a=i(2),o=i(20),r=i(29);function l(){return"job-preview"===(a.a.route().parent||{}).id?"job-preview.apply-flow":"apply-flow"}function c(e){return Object(n.d)({token:e.token,jobId:e.jobId}),Promise.reject({redirectTo:"job-details"})}function d(){const e=l();return s.a.accessCodeExists()?Promise.reject({redirectTo:e,redirectParams:{sectionNumber:1}}):Promise.resolve()}function u(){const e=l();return a.a.go(e,{sectionNumber:"1"})}async function p(e,t){if(s.a.accessCodeExists()){var i;const a=null===(i=Object(n.b)(e))||void 0===i?void 0:i.token,o=a&&await s.a.verifyTokenWithChallengeFlag(a).then(e=>null==e?void 0:e.challengeFlag).catch(e=>(console.error(e),!0));if(Object(n.d)({token:a,jobId:e,pinCodeSent:o}),!o){return{route:t?"job-preview.apply-flow":"apply-flow",params:{sectionNumber:"1"}}}}if(o.a.hasAppliedToJob(e)&&o.a.hasExceededUnverifiedApplicationsLimit()){return{route:"job-details.confirm-application",params:{}}}if(o.a.hasExceededUnverifiedApplicationsLimit()){return{route:t?"job-preview.confirm-email":"job-details.confirm-email",params:{}}}if(Object(n.b)(e))return{route:"job-details.pin-verification",params:{}};return{route:t?"job-preview.email-verification":"job-details.email-verification",params:{}}}function h(){const e=-1!==a.a.route().id.indexOf("apply-flow"),t=r.a.isPostApply();return e||t}},function(e,t,i){(function(t){var i=function(e){return e&&e.Math==Math&&e};e.exports=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof t&&t)||Function("return this")()}).call(this,i(144))},function(e,t,i){var n=i(31),s=i(110),a=i(42),o=i(95),r=i(114),l=i(147),c=s("wks"),d=n.Symbol,u=l?d:d&&d.withoutSetter||o;e.exports=function(e){return a(c,e)||(r&&a(d,e)?c[e]=d[e]:c[e]=u("Symbol."+e)),c[e]}},function(e,t,i){"use strict";i(12);t.a={encode(e){return this._encode(e,this._encodeString)},encodeSlashes(e){return this._encode(e,this._encodeStringSlashes)},encodeQueryParams(e){return this._encode(e,this._encodeStringQueryParam)},_encode(e,t){switch(typeof e){case"string":return t(e);case"object":return this._encodeObject(e,t);default:return e}},_encodeString:e=>encodeURIComponent(e).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/~/g,"%7E"),_encodeStringSlashes:e=>e.replace(/\//g,"%2F"),_encodeStringQueryParam:e=>encodeURIComponent(e).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/~/g,"%7E").replace(/%20/g,"+"),_encodeObject(e,t){return Object.keys(e).reduce((i,n)=>{const s=i,a=e[n];return s[n]=a?this._encode(a,t):a,s},{})},decode(e){switch(typeof e){case"string":return this._decodeString(e);case"object":return this._decodeObject(e);default:return e}},_decodeString(e){const t=e.replace(/\+/g,"%20").replace(/%21/g,"!").replace(/%27/g,"'").replace(/%28/g,"(").replace(/%29/g,")").replace(/%7E/g,"~");return decodeURIComponent(t)},_decodeObject(e){return Object.keys(e).reduce((t,i)=>{const n=t,s=e[i];return n[i]=s?this.decode(s):s,n},{})}}},function(e,t,i){"use strict";var n=i(59),s=i(68),a=i(163),o=i(40),r=i(69),l=i(164),c=i(165),d=i(53);n({target:"Promise",proto:!0,real:!0,forced:!!a&&o((function(){a.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=l(this,r("Promise")),i="function"==typeof e;return this.then(i?function(i){return c(t,e()).then((function(){return i}))}:e,i?function(i){return c(t,e()).then((function(){throw i}))}:e)}}),s||"function"!=typeof a||a.prototype.finally||d(a.prototype,"finally",r("Promise").prototype.finally)},function(e,t,i){"use strict";i(4),i(12);var n=i(6);const s='<?xml version="1.0" standalone="yes"?><geocode_request vendor="oracle"><address_list><input_location latitude=":latitude" longitude=":longitude" /></address_list></geocode_request>',a='<?xml version="1.0" standalone="yes"?><geocode_request vendor="oracle"><address_list><input_location><input_address><unformatted country=":countryCode"><address_line value=":postalCode" /></unformatted></input_address></input_location></address_list></geocode_request>',o='<?xml version="1.0" standalone="yes"?><geocode_request vendor="oracle"><address_list><input_location><input_address><unformatted country=":countryCode"><address_line value=":city" /><address_line value=":state" /></unformatted></input_address></input_location></address_list></geocode_request>';function r(e){const t={baseUrl:"//elocation.oracle.com",transformRequest:e=>e,timeout:5e3};return n.a.jsonp("/elocation/lbs",{xml_request:e,format:"JSON"},t)}var l={findByCoordinates:(e,t)=>r(s.replace(":latitude",e).replace(":longitude",t)),findByPostalCode:(e,t)=>r(a.replace(":countryCode",e).replace(":postalCode",t)).then(e=>e.shift()),findByCityState:(e,t,i)=>r(o.replace(":countryCode",e).replace(":city",t).replace(":state",i)).then(e=>e.shift())};const c={maximumAge:432e5,timeout:1e4,enableHighAccuracy:!0};let d;function u(e){return 0===Object.keys(e).length}t.a={query:()=>(d=d||function(){const e=new Promise((e,t)=>{setTimeout(t,1e4)}),t=new Promise((e,t)=>{navigator.geolocation.getCurrentPosition(e,t,c)});let i,n;return Promise.race([t,e]).then(e=>(({latitude:i,longitude:n}=e.coords),l.findByCoordinates(i,n))).then(([e])=>u(e)?Promise.reject():(d=null,function(e,t,i){const n=[i.houseNumber,i.street].filter(e=>e).join(" ");return{countryCode:i.country,state:i.region,addressLine1:n,zipCode:i.postalCode,city:i.municipality,latitude:e,longitude:t}}(i,n,e))).catch(e=>{throw d=null,e})}(),d),getLocationByZipcode:(e,t)=>l.findByPostalCode(t,e).then(e=>u(e)?Promise.reject():{latitude:e.y,longitude:e.x})}},function(e,t,i){"use strict";var n=i(8),s=i.n(n);t.a={hitCounterUpdated:new s.a,pinResend:new s.a,userSessionChanged:new s.a,userSessionRemoved:new s.a}},function(e,t,i){"use strict";i.d(t,"b",(function(){return a})),i.d(t,"a",(function(){return o})),i.d(t,"c",(function(){return r}));var n=i(6),s=i(3);const a="MAPS",o="LI_CONNECTIONS",r="SKILL_RECOMMENDATION",l=["ORA_IRC_AUTO_CONFIRM_CANDIDATE_ENABLED","SMS_ENABLED_EXTERNAL_CANDIDATES","ORA_IRC_SAVE_AS_DRAFT_ENABLED","IRC_ELASTIC_SEARCH_ENABLED","ORA_IRC_KEEP_CANDIDATE_SIGNED_IN_ENABLED","IRC_CE_REST_LOG_LEVEL","ORA_IRC_CE_POST_RETRY_ENABLED","ORA_IRC_CE_SAVE_DRAFT_INTRVL","ORA_IRC_CE_APPLY_INTERSTITIAL_PAGE_ENABLED","ORA_IRC_MISC_ATTACH_FILE_TYPES","ORA_IRC_CE_USE_JERSEY_ENDPOINT_FOR_REQ_SEARCH","ORA_IRC_CE_VTURL_ADD_TIMESTAMP_HEADER","ORA_IRC_TC_ACTIVE_ATTRIBUTES","ORA_IRC_CE_XSS_VALIDATOR_DISABLED","ORA_IRC_CE_HTML_VALIDATOR_DISABLED"],c={baseUrl:s.a.ceBaseUrl};function d(e){return e.settings.forEach(e=>{-1===l.indexOf(e.settingKey)?console.warn("Unknown global setting - "+e.settingKey):s.a.setSettingByKey(e.settingKey,function(e){let t=e;return"Y"!==e&&"N"!==e||(t="Y"===e?"true":"false"),t}(e.settingValue))}),e}function u(e){return s.a.setSettingByKey(a,e.maps),e}function p(e){return s.a.setSettingByKey(o,e.liConnectionConfig),e}function h(e){return s.a.setSettingByKey(r,e.skillRecommendationConfig.recommendationEnabled),e}t.d={loadGlobalSettings:()=>n.a.get("/globalSettings",c).then(d).then(u).then(p).then(h).catch(e=>console.error(e))}},function(e,t,i){"use strict";i.d(t,"a",(function(){return c})),i.d(t,"b",(function(){return d}));var n=i(43),s=i(49),a=i(28),o=i(5),r=i(24),l=i(30);const c="unauthorized";function d(e){return n.a.extend().then(()=>Object(s.a)(e)).catch(()=>(Object(l.d)()||(o.a.destroy(),r.a.deactivate()),a.a.unauthorizedError.dispatch(),Promise.reject(c)))}},function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return s}));const n="WORK_LOCATIONS_DISPLAY",s={full:"full",zipCode:"zipCode",name:"name",none:"none",default:"full"}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,i){var n=i(47);e.exports=function(e){if(!n(e))throw TypeError(String(e)+" is not an object");return e}},function(e,t){var i={}.hasOwnProperty;e.exports=function(e,t){return i.call(e,t)}},function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i(5),s=i(27);var a=i(24);const o=new class{constructor({localSession:e,globalSession:t}){this._localSession=e,this._globalSession=t}get _instance(){return a.a.isEnabled()?this._globalSession:this._localSession}extend(){return a.a.isEnabled()||a.a.deactivate(),this._instance.extend()}async signOut(){await n.a.signOut().catch(console.error),this.cleanup()}async signOutAll(){await n.a.signOutAll().catch(console.error),this.cleanup()}cleanup(){this._instance.cleanup()}}({localSession:new class{extend(){return Promise.reject()}cleanup(){n.a.destroy(),s.b.clearUserTrackingCookie()}},globalSession:new class{async extend(){try{return a.a.isActive()?await n.a.extendAccess():Promise.reject()}catch(e){return this.cleanup(),Promise.reject(e.message||e)}}cleanup(){n.a.destroy(),a.a.deactivate(),s.b.clearUserTrackingCookie()}}})},function(e,t,i){"use strict";var n=i(8),s=i.n(n);t.a={alert:new s.a,status:new s.a}},function(e,t,i){var n=i(46),s=i(50),a=i(63);e.exports=n?function(e,t,i){return s.f(e,t,a(1,i))}:function(e,t,i){return e[t]=i,e}},function(e,t,i){var n=i(40);e.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,i){"use strict";i(12);const n=["CSS","HTML","URL","GPA"];function s(e){return e.replace(/[A-Z]+/g,(e,t)=>0===t?e.toLowerCase():e[0]+e.substr(1).toLowerCase())}function a(e){return e[0].toUpperCase()+e.substr(1)}function o(e){return a(function(e){const t=new RegExp(`(${n.join("|")})$`,"gi");return e.replace(t,e=>e.toUpperCase())}(e))}function r(e,t){const i=Array.isArray(e)?[]:{};return Object.keys(e).reduce((i,n)=>{const s=i,a=e[n];if(Array.isArray(a))s[n]=r(a,t);else{const e=t(n);s[e]=a&&"object"==typeof a?r(a,t):a}return s},i)}t.a={mapFromRest:e=>e&&"object"==typeof e?function(e){return r(e,s)}(function(e){const t=Array.isArray(e)?[]:{};return Object.keys(e).reduce((t,i)=>{const n=t,s=e[i];return null!==s&&""!==s&&(n[i]=s),n},t)}(e)):e,mapToRest(e,t=!0){return e&&"object"==typeof e?JSON.stringify(this.convertKeysToRestFormat(e,t)):e},convertKeysToRestFormat:function(e,t){return r(e,t?o:a)},toCamelCase:s}},function(e,t,i){"use strict";i.d(t,"b",(function(){return I})),i.d(t,"a",(function(){return C}));var n=i(23),s=i(54);var a={request:e=>new Promise((t,i)=>{const n=e;n.success=t,n.failure=i,function(e){const t=new XMLHttpRequest;t.open(e.method,e.url,!0),t.responseType=e.responseType||"",Object.keys(e.headers).forEach(i=>{t.setRequestHeader(i,e.headers[i])}),t.onload=()=>{const{status:i}=t;let n="response"in t?t.response:t.responseText;if(i>=200&&i<300||304===i){const i=t.getAllResponseHeaders().split("\n").reduce((e,t)=>{const i=t.indexOf(":"),n=t.substr(0,i).toLowerCase().trim(),s=t.substr(i+1).trim(),a=e;return a[n]=s,a},{});"0"!==i["content-length"]&&i["content-type"]&&i["content-type"].match(/^application\/.*json/)&&(n=JSON.parse(n)),e.success(n)}else e.failure({statusCode:t.status,response:n})},t.onerror=t.onabort=()=>{e.failure({statusCode:t.status})},t.send(e.body),setTimeout(()=>{t.abort()},e.timeout)}(n)})};i(4);function o(e){return window.fetch(e).catch(e=>{const t=function(e){return e instanceof DOMException&&20===e.code}(e)?"ABORTED":e;return Promise.reject(t)})}function r(e,t){const i=(n=t.timeout,new Promise(e=>{setTimeout(()=>{e({status:0,text:()=>Promise.resolve("Connection timeout")})},n)}));var n;const s=window.fetch(e);return Promise.race([i,s])}var l={request:e=>async function(e){const t=e;t.body||delete t.body;const i=new Request(t.url,t),n=t.signal?o:r,s=await n(i,t);return t.status=s.status,s instanceof Response&&s.ok?"0"!==(a=s.headers).get("Content-Length")&&a.get("Content-Type")&&a.get("Content-Type").match(/^application\/.*json/)?s.json():"arraybuffer"===t.responseType?s.arrayBuffer():s.text():Promise.reject({statusCode:s.status,response:await s.text()});var a}(e)};let c=0;function d(e){let t=`${e.url}?callback=${function({success:e,failure:t,timeout:i}){const n="__jsonCallbacks__"+c++;return window[n]=(()=>{const n=setTimeout(()=>{t({statusCode:400})},i);return t=>{clearTimeout(n),e(t)}})(),n}(e)}`;return e.body&&(t+="&"+function e(t){return Object.keys(t).reduce((i,n)=>{let s=t[n];return s&&"object"==typeof s&&(s=e(s)),i.push(`${n}=${s}`),i},[]).join("&")}(e.body)),t}var u={request:e=>new Promise((t,i)=>{const n=e;n.success=t,n.failure=i,function(e){const t=document.createElement("script");t.type="text/javascript",t.src=d(e),t.async=!0;let i=null;function n(s){clearTimeout(i),t.removeEventListener("load",n),t.removeEventListener("error",n),document.body.removeChild(t),"error"===s.type&&e.failure({statusCode:404})}i=setTimeout(()=>{n({type:"error"})},e.timeout),t.addEventListener("load",n),t.addEventListener("error",n),document.body.appendChild(t)}(n)})};const p=window.fetch?l:a;var h={getChannel:e=>"JSONP"===e?u:p},m=i(3);const b=["IRC_ROW_INCONSISTENT_EXCEPTION"];var f={shouldRetry:e=>"true"===m.a.getSettingByKey("ORA_IRC_CE_POST_RETRY_ENABLED")&&function({response:e}){return!!e&&b.includes(e)}(e)},g=i(86);const v={};var _={create(e){return"GET"===e.method?this._queue(e):this._standard(e)},_standard(e){return h.getChannel(e.method).request(e).catch(t=>e.retry?this._retry(e):f.shouldRetry(t)&&isNaN(e.retry)?(e.retry=3,this._retry(e)):Promise.reject(t))},async _retry(e){const t=e,i=Number(t.retry);if(t.retry=i-1,isNaN(t.retry))throw new Error('HTTP Request: parameter "retry" isNaN');return await Object(g.a)(1e3*Math.pow(2-i,2)),this._standard(t)},_queue(e){return e.url in v==!1&&(v[e.url]=this._standard(e).then(t=>(delete v[e.url],t)).catch(t=>{throw delete v[e.url],t})),v[e.url]}};const y={ORA_IRC_CAPTCHA_FAIL:441,ORA_IRC_DUPLICATE_SUBMISSION:409,ORA_IRC_INTERNAL_CANDIDATE:442,ORA_IRC_CAND_EXISTS:401,IRC_JOBOFR_NO:404,IRC_JOBOFR_UNAVAIL:404,IRC_ESIG_ERR:403,ORA_IRC_ESIGN_INVALID:403,JOBOFFER_REFUSED:410};function x(e){const t=e,i=t.response?function(e){let t=null;return Object.keys(y).some(i=>e.indexOf(i)>-1&&(t=y[i],!0)),t}(t.response):null;return i&&(t.statusCode=i),t}var w={manage(e,t){let i=e;(function(e){return 500===e.statusCode||404===e.statusCode})(i)&&(i=x(i));const s=i.statusCode;if(t.statusCodes&&s in t.statusCodes){let e=t.statusCodes[s].call(null,i,t);return e instanceof Promise||(e=Promise.reject(e)),e}return n.a.defaultErrorHandler.call(null,i,t)}},k=i(52);function I(e,t,i,a){const o=Object.assign({},n.a,n.a.getMethodConfig(i)),r=Object.assign({},n.a.headers),l=Object.assign({},n.a.statusCodes);let c=Object.assign(o,a);return c.url=s.a.interpolate(c.baseUrl+e,c.params,c.paramsDelimiter),c.body=t,c.method=i,c.headers=Object.assign(r,c.headers),c.statusCodes=Object.assign(l,c.statusCodes),c=c.transformRequest(c),C(c)}function C(e){let t=n.a.addAuthorizationHeader(e);return t=n.a.addUserTrackingHeader(t),t=n.a.addTimestampHeader(t),_.create(t).then(e=>(k.a.apply(e,t),e&&"arraybuffer"!==t.responseType?t.transformResponse(e):e)).catch(e=>(k.a.apply(e,t),w.manage(e,t)))}},function(e,t,i){var n=i(46),s=i(112),a=i(41),o=i(80),r=Object.defineProperty;t.f=n?r:function(e,t,i){if(a(e),t=o(t,!0),a(i),s)try{return r(e,t,i)}catch(e){}if("get"in i||"set"in i)throw TypeError("Accessors not supported");return"value"in i&&(e[t]=i.value),e}},function(e,t,i){var n=i(57),s=Math.min;e.exports=function(e){return e>0?s(n(e),9007199254740991):0}},function(e,t,i){"use strict";i(4);const n=[];t.a={add(e){n.push(e)},remove(e){const t=n.indexOf(e);n.splice(t,1)},has:e=>n.includes(e),apply(e,t){for(const i of n)i(e,t)}}},function(e,t,i){var n=i(31),s=i(45),a=i(42),o=i(94),r=i(119),l=i(58),c=l.get,d=l.enforce,u=String(String).split("String");(e.exports=function(e,t,i,r){var l=!!r&&!!r.unsafe,c=!!r&&!!r.enumerable,p=!!r&&!!r.noTargetGet;"function"==typeof i&&("string"!=typeof t||a(i,"name")||s(i,"name",t),d(i).source=u.join("string"==typeof t?t:"")),e!==n?(l?!p&&e[t]&&(c=!0):delete e[t],c?e[t]=i:s(e,t,i)):c?e[t]=i:o(t,i)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||r(this)}))},function(e,t,i){"use strict";i(12);t.a={interpolate(e,t,i){return Object.keys(t||{}).map(e=>({key:e,value:this.encode(t[e],i)})).reduce((e,t)=>e.replace(`:${t.key}:`,t.value),e)},encode(e,t){switch(typeof e){case"string":return this._encodeString(e);case"object":return this._encodeObject(e,t);default:return e}},_encodeString:e=>encodeURIComponent(e).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/~/g,"%7E"),_encodeObject(e,t){return Object.keys(e).filter(t=>e[t]).map(t=>`${t}=${this._encodeString(e[t])}`).join(t||"&")}}},function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));i(4);const n=new Map;function s(e,t=null,i=!1){if(n.has(e)&&!i)return n.get(e);const s=function(e,t){return new Promise((i,n)=>{const s=document.createElement("script");s.src=e,s.async=!0,s.defer=!0,s.onload=i,s.onerror=n,t&&(s.innerHTML=t),document.head.appendChild(s)})}(e,t);return n.set(e,s),s}},function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return s}));const n=/^(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/i,s=/^(?:(?:http|https|ftp):\/\/){1}[a-zA-Z0-9\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF\u0100-\u017F\-.]+\.[a-zA-Z]{2,3}(?::[a-zA-Z0-9]*)?\/?(?:[a-zA-Z0-9\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF\u0100-\u017F\-._?,'/\\+&amp;%$#=~{}])*$/i},function(e,t){var i=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:i)(e)}},function(e,t,i){var n,s,a,o=i(151),r=i(31),l=i(47),c=i(45),d=i(42),u=i(98),p=i(96),h=r.WeakMap;if(o){var m=new h,b=m.get,f=m.has,g=m.set;n=function(e,t){return g.call(m,e,t),t},s=function(e){return b.call(m,e)||{}},a=function(e){return f.call(m,e)}}else{var v=u("state");p[v]=!0,n=function(e,t){return c(e,v,t),t},s=function(e){return d(e,v)?e[v]:{}},a=function(e){return d(e,v)}}e.exports={set:n,get:s,has:a,enforce:function(e){return a(e)?s(e):n(e,{})},getterFor:function(e){return function(t){var i;if(!l(t)||(i=s(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return i}}}},function(e,t,i){var n=i(31),s=i(99).f,a=i(45),o=i(53),r=i(94),l=i(152),c=i(154);e.exports=function(e,t){var i,d,u,p,h,m=e.target,b=e.global,f=e.stat;if(i=b?n:f?n[m]||r(m,{}):(n[m]||{}).prototype)for(d in t){if(p=t[d],u=e.noTargetGet?(h=s(i,d))&&h.value:i[d],!c(b?d:m+(f?".":"#")+d,e.forced)&&void 0!==u){if(typeof p==typeof u)continue;l(p,u)}(e.sham||u&&u.sham)&&a(p,"sham",!0),o(i,d,p,e)}}},function(e,t,i){var n=i(79);e.exports=function(e){return Object(n(e))}},function(e,t,i){var n,s,a;s=[i(17)],void 0===(a="function"==typeof(n=function(e){return e.ui=e.ui||{},e.ui.version="1.12.1"})?n.apply(t,s):n)||(e.exports=a)},function(e,t,i){"use strict";var n=i(64);class s extends n.a{_getStorageHandler(){return window.localStorage}}const a=new s;t.a=a},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));class n{exists(e){return Boolean(this._getStorageHandler().getItem(e))}store(e,t){try{this._getStorageHandler().setItem(e,JSON.stringify(t))}catch(e){console.error(e)}return this}restore(e){const t=this._getStorageHandler();return JSON.parse(t.getItem(e))}remove(e){return this._getStorageHandler().removeItem(e),this}verify(e,t){return JSON.stringify(this.restore(e))===JSON.stringify(t)||this._handleStoreError()}_handleStoreError(e){throw this.remove(e),new Error("Storage store verification error")}_getStorageHandler(){throw new TypeError("This method should be overriden")}}},function(e,t,i){"use strict";function n(){return Intl.DateTimeFormat().resolvedOptions().timeZone}i.d(t,"a",(function(){return n}))},function(e,t,i){"use strict";i.d(t,"a",(function(){return p}));i(12),i(4);var n=i(0),s=i.n(n),a=i(76),o=i(3),r=i(1),l=i(11),c=i(44);class d{constructor(){this._siteName=o.a.siteName,this._routeTitle=null,this._pageTitleUpdateEvent=l.a.pageTitleUpdate.add(e=>this.setTitleWithTemplate(e))}_resolvePageTitle(e){return this._siteName?[this._routeTitle,e,`${this._siteName} ${Object(r.a)("general.title.ending")}`].filter(e=>Boolean(e)).join(" - "):"Setup: Configure Career Site - Setup and Maintenance - Oracle Applications"}setTitle(e){document.title=e,c.a.status.dispatch(Object(r.a)("general.a11y.page-loaded",{pageTitle:e}))}setTitleWithTemplate(e){const t=this._resolvePageTitle(e);this.setTitle(t)}setRouteTitle(e){this._routeTitle=e}dispose(){this._pageTitleUpdateEvent.detach()}}var u=i(33);"baseURI"in document||(document.baseURI=(()=>{const[e]=document.getElementsByTagName("base");if(e)return e.href;console.error("<base> tag in <head> section is missing.")})());class p{constructor(e){this.name=e,this._routes=[],this._defaultRoute=a.a.createEmpty(),this._pageTitle=new d,this.route=s.a.observable(this._defaultRoute),this.routeParams=s.a.observable({})}configure(e){Object.keys(e).forEach(t=>{const i=e[t],n=this._createRoute(t,i);this.addRoute(n)})}_createRoute(e,t){const i=this._resolveParentRoute(t);return new a.a(e,t,i)}addRoute(e){e.isDefault&&(this._defaultRoute=e),this._routes.push(e)}_resolveParentRoute(e){return e.parent?this.getRoute(e.parent):null}getRoute(e){return s.a.utils.arrayFirst(this._routes,t=>t.id===e)}_getUrl(){const e=document.baseURI.replace(/\/$/,"");if(-1===window.location.href.indexOf(e))throw new Error("Route doesn't match baseURI");const t=window.location.href.replace(e,""),[i]=t.split("#");return i}_setUrl(e){if(-1!==e.indexOf("//"))window.location.assign(e);else{const t=`${document.baseURI.replace(/\/$/,"")}${e}`;window.history.pushState({},"",t)}}sync(){window.addEventListener("popstate",this._parseUrl.bind(this)),this._parseUrl()}_parseUrl(){const e=this._getUrl(),t=this._getMatchingRoute(e)||this._defaultRoute,i=t.getParamsFromUrl(e);return this._transitionTo(t,i)}_getMatchingRoute(e){return s.a.utils.arrayFirst(this._routes,t=>!t.isAbstract&&t.match(e))}_transitionTo(e,t){const i=this.route(),n=this.routeParams();return Promise.resolve().then(i.canExit.bind(i,n,e.id,t)).then(e.canEnter.bind(e,t,i.id,i)).then(i.exit.bind(i,n,e.id,t)).then(this._setTitle.bind(this,e)).then(e.enter.bind(e,t,i.id,i)).then(()=>(this._update(e,t),Promise.resolve())).catch(e=>{if(e)if("redirectTo"in e){let i=t;e.redirectParams&&(i={...t,...e.redirectParams}),this._redirect(e.redirectTo,i)}else console.error("Router Exception:"+e);Promise.reject(e)})}_setTitle(e){this._pageTitle.setRouteTitle(e.title),e.bareTitle?this._pageTitle.setTitle(e.bareTitle):this._pageTitle.setTitleWithTemplate()}_update(e,t){let i=s.a.toJS(t);i=u.a.decode(i),this.route(e),this.routeParams(i)}_redirect(e,t){this.go(e,t,{encode:!1})}interpolate(e,t,i){const n=this.getRoute(e);if(!n)return"";const s=this._getRouteParams(t,i);return n.interpolate(s)}_getRouteParams(e={},t){let i=e,n=!0,a=!0;if(t&&(void 0!==t.inherit&&(n=t.inherit),void 0!==t.encode&&(a=t.encode)),n){const e=Object.assign({},this.routeParams());(e.query||i.query)&&(i.query=Object.assign({},e.query,i.query)),i=Object.assign(e,i)}if(a){const{query:e,...t}=s.a.toJS(i);i={...u.a.encode(t),query:u.a.encodeQueryParams(e)}}return i}go(e,t,i){const n=this.getRoute(e);if(!n)return Promise.reject("Route does not exists");const s=this._getRouteParams(t,i),a=!(i&&!1===i.transition);return Promise.resolve().then(()=>a?this._transitionTo(n,s):this._update(n,s)).then(()=>this._setUrl(decodeURI(n.interpolate(s))))}redirect(e){window.location.href=e}isActive(e){return this.route().is(e)}}},function(e,t,i){"use strict";var n=i(3),s=i(22),a=i(14);const o=n.a.siteNumber+"_cookieAccept";t.a={hasUserAgreed:()=>"true"===s.a.get(o),accept(){s.a.set(o,"true",{days:7}),a.i[a.g].dispatch()},decline(){s.a.remove(o),a.i[a.h].dispatch()},isCookieAllowed(){const{cookieConsent:e}=n.a;if(!e)return!1;const{cookieMessageEnabled:t}=e;return!t||"true"===s.a.get(o)}}},function(e,t){e.exports=!1},function(e,t,i){var n=i(150),s=i(31),a=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?a(n[e])||a(s[e]):n[e]&&n[e][t]||s[e]&&s[e][t]}},function(e,t){e.exports={}},function(e,t,i){var n=i(50).f,s=i(42),a=i(32)("toStringTag");e.exports=function(e,t,i){e&&!s(e=i?e:e.prototype,a)&&n(e,a,{configurable:!0,value:t})}},function(e,t,i){var n=i(41),s=i(156);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,i={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(i,[]),t=i instanceof Array}catch(e){}return function(i,a){return n(i),s(a),t?e.call(i,a):i.__proto__=a,i}}():void 0)},function(e,t,i){var n=i(83);e.exports=function(e,t,i){if(n(e),void 0===t)return e;switch(i){case 0:return function(){return e.call(t)};case 1:return function(i){return e.call(t,i)};case 2:return function(i,n){return e.call(t,i,n)};case 3:return function(i,n,s){return e.call(t,i,n,s)}}return function(){return e.apply(t,arguments)}}},function(e,t,i){var n=i(85),s=i(70),a=i(32)("iterator");e.exports=function(e){if(null!=e)return e[a]||e["@@iterator"]||s[n(e)]}},function(e,t,i){"use strict";function n(e){return"string"==typeof e?e:e&&e.countryCode?`${e.countryCode}${e.areaCode}${e.number}`:""}i.d(t,"a",(function(){return n}))},function(e,t,i){"use strict";i.d(t,"a",(function(){return d}));i(12),i(4);var n=i(0),s=i.n(n),a=i(108);const o=i.n(a).a.patternLexer;function r(e){const t=e.indexOf("//");if(-1!==t){const i=e.indexOf("/",t+2);return e.substr(0,i)}return""}function l(e){const t=r(e);return e.replace(t,"")}var c=Object.create(o,{getParamIds:{value:e=>o.getParamIds(l(e))},getOptionalParamsIds:{value:e=>o.getOptionalParamsIds(l(e))},compilePattern:{value:(e,t)=>o.compilePattern(l(e),t)},interpolate:{value:(e,t)=>r(e)+o.interpolate(l(e),t)}});class d{constructor(e,t,i){this.id=e,this.isAbstract=Boolean(t.abstract),this.title=t.title,this.bareTitle=t.bareTitle,this._view=t.view,this.parent=i,this.transition=t.transition,this.isDefault=t.isDefault,this.url=this._composeUrl(t.url,i&&i.url),this._rules=t.rules||{},this._patternLexer=c,this._paramsIds=this._patternLexer.getParamIds(this.url),this._pattern=this._patternLexer.compilePattern(this.url),this.isNewScreen=!t.isNotNewScreen,this._callbacks={canEnter:t.canEnter,canExit:t.canExit,enter:t.enter,exit:t.exit}}static createEmpty(){return new d("empty",{})}_composeUrl(e,t){let i=e||"",n=t||"";if(n){const e=n.match(d.QUERY_PARAM_REGEXP),t=e&&e.toString();t&&(i+=t,n=n.replace(t,""))}return n+i}hasParent(){return Boolean(this.parent)}getParent(){return this.parent}match(e){return this._pattern.test(e)&&this._paramsMatchRules(e)}_paramsMatchRules(e){const t=this.getParamsFromUrl(e);return Object.keys(this._rules).filter(e=>e in t).every(e=>{const i=t[e];return this._rules[e].test(i)})}is(e){return this.id===e||this.hasParent()&&this.parent.is(e)}getParamsFromUrl(e){const t=this._patternLexer.getParamValues(e,this._pattern);return this._paramsIds.reduce((e,i,n)=>{const s=e,a=t[n];if(a)if(0===i.indexOf("?")){s[i.substr(1)]=this._getQueryStringMap(a)}else s[i]=a;return s},{})}_getQueryStringMap(e){return e.replace("?","").split("&").reduce((e,t)=>{const i=t.split("="),[n,s]=i,a=e;return a[n]=s,a},{})}view(){let e=s.a.utils.extend({},this._view);if(this.hasParent()){const t=this.getParent().view();e=s.a.utils.extend(t,e)}return e}interpolate(e){return this._patternLexer.interpolate(this.url,e)}canEnter(...e){return this._getCallback("canEnter",...e)}canExit(...e){return this._getCallback("canExit",...e)}context(){return this._getCallback("context")}enter(...e){return this._getCallback("enter",...e)}exit(...e){return this._getCallback("exit",...e)}_getCallback(e,...t){let i=Promise.resolve();if(this.hasParent()){const n=this.getParent(),s=n[e];i=i.then(s.bind(n,...t))}const n=this._callbacks[e];return n&&(i=i.then(n.bind(this,...t))),i}}d.QUERY_PARAM_REGEXP=/:\?[^:]+:/},function(e,t,i){var n=i(93),s=i(79);e.exports=function(e){return n(s(e))}},function(e,t){var i={}.toString;e.exports=function(e){return i.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},function(e,t,i){var n=i(47);e.exports=function(e,t){if(!n(e))return e;var i,s;if(t&&"function"==typeof(i=e.toString)&&!n(s=i.call(e)))return s;if("function"==typeof(i=e.valueOf)&&!n(s=i.call(e)))return s;if(!t&&"function"==typeof(i=e.toString)&&!n(s=i.call(e)))return s;throw TypeError("Can't convert object to primitive value")}},function(e,t,i){var n,s=i(41),a=i(115),o=i(97),r=i(96),l=i(149),c=i(113),d=i(98),u=d("IE_PROTO"),p=function(){},h=function(e){return"<script>"+e+"<\/script>"},m=function(){try{n=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;m=n?function(e){e.write(h("")),e.close();var t=e.parentWindow.Object;return e=null,t}(n):((t=c("iframe")).style.display="none",l.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(h("document.F=Object")),e.close(),e.F);for(var i=o.length;i--;)delete m.prototype[o[i]];return m()};r[u]=!0,e.exports=Object.create||function(e,t){var i;return null!==e?(p.prototype=s(e),i=new p,p.prototype=null,i[u]=e):i=m(),void 0===t?i:a(i,t)}},function(e,t,i){var n=i(42),s=i(60),a=i(98),o=i(155),r=a("IE_PROTO"),l=Object.prototype;e.exports=o?Object.getPrototypeOf:function(e){return e=s(e),n(e,r)?e[r]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?l:null}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},function(e,t){e.exports=function(e,t,i){if(!(e instanceof t))throw TypeError("Incorrect "+(i?i+" ":"")+"invocation");return e}},function(e,t,i){var n=i(170),s=i(78),a=i(32)("toStringTag"),o="Arguments"==s(function(){return arguments}());e.exports=n?s:function(e){var t,i,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(i=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),a))?i:o?s(t):"Object"==(n=s(t))&&"function"==typeof t.callee?"Arguments":n}},function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));function n(e){return new Promise(t=>setTimeout(t,e||500))}},function(e,t,i){"use strict";i(4);var n=i(6),s=i(3);const a={};function o(e){Object.assign(a,e)}async function r(e){const t=e.filter(e=>!function(e){return Boolean(a[e])}(e));if(t.length)try{(await function(e){const t=e.map(e=>n.a.get("/translations?language="+e,{baseUrl:s.a.ceBaseUrl,transformResponse:e=>e}));return Promise.all(t)}(t)).forEach(o)}catch(e){console.error(e)}}t.a={TRANSLATIONS:a,init:async function(){const e=[...s.a.languages.map(({code:e})=>e),document.documentElement.lang].filter(Boolean),t=[...new Set(e)];return await r(t)},ensure:r,getResource:function(e,t){return e.toLowerCase().split(".").reduce((e,t)=>e&&e[t],a[t])}}},function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));i(12),i(4);var n=i(66),s=i(3);class a extends n.a{constructor(e){super(e),this.name=e}_getUrl(){const[,e]=window.location.href.split("#");return e?e.replace(this._getLangSiteUrlPattern(),""):""}_setUrl(e){e.includes("//")?window.location.assign(e):window.history.pushState({},"",this._newUrl(e))}_newUrl(e){return("#"+this._getLangSiteUrlPattern()).concat(e)}_getLangSiteUrlPattern(){const{siteLang:e,siteNumber:t}=s.a;return`${e}/sites/${t}`}redirect(e){window.location.href=e,e.startsWith(s.a.vanityBaseUrl)&&window.location.reload(!0)}}},function(e,t,i){"use strict";var n=i(8),s=i.n(n);t.a={openPanel:new s.a,closePanel:new s.a,jobDetailsClosed:new s.a,favouriteJobsSet:new s.a}},function(e,t,i){"use strict";i(34);var n=i(3),s=i(1),a=i(91),o=i.n(a);function r(e){const t=Object.assign({},e);return delete t.initUserHiddenMessage,Object.keys(t).forEach(e=>{const i=t[e];"object"==typeof i&&null!==i?t[e]=r(i):null!=i&&""!==i||delete t[e]}),t}i(4),i(126);var l=i(2),c=i(5),d=i(56);var u={buttonClickHandler:function(e){var t;const{href:i}=null!==(t=e.target)&&void 0!==t?t:{};if(!i)return;const s=p(i);if(!s)return;const a=function(e){const{hostname:t,href:i}=e,s=p(window.VanityUrlEnabled?n.a.vanityBaseUrl:n.a.ceBaseUrl);return window.VanityUrlEnabled?i.includes(null==s?void 0:s.href):t===(null==s?void 0:s.hostname)}(s);if(a&&i.includes("job"))e.preventDefault(),function(e){const{href:t}=e.target;if(t.includes("apply"))window.open(t,"_blank");else{const e=decodeURIComponent(t.split("/").pop());l.a.go("job-details",{jobId:e})}}(e);else if(a&&i.includes("interview")){e.preventDefault();const t=s.searchParams.get("submissionId"),i=s.pathname.split("/").pop();t&&i&&c.a.isCandidateVerified()?l.a.go("interview-detail",{id:i,submissionId:t}):l.a.go("candidate-self-service.sign-in")}else a&&i.includes("my-profile/sign-in")?(e.preventDefault(),l.a.go("candidate-self-service.sign-in")):a&&i.includes("tc-join")&&(e.preventDefault(),l.a.go("talent-community"))},beforeSendHandler:function(e,t,i){return function(e){var t;const{accessCode:i,candidateNumber:n}=null!==(t=c.a.get())&&void 0!==t?t:{};Object.assign(e,{accessCode:i,candidateNumber:n})}(i),t.updateUser({profile:{properties:i}}),e}};function p(e){return d.b.test(e)?new URL(e):null}var h=i(9),m=i(35),b=i(65);const f={siteNumber:n.a.siteNumber,faEndpoint:n.a.apiBaseUrl,deepLink:n.a.vanityBaseUrl},g={beforeSend:e=>u.beforeSendHandler(e,window.bots,f)};async function v(){n.a.chatbot&&"Y"===n.a.getSettingByKey("CHATBOT_ENABLED")&&function(){const{URI:e,chatServerURI:t}=n.a.chatbot;return e||t}()&&n.a.chatbot.channelId&&(h.a.remove("ceBot"),setTimeout(async()=>{const{botsConfig:e,welcomeMessage:t}=function(){const e={URI:n.a.chatbot.chatServerURI,speechLocale:o.a.SPEECH_LOCALE.EN_US,theme:o.a.THEME.REDWOOD_DARK,i18n:{en:{chatTitle:Object(s.a)("chatbot.messenger.header",{company_name:n.a.siteName}),chatSubtitle:Object(s.a)("chatbot.messenger.welcome-message"),inputPlaceholder:Object(s.a)("chatbot.messenger.send.placeholder")}},linkHandler:{onclick:e=>{u.buttonClickHandler(e)}},initUserProfile:{profile:{timezoneOffset:60*(new Date).getTimezoneOffset()*1e3,timezoneOffsetStr:Object(b.a)()}}};return{welcomeMessage:n.a.chatbot.initUserHiddenMessage,botsConfig:r(Object.assign({},e,n.a.chatbot))}}(),i=new o.a(e);i.setDelegate(g),document.body.setAttribute("data-chatbot-ready",!0);try{await i.connect();(i.isChatOpened()?_.bind(this):y.bind(this))(i,t),window.bots=i}catch(e){console.error("Bot initialization failed"),console.error(e)}}))}function _(e,t){const i=h.a.restore("ceBot");i&&i.greeted||m.a.query().then(e=>{f.userLocation=JSON.stringify(e)}).finally(()=>{!function(e,t,i){e.updateUser({profile:{properties:t}}),i&&e.sendMessage(i,{hidden:!0});h.a.store("ceBot",{greeted:!0})}(e,f,t)})}function y(e,t){e.off(),e.on("widget:opened",_.bind(null,e,t))}t.a={init:v,reload:function(){window.bots&&window.bots.destroy(),v()}}},function(e,t){e.exports=a},function(e){e.exports=JSON.parse('{"id":"UXCA01","title":"UX Designer","jobShift":"Full time","description":"<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla sit amet nisl tempus, porta enim non, sollicitudin dolor. Aliquam eu sollicitudin dolor. Duis turpis enim, elementum non leo in, sagittis porta lacus.</p><br><p>Nulla sodales, quam eu iaculis aliquam, dolor ipsum vulputate erat, id laoreet leo ex a arcu.<ul><li>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</li><li>Nulla sit amet nisl tempus, porta enim non, sollicitudin dolor.</li><li>Aliquam eu sollicitudin dolor.</li><li>Duis turpis enim, elementum non leo in, sagittis porta lacus.</li></ul><br></p><p>Nulla sodales, quam eu iaculis aliquam, dolor ipsum vulputate erat, id laoreet leo ex a arcu.</p>","organizationDescriptionStr":"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla sit amet nisl tempus, porta enim non, sollicitudin dolor. Aliquam eu sollicitudin dolor. Duis turpis enim, elementum non leo in, sagittis porta lacus. Nulla sodales, quam eu iaculis aliquam, dolor ipsum vulputate erat, id laoreet leo ex a arcu.","corporateDescriptionStr":"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla sit amet nisl tempus, porta enim non, sollicitudin dolor. Aliquam eu sollicitudin dolor. Duis turpis enim, elementum non leo in, sagittis porta lacus. Nulla sodales, quam eu iaculis aliquam, dolor ipsum vulputate erat, id laoreet leo ex a arcu.","category":"Design","primaryLocation":"Redwood Shores, CA, United States","secondaryLocations":[],"media":[],"shortDescription":"","organizationDescription":"<p>Commodo quis imperdiet massa tincidunt nunc.</p><br><p>Faucibus interdum posuere lorem ipsum dolor. Sed felis eget velit aliquet sagittis id consectetur purus ut. Ipsum nunc aliquet bibendum enim facilisis gravida neque convallis a. Non curabitur gravida arcu ac. Eget dolor morbi non arcu risus quis varius quam.</p><br><p>Enim ut tellus elementum sagittis vitae. Natoque penatibus et magnis dis parturient montes nascetur ridiculus mus. Rhoncus mattis rhoncus urna neque. Curabitur vitae nunc sed velit dignissim sodales. Porttitor eget dolor morbi non arcu risus quis varius. Dictum fusce ut placerat orci nulla pellentesque dignissim enim. Viverra adipiscing at in tellus integer feugiat. Suscipit tellus mauris a diam maecenas sed enim ut sem.</p>","corporateDescription":"<p>Nulla sit amet nisl tempus, porta enim non, sollicitudin dolor. Aliquam eu sollicitudin dolor. Duis turpis enim, elementum non leo in, sagittis porta lacus. Nulla sodales, quam eu iaculis aliquam, dolor ipsum vulputate erat, id laoreet leo ex a arcu.</p><p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Accumsan tortor posuere ac ut consequat.</p><br><p>Urna condimentum mattis pellentesque id nibh tortor. At varius vel pharetra vel turpis. Consequat semper viverra nam libero justo laoreet. Varius quam quisque id diam vel quam elementum. Turpis egestas maecenas pharetra convallis posuere. Turpis massa tincidunt dui ut ornare lectus sit. Augue ut lectus arcu bibendum at. Arcu odio ut sem nulla pharetra diam sit amet nisl. In dictum non consectetur a erat.</p>","requisitionFlexFields":[]}')},function(e,t,i){var n=i(40),s=i(78),a="".split;e.exports=n((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==s(e)?a.call(e,""):Object(e)}:Object},function(e,t,i){var n=i(31),s=i(45);e.exports=function(e,t){try{s(n,e,t)}catch(i){n[e]=t}return t}},function(e,t){var i=0,n=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++i+n).toString(36)}},function(e,t){e.exports={}},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t,i){var n=i(110),s=i(95),a=n("keys");e.exports=function(e){return a[e]||(a[e]=s(e))}},function(e,t,i){var n=i(46),s=i(121),a=i(63),o=i(77),r=i(80),l=i(42),c=i(112),d=Object.getOwnPropertyDescriptor;t.f=n?d:function(e,t){if(e=o(e),t=r(t,!0),c)try{return d(e,t)}catch(e){}if(l(e,t))return a(!s.f.call(e,t),e[t])}},function(e,t,i){var n=i(117),s=i(97).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,s)}},function(e,t,i){"use strict";var n,s,a=i(159),o=i(160),r=RegExp.prototype.exec,l=String.prototype.replace,c=r,d=(n=/a/,s=/b*/g,r.call(n,"a"),r.call(s,"a"),0!==n.lastIndex||0!==s.lastIndex),u=o.UNSUPPORTED_Y||o.BROKEN_CARET,p=void 0!==/()??/.exec("")[1];(d||p||u)&&(c=function(e){var t,i,n,s,o=this,c=u&&o.sticky,h=a.call(o),m=o.source,b=0,f=e;return c&&(-1===(h=h.replace("y","")).indexOf("g")&&(h+="g"),f=String(e).slice(o.lastIndex),o.lastIndex>0&&(!o.multiline||o.multiline&&"\n"!==e[o.lastIndex-1])&&(m="(?: "+m+")",f=" "+f,b++),i=new RegExp("^(?:"+m+")",h)),p&&(i=new RegExp("^"+m+"$(?!\\s)",h)),d&&(t=o.lastIndex),n=r.call(c?i:o,f),c?n?(n.input=n.input.slice(b),n[0]=n[0].slice(b),n.index=o.lastIndex,o.lastIndex+=n[0].length):o.lastIndex=0:d&&n&&(o.lastIndex=o.global?n.index+n[0].length:t),p&&n&&n.length>1&&l.call(n[0],i,(function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(n[s]=void 0)})),n}),e.exports=c},function(e,t,i){var n=i(57),s=i(79),a=function(e){return function(t,i){var a,o,r=String(s(t)),l=n(i),c=r.length;return l<0||l>=c?e?"":void 0:(a=r.charCodeAt(l))<55296||a>56319||l+1===c||(o=r.charCodeAt(l+1))<56320||o>57343?e?r.charAt(l):a:e?r.slice(l,l+2):o-56320+(a-55296<<10)+65536}};e.exports={codeAt:a(!1),charAt:a(!0)}},function(e,t,i){var n=i(32),s=i(70),a=n("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(s.Array===e||o[a]===e)}},function(e,t){e.exports=o},function(e,t,i){"use strict";var n,s=i(138),a=i(46),o=i(31),r=i(47),l=i(42),c=i(85),d=i(45),u=i(53),p=i(50).f,h=i(82),m=i(72),b=i(32),f=i(95),g=o.Int8Array,v=g&&g.prototype,_=o.Uint8ClampedArray,y=_&&_.prototype,x=g&&h(g),w=v&&h(v),k=Object.prototype,I=k.isPrototypeOf,C=b("toStringTag"),S=f("TYPED_ARRAY_TAG"),E=s&&!!m&&"Opera"!==c(o.opera),O=!1,A={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},P=function(e){return r(e)&&l(A,c(e))};for(n in A)o[n]||(E=!1);if((!E||"function"!=typeof x||x===Function.prototype)&&(x=function(){throw TypeError("Incorrect invocation")},E))for(n in A)o[n]&&m(o[n],x);if((!E||!w||w===k)&&(w=x.prototype,E))for(n in A)o[n]&&m(o[n].prototype,w);if(E&&h(y)!==w&&m(y,w),a&&!l(w,C))for(n in O=!0,p(w,C,{get:function(){return r(this)?this[S]:void 0}}),A)o[n]&&d(o[n],S,n);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:E,TYPED_ARRAY_TAG:O&&S,aTypedArray:function(e){if(P(e))return e;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(e){if(m){if(I.call(x,e))return e}else for(var t in A)if(l(A,n)){var i=o[t];if(i&&(e===i||I.call(i,e)))return e}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(e,t,i){if(a){if(i)for(var n in A){var s=o[n];s&&l(s.prototype,e)&&delete s.prototype[e]}w[e]&&!i||u(w,e,i?t:E&&v[e]||t)}},exportTypedArrayStaticMethod:function(e,t,i){var n,s;if(a){if(m){if(i)for(n in A)(s=o[n])&&l(s,e)&&delete s[e];if(x[e]&&!i)return;try{return u(x,e,i?t:E&&g[e]||t)}catch(e){}}for(n in A)!(s=o[n])||s[e]&&!i||u(s,e,t)}},isView:function(e){var t=c(e);return"DataView"===t||l(A,t)},isTypedArray:P,TypedArray:x,TypedArrayPrototype:w}},function(e,t){e.exports=r},function(e,t,i){i(211)},function(e,t,i){var n,s,a;
/** @license
 * crossroads <http://millermedeiros.github.com/crossroads.js/>
 * Author: Miller Medeiros | MIT License
 * v0.12.0 (2013/01/21 13:47)
 */s=[i(8)],void 0===(a="function"==typeof(n=function(e){function t(e,t){if(e.indexOf)return e.indexOf(t);for(var i=e.length;i--;)if(e[i]===t)return i;return-1}function i(e,i){var n=t(e,i);-1!==n&&e.splice(n,1)}function n(e,t){return"[object "+t+"]"===Object.prototype.toString.call(e)}function s(e){return n(e,"RegExp")}function a(e){return n(e,"Array")}function o(e){return"function"==typeof e}function r(e){return null===e||"null"===e?null:"true"===e||"false"!==e&&(e===m||"undefined"===e?m:""===e||isNaN(e)?e:parseFloat(e))}function l(e){for(var t=e.length,i=[];t--;)i[t]=r(e[t]);return i}function c(e,t){for(var i,n,s=(e||"").replace("?","").split("&"),a=s.length,o={};a--;)i=s[a].split("="),n=t?r(i[1]):i[1],o[i[0]]="string"==typeof n?decodeURIComponent(n):n;return o}function d(){this.bypassed=new e.Signal,this.routed=new e.Signal,this._routes=[],this._prevRoutes=[],this._piped=[],this.resetState()}function u(t,i,n,a){var o=s(t),r=a.patternLexer;this._router=a,this._pattern=t,this._paramsIds=o?null:r.getParamIds(t),this._optionalParamsIds=o?null:r.getOptionalParamsIds(t),this._matchRegexp=o?t:r.compilePattern(t,a.ignoreCase),this.matched=new e.Signal,this.switched=new e.Signal,i&&this.matched.add(i),this._priority=n||0}var p,h,m;return h=""===/t(.+)?/.exec("t")[1],d.prototype={greedy:!1,greedyEnabled:!0,ignoreCase:!0,ignoreState:!1,shouldTypecast:!1,normalizeFn:null,resetState:function(){this._prevRoutes.length=0,this._prevMatchedRequest=null,this._prevBypassedRequest=null},create:function(){return new d},addRoute:function(e,t,i){var n=new u(e,t,i,this);return this._sortedInsert(n),n},removeRoute:function(e){i(this._routes,e),e._destroy()},removeAllRoutes:function(){for(var e=this.getNumRoutes();e--;)this._routes[e]._destroy();this._routes.length=0},parse:function(e,t){if(e=e||"",t=t||[],this.ignoreState||e!==this._prevMatchedRequest&&e!==this._prevBypassedRequest){var i,n=this._getMatchedRoutes(e),s=0,a=n.length;if(a)for(this._prevMatchedRequest=e,this._notifyPrevRoutes(n,e),this._prevRoutes=n;s<a;)(i=n[s]).route.matched.dispatch.apply(i.route.matched,t.concat(i.params)),i.isFirst=!s,this.routed.dispatch.apply(this.routed,t.concat([e,i])),s+=1;else this._prevBypassedRequest=e,this.bypassed.dispatch.apply(this.bypassed,t.concat([e]));this._pipeParse(e,t)}},_notifyPrevRoutes:function(e,t){for(var i,n=0;i=this._prevRoutes[n++];)i.route.switched&&this._didSwitch(i.route,e)&&i.route.switched.dispatch(t)},_didSwitch:function(e,t){for(var i,n=0;i=t[n++];)if(i.route===e)return!1;return!0},_pipeParse:function(e,t){for(var i,n=0;i=this._piped[n++];)i.parse(e,t)},getNumRoutes:function(){return this._routes.length},_sortedInsert:function(e){var t=this._routes,i=t.length;do{--i}while(t[i]&&e._priority<=t[i]._priority);t.splice(i+1,0,e)},_getMatchedRoutes:function(e){for(var t,i=[],n=this._routes,s=n.length;(t=n[--s])&&((!i.length||this.greedy||t.greedy)&&t.match(e)&&i.push({route:t,params:t._getParamsArray(e)}),this.greedyEnabled||!i.length););return i},pipe:function(e){this._piped.push(e)},unpipe:function(e){i(this._piped,e)},toString:function(){return"[crossroads numRoutes:"+this.getNumRoutes()+"]"}},(p=new d).VERSION="0.12.0",p.NORM_AS_ARRAY=function(e,t){return[t.vals_]},p.NORM_AS_OBJECT=function(e,t){return[t]},u.prototype={greedy:!1,rules:void 0,match:function(e){return e=e||"",this._matchRegexp.test(e)&&this._validateParams(e)},_validateParams:function(e){var t,i=this.rules,n=this._getParamsObject(e);for(t in i)if("normalize_"!==t&&i.hasOwnProperty(t)&&!this._isValidParam(e,t,n))return!1;return!0},_isValidParam:function(e,i,n){var r=this.rules[i],l=n[i],c=!1,d=0===i.indexOf("?");return null==l&&this._optionalParamsIds&&-1!==t(this._optionalParamsIds,i)?c=!0:s(r)?(d&&(l=n[i+"_"]),c=r.test(l)):a(r)?(d&&(l=n[i+"_"]),c=this._isValidArrayRule(r,l)):o(r)&&(c=r(l,e,n)),c},_isValidArrayRule:function(e,i){if(!this._router.ignoreCase)return-1!==t(e,i);"string"==typeof i&&(i=i.toLowerCase());for(var n,s=e.length;s--;)if(("string"==typeof(n=e[s])?n.toLowerCase():n)===i)return!0;return!1},_getParamsObject:function(e){for(var i,n,s=this._router.shouldTypecast,a=this._router.patternLexer.getParamValues(e,this._matchRegexp,s),o={},l=a.length;l--;)n=a[l],this._paramsIds&&(0===(i=this._paramsIds[l]).indexOf("?")&&n&&(o[i+"_"]=n,n=c(n,s),a[l]=n),h&&""===n&&-1!==t(this._optionalParamsIds,i)&&(n=void 0,a[l]=n),o[i]=n),o[l]=n;return o.request_=s?r(e):e,o.vals_=a,o},_getParamsArray:function(e){var t=this.rules?this.rules.normalize_:null;return(t=t||this._router.normalizeFn)&&o(t)?t(e,this._getParamsObject(e)):this._getParamsObject(e).vals_},interpolate:function(e){var t=this._router.patternLexer.interpolate(this._pattern,e);if(!this._validateParams(t))throw new Error("Generated string doesn't validate against `Route.rules`.");return t},dispose:function(){this._router.removeRoute(this)},_destroy:function(){this.matched.dispose(),this.switched.dispose(),this.matched=this.switched=this._pattern=this._matchRegexp=null},toString:function(){return'[Route pattern:"'+this._pattern+'", numListeners:'+this.matched.getNumListeners()+"]"}},d.prototype.patternLexer=function(){function e(e,t){var i,n=[];for(e.lastIndex=0;i=e.exec(t);)n.push(i[1]);return n}function t(e,t,i){var n,s;for(s in o)o.hasOwnProperty(s)&&(n=o[s],e=e.replace(n[t],n[i]));return e}var i=/[\\.+*?\^$\[\](){}\/'#]/g,n=/^\/|\/$/g,s=/\/$/g,a=/(?:\{|:)([^}:]+)(?:\}|:)/g,o={OS:{rgx:/([:}]|\w(?=\/))\/?(:|(?:\{\?))/g,save:"$1{{id}}$2",res:"\\/?"},RS:{rgx:/([:}])\/?(\{)/g,save:"$1{{id}}$2",res:"\\/"},RQ:{rgx:/\{\?([^}]+)\}/g,res:"\\?([^#]+)"},OQ:{rgx:/:\?([^:]+):/g,res:"(?:\\?([^#]*))?"},OR:{rgx:/:([^:]+)\*:/g,res:"(.*)?"},RR:{rgx:/\{([^}]+)\*\}/g,res:"(.+)"},RP:{rgx:/\{([^}]+)\}/g,res:"([^\\/?]+)"},OP:{rgx:/:([^:]+):/g,res:"([^\\/?]+)?/?"}},r=1,c=2,d=3,u=r;return function(){var e,t;for(e in o)o.hasOwnProperty(e)&&((t=o[e]).id="__CR_"+e+"__",t.save="save"in t?t.save.replace("{{id}}",t.id):t.id,t.rRestore=new RegExp(t.id,"g"))}(),{strict:function(){u=c},loose:function(){u=r},legacy:function(){u=d},getParamIds:function(t){return e(a,t)},getOptionalParamsIds:function(t){return e(o.OP.rgx,t)},getParamValues:function(e,t,i){var n=t.exec(e);return n&&(n.shift(),i&&(n=l(n))),n},compilePattern:function(e,a){return(e=e||"")&&(u===r?e=e.replace(n,""):u===d&&(e=e.replace(s,"")),e=t(e,"rgx","save"),e=t(e=e.replace(i,"\\$&"),"rRestore","res"),u===r&&(e="\\/?"+e)),u!==c&&(e+="\\/?"),new RegExp("^"+e+"$",a?"i":"")},interpolate:function(e,t){if("string"!=typeof e)throw new Error("Route pattern should be a string.");return o.OS.trail||(o.OS.trail=new RegExp("(?:"+o.OS.id+")+$")),e.replace(o.OS.rgx,o.OS.save).replace(a,(function(e,i){var n;if(i="?"===i.substr(0,1)?i.substr(1):i,null!=t[i]){if("object"==typeof t[i]){var s=[];for(var a in t[i])s.push(encodeURI(a+"="+t[i][a]));n="?"+s.join("&")}else n=String(t[i]);if(-1===e.indexOf("*")&&-1!==n.indexOf("/"))throw new Error('Invalid value "'+n+'" for segment "'+e+'".')}else{if(-1!==e.indexOf("{"))throw new Error("The segment "+e+" is required.");n=""}return n})).replace(o.OS.trail,"").replace(o.OS.rRestore,"/")}}}(),p})?n.apply(t,s):n)||(e.exports=a)},function(e,t,i){"use strict";var n=i(77),s=i(146),a=i(70),o=i(58),r=i(120),l=o.set,c=o.getterFor("Array Iterator");e.exports=r(Array,"Array",(function(e,t){l(this,{type:"Array Iterator",target:n(e),index:0,kind:t})}),(function(){var e=c(this),t=e.target,i=e.kind,n=e.index++;return!t||n>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==i?{value:n,done:!1}:"values"==i?{value:t[n],done:!1}:{value:[n,t[n]],done:!1}}),"values"),a.Arguments=a.Array,s("keys"),s("values"),s("entries")},function(e,t,i){var n=i(68),s=i(111);(e.exports=function(e,t){return s[e]||(s[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.5",mode:n?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},function(e,t,i){var n=i(31),s=i(94),a=n["__core-js_shared__"]||s("__core-js_shared__",{});e.exports=a},function(e,t,i){var n=i(46),s=i(40),a=i(113);e.exports=!n&&!s((function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},function(e,t,i){var n=i(31),s=i(47),a=n.document,o=s(a)&&s(a.createElement);e.exports=function(e){return o?a.createElement(e):{}}},function(e,t,i){var n=i(40);e.exports=!!Object.getOwnPropertySymbols&&!n((function(){return!String(Symbol())}))},function(e,t,i){var n=i(46),s=i(50),a=i(41),o=i(116);e.exports=n?Object.defineProperties:function(e,t){a(e);for(var i,n=o(t),r=n.length,l=0;r>l;)s.f(e,i=n[l++],t[i]);return e}},function(e,t,i){var n=i(117),s=i(97);e.exports=Object.keys||function(e){return n(e,s)}},function(e,t,i){var n=i(42),s=i(77),a=i(148).indexOf,o=i(96);e.exports=function(e,t){var i,r=s(e),l=0,c=[];for(i in r)!n(o,i)&&n(r,i)&&c.push(i);for(;t.length>l;)n(r,i=t[l++])&&(~a(c,i)||c.push(i));return c}},function(e,t,i){var n=i(57),s=Math.max,a=Math.min;e.exports=function(e,t){var i=n(e);return i<0?s(i+t,0):a(i,t)}},function(e,t,i){var n=i(111),s=Function.toString;"function"!=typeof n.inspectSource&&(n.inspectSource=function(e){return s.call(e)}),e.exports=n.inspectSource},function(e,t,i){"use strict";var n=i(59),s=i(123),a=i(82),o=i(72),r=i(71),l=i(45),c=i(53),d=i(32),u=i(68),p=i(70),h=i(124),m=h.IteratorPrototype,b=h.BUGGY_SAFARI_ITERATORS,f=d("iterator"),g=function(){return this};e.exports=function(e,t,i,d,h,v,_){s(i,t,d);var y,x,w,k=function(e){if(e===h&&O)return O;if(!b&&e in S)return S[e];switch(e){case"keys":case"values":case"entries":return function(){return new i(this,e)}}return function(){return new i(this)}},I=t+" Iterator",C=!1,S=e.prototype,E=S[f]||S["@@iterator"]||h&&S[h],O=!b&&E||k(h),A="Array"==t&&S.entries||E;if(A&&(y=a(A.call(new e)),m!==Object.prototype&&y.next&&(u||a(y)===m||(o?o(y,m):"function"!=typeof y[f]&&l(y,f,g)),r(y,I,!0,!0),u&&(p[I]=g))),"values"==h&&E&&"values"!==E.name&&(C=!0,O=function(){return E.call(this)}),u&&!_||S[f]===O||l(S,f,O),p[t]=O,h)if(x={values:k("values"),keys:v?O:k("keys"),entries:k("entries")},_)for(w in x)(b||C||!(w in S))&&c(S,w,x[w]);else n({target:t,proto:!0,forced:b||C},x);return x}},function(e,t,i){"use strict";var n={}.propertyIsEnumerable,s=Object.getOwnPropertyDescriptor,a=s&&!n.call({1:2},1);t.f=a?function(e){var t=s(this,e);return!!t&&t.enumerable}:n},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,i){"use strict";var n=i(124).IteratorPrototype,s=i(81),a=i(63),o=i(71),r=i(70),l=function(){return this};e.exports=function(e,t,i){var c=t+" Iterator";return e.prototype=s(n,{next:a(1,i)}),o(e,c,!1,!0),r[c]=l,e}},function(e,t,i){"use strict";var n,s,a,o=i(82),r=i(45),l=i(42),c=i(32),d=i(68),u=c("iterator"),p=!1;[].keys&&("next"in(a=[].keys())?(s=o(o(a)))!==Object.prototype&&(n=s):p=!0),null==n&&(n={}),d||l(n,u)||r(n,u,(function(){return this})),e.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:p}},function(e,t,i){"use strict";var n=i(83),s=function(e){var t,i;this.promise=new e((function(e,n){if(void 0!==t||void 0!==i)throw TypeError("Bad Promise constructor");t=e,i=n})),this.resolve=n(t),this.reject=n(i)};e.exports.f=function(e){return new s(e)}},function(e,t,i){"use strict";i(166);var n,s=i(59),a=i(46),o=i(127),r=i(31),l=i(115),c=i(53),d=i(84),u=i(42),p=i(167),h=i(168),m=i(102).codeAt,b=i(171),f=i(71),g=i(172),v=i(58),_=r.URL,y=g.URLSearchParams,x=g.getState,w=v.set,k=v.getterFor("URL"),I=Math.floor,C=Math.pow,S=/[A-Za-z]/,E=/[\d+-.A-Za-z]/,O=/\d/,A=/^(0x|0X)/,P=/^[0-7]+$/,T=/^\d+$/,j=/^[\dA-Fa-f]+$/,R=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,F=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,D=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,L=/[\u0009\u000A\u000D]/g,N=function(e,t){var i,n,s;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1))return"Invalid host";if(!(i=V(t.slice(1,-1))))return"Invalid host";e.host=i}else if(W(e)){if(t=b(t),R.test(t))return"Invalid host";if(null===(i=M(t)))return"Invalid host";e.host=i}else{if(F.test(t))return"Invalid host";for(i="",n=h(t),s=0;s<n.length;s++)i+=J(n[s],q);e.host=i}},M=function(e){var t,i,n,s,a,o,r,l=e.split(".");if(l.length&&""==l[l.length-1]&&l.pop(),(t=l.length)>4)return e;for(i=[],n=0;n<t;n++){if(""==(s=l[n]))return e;if(a=10,s.length>1&&"0"==s.charAt(0)&&(a=A.test(s)?16:8,s=s.slice(8==a?1:2)),""===s)o=0;else{if(!(10==a?T:8==a?P:j).test(s))return e;o=parseInt(s,a)}i.push(o)}for(n=0;n<t;n++)if(o=i[n],n==t-1){if(o>=C(256,5-t))return null}else if(o>255)return null;for(r=i.pop(),n=0;n<i.length;n++)r+=i[n]*C(256,3-n);return r},V=function(e){var t,i,n,s,a,o,r,l=[0,0,0,0,0,0,0,0],c=0,d=null,u=0,p=function(){return e.charAt(u)};if(":"==p()){if(":"!=e.charAt(1))return;u+=2,d=++c}for(;p();){if(8==c)return;if(":"!=p()){for(t=i=0;i<4&&j.test(p());)t=16*t+parseInt(p(),16),u++,i++;if("."==p()){if(0==i)return;if(u-=i,c>6)return;for(n=0;p();){if(s=null,n>0){if(!("."==p()&&n<4))return;u++}if(!O.test(p()))return;for(;O.test(p());){if(a=parseInt(p(),10),null===s)s=a;else{if(0==s)return;s=10*s+a}if(s>255)return;u++}l[c]=256*l[c]+s,2!=++n&&4!=n||c++}if(4!=n)return;break}if(":"==p()){if(u++,!p())return}else if(p())return;l[c++]=t}else{if(null!==d)return;u++,d=++c}}if(null!==d)for(o=c-d,c=7;0!=c&&o>0;)r=l[c],l[c--]=l[d+o-1],l[d+--o]=r;else if(8!=c)return;return l},B=function(e){var t,i,n,s;if("number"==typeof e){for(t=[],i=0;i<4;i++)t.unshift(e%256),e=I(e/256);return t.join(".")}if("object"==typeof e){for(t="",n=function(e){for(var t=null,i=1,n=null,s=0,a=0;a<8;a++)0!==e[a]?(s>i&&(t=n,i=s),n=null,s=0):(null===n&&(n=a),++s);return s>i&&(t=n,i=s),t}(e),i=0;i<8;i++)s&&0===e[i]||(s&&(s=!1),n===i?(t+=i?":":"::",s=!0):(t+=e[i].toString(16),i<7&&(t+=":")));return"["+t+"]"}return e},q={},U=p({},q,{" ":1,'"':1,"<":1,">":1,"`":1}),H=p({},U,{"#":1,"?":1,"{":1,"}":1}),$=p({},H,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),J=function(e,t){var i=m(e,0);return i>32&&i<127&&!u(t,e)?e:encodeURIComponent(e)},z={ftp:21,file:null,http:80,https:443,ws:80,wss:443},W=function(e){return u(z,e.scheme)},K=function(e){return""!=e.username||""!=e.password},G=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},Y=function(e,t){var i;return 2==e.length&&S.test(e.charAt(0))&&(":"==(i=e.charAt(1))||!t&&"|"==i)},Q=function(e){var t;return e.length>1&&Y(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)},Z=function(e){var t=e.path,i=t.length;!i||"file"==e.scheme&&1==i&&Y(t[0],!0)||t.pop()},X=function(e){return"."===e||"%2e"===e.toLowerCase()},ee={},te={},ie={},ne={},se={},ae={},oe={},re={},le={},ce={},de={},ue={},pe={},he={},me={},be={},fe={},ge={},ve={},_e={},ye={},xe=function(e,t,i,s){var a,o,r,l,c,d=i||ee,p=0,m="",b=!1,f=!1,g=!1;for(i||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(D,"")),t=t.replace(L,""),a=h(t);p<=a.length;){switch(o=a[p],d){case ee:if(!o||!S.test(o)){if(i)return"Invalid scheme";d=ie;continue}m+=o.toLowerCase(),d=te;break;case te:if(o&&(E.test(o)||"+"==o||"-"==o||"."==o))m+=o.toLowerCase();else{if(":"!=o){if(i)return"Invalid scheme";m="",d=ie,p=0;continue}if(i&&(W(e)!=u(z,m)||"file"==m&&(K(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=m,i)return void(W(e)&&z[e.scheme]==e.port&&(e.port=null));m="","file"==e.scheme?d=he:W(e)&&s&&s.scheme==e.scheme?d=ne:W(e)?d=re:"/"==a[p+1]?(d=se,p++):(e.cannotBeABaseURL=!0,e.path.push(""),d=ve)}break;case ie:if(!s||s.cannotBeABaseURL&&"#"!=o)return"Invalid scheme";if(s.cannotBeABaseURL&&"#"==o){e.scheme=s.scheme,e.path=s.path.slice(),e.query=s.query,e.fragment="",e.cannotBeABaseURL=!0,d=ye;break}d="file"==s.scheme?he:ae;continue;case ne:if("/"!=o||"/"!=a[p+1]){d=ae;continue}d=le,p++;break;case se:if("/"==o){d=ce;break}d=ge;continue;case ae:if(e.scheme=s.scheme,o==n)e.username=s.username,e.password=s.password,e.host=s.host,e.port=s.port,e.path=s.path.slice(),e.query=s.query;else if("/"==o||"\\"==o&&W(e))d=oe;else if("?"==o)e.username=s.username,e.password=s.password,e.host=s.host,e.port=s.port,e.path=s.path.slice(),e.query="",d=_e;else{if("#"!=o){e.username=s.username,e.password=s.password,e.host=s.host,e.port=s.port,e.path=s.path.slice(),e.path.pop(),d=ge;continue}e.username=s.username,e.password=s.password,e.host=s.host,e.port=s.port,e.path=s.path.slice(),e.query=s.query,e.fragment="",d=ye}break;case oe:if(!W(e)||"/"!=o&&"\\"!=o){if("/"!=o){e.username=s.username,e.password=s.password,e.host=s.host,e.port=s.port,d=ge;continue}d=ce}else d=le;break;case re:if(d=le,"/"!=o||"/"!=m.charAt(p+1))continue;p++;break;case le:if("/"!=o&&"\\"!=o){d=ce;continue}break;case ce:if("@"==o){b&&(m="%40"+m),b=!0,r=h(m);for(var v=0;v<r.length;v++){var _=r[v];if(":"!=_||g){var y=J(_,$);g?e.password+=y:e.username+=y}else g=!0}m=""}else if(o==n||"/"==o||"?"==o||"#"==o||"\\"==o&&W(e)){if(b&&""==m)return"Invalid authority";p-=h(m).length+1,m="",d=de}else m+=o;break;case de:case ue:if(i&&"file"==e.scheme){d=be;continue}if(":"!=o||f){if(o==n||"/"==o||"?"==o||"#"==o||"\\"==o&&W(e)){if(W(e)&&""==m)return"Invalid host";if(i&&""==m&&(K(e)||null!==e.port))return;if(l=N(e,m))return l;if(m="",d=fe,i)return;continue}"["==o?f=!0:"]"==o&&(f=!1),m+=o}else{if(""==m)return"Invalid host";if(l=N(e,m))return l;if(m="",d=pe,i==ue)return}break;case pe:if(!O.test(o)){if(o==n||"/"==o||"?"==o||"#"==o||"\\"==o&&W(e)||i){if(""!=m){var x=parseInt(m,10);if(x>65535)return"Invalid port";e.port=W(e)&&x===z[e.scheme]?null:x,m=""}if(i)return;d=fe;continue}return"Invalid port"}m+=o;break;case he:if(e.scheme="file","/"==o||"\\"==o)d=me;else{if(!s||"file"!=s.scheme){d=ge;continue}if(o==n)e.host=s.host,e.path=s.path.slice(),e.query=s.query;else if("?"==o)e.host=s.host,e.path=s.path.slice(),e.query="",d=_e;else{if("#"!=o){Q(a.slice(p).join(""))||(e.host=s.host,e.path=s.path.slice(),Z(e)),d=ge;continue}e.host=s.host,e.path=s.path.slice(),e.query=s.query,e.fragment="",d=ye}}break;case me:if("/"==o||"\\"==o){d=be;break}s&&"file"==s.scheme&&!Q(a.slice(p).join(""))&&(Y(s.path[0],!0)?e.path.push(s.path[0]):e.host=s.host),d=ge;continue;case be:if(o==n||"/"==o||"\\"==o||"?"==o||"#"==o){if(!i&&Y(m))d=ge;else if(""==m){if(e.host="",i)return;d=fe}else{if(l=N(e,m))return l;if("localhost"==e.host&&(e.host=""),i)return;m="",d=fe}continue}m+=o;break;case fe:if(W(e)){if(d=ge,"/"!=o&&"\\"!=o)continue}else if(i||"?"!=o)if(i||"#"!=o){if(o!=n&&(d=ge,"/"!=o))continue}else e.fragment="",d=ye;else e.query="",d=_e;break;case ge:if(o==n||"/"==o||"\\"==o&&W(e)||!i&&("?"==o||"#"==o)){if(".."===(c=(c=m).toLowerCase())||"%2e."===c||".%2e"===c||"%2e%2e"===c?(Z(e),"/"==o||"\\"==o&&W(e)||e.path.push("")):X(m)?"/"==o||"\\"==o&&W(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&Y(m)&&(e.host&&(e.host=""),m=m.charAt(0)+":"),e.path.push(m)),m="","file"==e.scheme&&(o==n||"?"==o||"#"==o))for(;e.path.length>1&&""===e.path[0];)e.path.shift();"?"==o?(e.query="",d=_e):"#"==o&&(e.fragment="",d=ye)}else m+=J(o,H);break;case ve:"?"==o?(e.query="",d=_e):"#"==o?(e.fragment="",d=ye):o!=n&&(e.path[0]+=J(o,q));break;case _e:i||"#"!=o?o!=n&&("'"==o&&W(e)?e.query+="%27":e.query+="#"==o?"%23":J(o,q)):(e.fragment="",d=ye);break;case ye:o!=n&&(e.fragment+=J(o,U))}p++}},we=function(e){var t,i,n=d(this,we,"URL"),s=arguments.length>1?arguments[1]:void 0,o=String(e),r=w(n,{type:"URL"});if(void 0!==s)if(s instanceof we)t=k(s);else if(i=xe(t={},String(s)))throw TypeError(i);if(i=xe(r,o,null,t))throw TypeError(i);var l=r.searchParams=new y,c=x(l);c.updateSearchParams(r.query),c.updateURL=function(){r.query=String(l)||null},a||(n.href=Ie.call(n),n.origin=Ce.call(n),n.protocol=Se.call(n),n.username=Ee.call(n),n.password=Oe.call(n),n.host=Ae.call(n),n.hostname=Pe.call(n),n.port=Te.call(n),n.pathname=je.call(n),n.search=Re.call(n),n.searchParams=Fe.call(n),n.hash=De.call(n))},ke=we.prototype,Ie=function(){var e=k(this),t=e.scheme,i=e.username,n=e.password,s=e.host,a=e.port,o=e.path,r=e.query,l=e.fragment,c=t+":";return null!==s?(c+="//",K(e)&&(c+=i+(n?":"+n:"")+"@"),c+=B(s),null!==a&&(c+=":"+a)):"file"==t&&(c+="//"),c+=e.cannotBeABaseURL?o[0]:o.length?"/"+o.join("/"):"",null!==r&&(c+="?"+r),null!==l&&(c+="#"+l),c},Ce=function(){var e=k(this),t=e.scheme,i=e.port;if("blob"==t)try{return new URL(t.path[0]).origin}catch(e){return"null"}return"file"!=t&&W(e)?t+"://"+B(e.host)+(null!==i?":"+i:""):"null"},Se=function(){return k(this).scheme+":"},Ee=function(){return k(this).username},Oe=function(){return k(this).password},Ae=function(){var e=k(this),t=e.host,i=e.port;return null===t?"":null===i?B(t):B(t)+":"+i},Pe=function(){var e=k(this).host;return null===e?"":B(e)},Te=function(){var e=k(this).port;return null===e?"":String(e)},je=function(){var e=k(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},Re=function(){var e=k(this).query;return e?"?"+e:""},Fe=function(){return k(this).searchParams},De=function(){var e=k(this).fragment;return e?"#"+e:""},Le=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};if(a&&l(ke,{href:Le(Ie,(function(e){var t=k(this),i=String(e),n=xe(t,i);if(n)throw TypeError(n);x(t.searchParams).updateSearchParams(t.query)})),origin:Le(Ce),protocol:Le(Se,(function(e){var t=k(this);xe(t,String(e)+":",ee)})),username:Le(Ee,(function(e){var t=k(this),i=h(String(e));if(!G(t)){t.username="";for(var n=0;n<i.length;n++)t.username+=J(i[n],$)}})),password:Le(Oe,(function(e){var t=k(this),i=h(String(e));if(!G(t)){t.password="";for(var n=0;n<i.length;n++)t.password+=J(i[n],$)}})),host:Le(Ae,(function(e){var t=k(this);t.cannotBeABaseURL||xe(t,String(e),de)})),hostname:Le(Pe,(function(e){var t=k(this);t.cannotBeABaseURL||xe(t,String(e),ue)})),port:Le(Te,(function(e){var t=k(this);G(t)||(""==(e=String(e))?t.port=null:xe(t,e,pe))})),pathname:Le(je,(function(e){var t=k(this);t.cannotBeABaseURL||(t.path=[],xe(t,e+"",fe))})),search:Le(Re,(function(e){var t=k(this);""==(e=String(e))?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",xe(t,e,_e)),x(t.searchParams).updateSearchParams(t.query)})),searchParams:Le(Fe),hash:Le(De,(function(e){var t=k(this);""!=(e=String(e))?("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",xe(t,e,ye)):t.fragment=null}))}),c(ke,"toJSON",(function(){return Ie.call(this)}),{enumerable:!0}),c(ke,"toString",(function(){return Ie.call(this)}),{enumerable:!0}),_){var Ne=_.createObjectURL,Me=_.revokeObjectURL;Ne&&c(we,"createObjectURL",(function(e){return Ne.apply(_,arguments)})),Me&&c(we,"revokeObjectURL",(function(e){return Me.apply(_,arguments)}))}f(we,"URL"),s({global:!0,forced:!o,sham:!a},{URL:we})},function(e,t,i){var n=i(40),s=i(32),a=i(68),o=s("iterator");e.exports=!n((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,i="";return e.pathname="c%20d",t.forEach((function(e,n){t.delete("b"),i+=n+e})),a&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[o]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==i||"x"!==new URL("http://x",void 0).host}))},function(e,t,i){var n=i(41);e.exports=function(e,t,i,s){try{return s?t(n(i)[0],i[1]):t(i)}catch(t){var a=e.return;throw void 0!==a&&n(a.call(e)),t}}},function(e,t,i){var n=i(53);e.exports=function(e,t,i){for(var s in t)n(e,s,t[s],i);return e}},function(e,t){e.exports=l},function(e,t){e.exports=c},function(e,t){e.exports=d},function(e,t){e.exports=u},function(e,t,i){var n,s,a;
/*!
 * jQuery UI Keycode 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */s=[i(17),i(61)],void 0===(a="function"==typeof(n=function(e){return e.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}})?n.apply(t,s):n)||(e.exports=a)},function(e,t,i){var n,s,a;
/*!
 * jQuery UI Position 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/position/
 */s=[i(17),i(61)],void 0===(a="function"==typeof(n=function(e){return function(){var t,i=Math.max,n=Math.abs,s=/left|center|right/,a=/top|center|bottom/,o=/[\+\-]\d+(\.[\d]+)?%?/,r=/^\w+/,l=/%$/,c=e.fn.position;function d(e,t,i){return[parseFloat(e[0])*(l.test(e[0])?t/100:1),parseFloat(e[1])*(l.test(e[1])?i/100:1)]}function u(t,i){return parseInt(e.css(t,i),10)||0}function p(t){var i=t[0];return 9===i.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(i)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}e.position={scrollbarWidth:function(){if(void 0!==t)return t;var i,n,s=e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),a=s.children()[0];return e("body").append(s),i=a.offsetWidth,s.css("overflow","scroll"),i===(n=a.offsetWidth)&&(n=s[0].clientWidth),s.remove(),t=i-n},getScrollInfo:function(t){var i=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),n=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),s="scroll"===i||"auto"===i&&t.width<t.element[0].scrollWidth;return{width:"scroll"===n||"auto"===n&&t.height<t.element[0].scrollHeight?e.position.scrollbarWidth():0,height:s?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var i=e(t||window),n=e.isWindow(i[0]),s=!!i[0]&&9===i[0].nodeType;return{element:i,isWindow:n,isDocument:s,offset:n||s?{left:0,top:0}:e(t).offset(),scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:i.outerWidth(),height:i.outerHeight()}}},e.fn.position=function(t){if(!t||!t.of)return c.apply(this,arguments);t=e.extend({},t);var l,h,m,b,f,g,v=e(t.of),_=e.position.getWithinInfo(t.within),y=e.position.getScrollInfo(_),x=(t.collision||"flip").split(" "),w={};return g=p(v),v[0].preventDefault&&(t.at="left top"),h=g.width,m=g.height,b=g.offset,f=e.extend({},b),e.each(["my","at"],(function(){var e,i,n=(t[this]||"").split(" ");1===n.length&&(n=s.test(n[0])?n.concat(["center"]):a.test(n[0])?["center"].concat(n):["center","center"]),n[0]=s.test(n[0])?n[0]:"center",n[1]=a.test(n[1])?n[1]:"center",e=o.exec(n[0]),i=o.exec(n[1]),w[this]=[e?e[0]:0,i?i[0]:0],t[this]=[r.exec(n[0])[0],r.exec(n[1])[0]]})),1===x.length&&(x[1]=x[0]),"right"===t.at[0]?f.left+=h:"center"===t.at[0]&&(f.left+=h/2),"bottom"===t.at[1]?f.top+=m:"center"===t.at[1]&&(f.top+=m/2),l=d(w.at,h,m),f.left+=l[0],f.top+=l[1],this.each((function(){var s,a,o=e(this),r=o.outerWidth(),c=o.outerHeight(),p=u(this,"marginLeft"),g=u(this,"marginTop"),k=r+p+u(this,"marginRight")+y.width,I=c+g+u(this,"marginBottom")+y.height,C=e.extend({},f),S=d(w.my,o.outerWidth(),o.outerHeight());"right"===t.my[0]?C.left-=r:"center"===t.my[0]&&(C.left-=r/2),"bottom"===t.my[1]?C.top-=c:"center"===t.my[1]&&(C.top-=c/2),C.left+=S[0],C.top+=S[1],s={marginLeft:p,marginTop:g},e.each(["left","top"],(function(i,n){e.ui.position[x[i]]&&e.ui.position[x[i]][n](C,{targetWidth:h,targetHeight:m,elemWidth:r,elemHeight:c,collisionPosition:s,collisionWidth:k,collisionHeight:I,offset:[l[0]+S[0],l[1]+S[1]],my:t.my,at:t.at,within:_,elem:o})})),t.using&&(a=function(e){var s=b.left-C.left,a=s+h-r,l=b.top-C.top,d=l+m-c,u={target:{element:v,left:b.left,top:b.top,width:h,height:m},element:{element:o,left:C.left,top:C.top,width:r,height:c},horizontal:a<0?"left":s>0?"right":"center",vertical:d<0?"top":l>0?"bottom":"middle"};h<r&&n(s+a)<h&&(u.horizontal="center"),m<c&&n(l+d)<m&&(u.vertical="middle"),i(n(s),n(a))>i(n(l),n(d))?u.important="horizontal":u.important="vertical",t.using.call(this,e,u)}),o.offset(e.extend(C,{using:a}))}))},e.ui.position={fit:{left:function(e,t){var n,s=t.within,a=s.isWindow?s.scrollLeft:s.offset.left,o=s.width,r=e.left-t.collisionPosition.marginLeft,l=a-r,c=r+t.collisionWidth-o-a;t.collisionWidth>o?l>0&&c<=0?(n=e.left+l+t.collisionWidth-o-a,e.left+=l-n):e.left=c>0&&l<=0?a:l>c?a+o-t.collisionWidth:a:l>0?e.left+=l:c>0?e.left-=c:e.left=i(e.left-r,e.left)},top:function(e,t){var n,s=t.within,a=s.isWindow?s.scrollTop:s.offset.top,o=t.within.height,r=e.top-t.collisionPosition.marginTop,l=a-r,c=r+t.collisionHeight-o-a;t.collisionHeight>o?l>0&&c<=0?(n=e.top+l+t.collisionHeight-o-a,e.top+=l-n):e.top=c>0&&l<=0?a:l>c?a+o-t.collisionHeight:a:l>0?e.top+=l:c>0?e.top-=c:e.top=i(e.top-r,e.top)}},flip:{left:function(e,t){var i,s,a=t.within,o=a.offset.left+a.scrollLeft,r=a.width,l=a.isWindow?a.scrollLeft:a.offset.left,c=e.left-t.collisionPosition.marginLeft,d=c-l,u=c+t.collisionWidth-r-l,p="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,h="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,m=-2*t.offset[0];d<0?((i=e.left+p+h+m+t.collisionWidth-r-o)<0||i<n(d))&&(e.left+=p+h+m):u>0&&((s=e.left-t.collisionPosition.marginLeft+p+h+m-l)>0||n(s)<u)&&(e.left+=p+h+m)},top:function(e,t){var i,s,a=t.within,o=a.offset.top+a.scrollTop,r=a.height,l=a.isWindow?a.scrollTop:a.offset.top,c=e.top-t.collisionPosition.marginTop,d=c-l,u=c+t.collisionHeight-r-l,p="top"===t.my[1]?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,h="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,m=-2*t.offset[1];d<0?((s=e.top+p+h+m+t.collisionHeight-r-o)<0||s<n(d))&&(e.top+=p+h+m):u>0&&((i=e.top-t.collisionPosition.marginTop+p+h+m-l)>0||n(i)<u)&&(e.top+=p+h+m)}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}}}(),e.ui.position})?n.apply(t,s):n)||(e.exports=a)},function(e,t,i){var n,s,a;s=[i(17),i(61)],void 0===(a="function"==typeof(n=function(e){return e.ui.safeActiveElement=function(e){var t;try{t=e.activeElement}catch(i){t=e.body}return t||(t=e.body),t.nodeName||(t=e.body),t}})?n.apply(t,s):n)||(e.exports=a)},function(e,t,i){var n,s,a;
/*!
 * jQuery UI Widget 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */s=[i(17),i(61)],void 0===(a="function"==typeof(n=function(e){var t,i=0,n=Array.prototype.slice;return e.cleanData=(t=e.cleanData,function(i){var n,s,a;for(a=0;null!=(s=i[a]);a++)try{(n=e._data(s,"events"))&&n.remove&&e(s).triggerHandler("remove")}catch(e){}t(i)}),e.widget=function(t,i,n){var s,a,o,r={},l=t.split(".")[0],c=l+"-"+(t=t.split(".")[1]);return n||(n=i,i=e.Widget),e.isArray(n)&&(n=e.extend.apply(null,[{}].concat(n))),e.expr[":"][c.toLowerCase()]=function(t){return!!e.data(t,c)},e[l]=e[l]||{},s=e[l][t],a=e[l][t]=function(e,t){if(!this._createWidget)return new a(e,t);arguments.length&&this._createWidget(e,t)},e.extend(a,s,{version:n.version,_proto:e.extend({},n),_childConstructors:[]}),(o=new i).options=e.widget.extend({},o.options),e.each(n,(function(t,n){e.isFunction(n)?r[t]=function(){function e(){return i.prototype[t].apply(this,arguments)}function s(e){return i.prototype[t].apply(this,e)}return function(){var t,i=this._super,a=this._superApply;return this._super=e,this._superApply=s,t=n.apply(this,arguments),this._super=i,this._superApply=a,t}}():r[t]=n})),a.prototype=e.widget.extend(o,{widgetEventPrefix:s&&o.widgetEventPrefix||t},r,{constructor:a,namespace:l,widgetName:t,widgetFullName:c}),s?(e.each(s._childConstructors,(function(t,i){var n=i.prototype;e.widget(n.namespace+"."+n.widgetName,a,i._proto)})),delete s._childConstructors):i._childConstructors.push(a),e.widget.bridge(t,a),a},e.widget.extend=function(t){for(var i,s,a=n.call(arguments,1),o=0,r=a.length;o<r;o++)for(i in a[o])s=a[o][i],a[o].hasOwnProperty(i)&&void 0!==s&&(e.isPlainObject(s)?t[i]=e.isPlainObject(t[i])?e.widget.extend({},t[i],s):e.widget.extend({},s):t[i]=s);return t},e.widget.bridge=function(t,i){var s=i.prototype.widgetFullName||t;e.fn[t]=function(a){var o="string"==typeof a,r=n.call(arguments,1),l=this;return o?this.length||"instance"!==a?this.each((function(){var i,n=e.data(this,s);return"instance"===a?(l=n,!1):n?e.isFunction(n[a])&&"_"!==a.charAt(0)?(i=n[a].apply(n,r))!==n&&void 0!==i?(l=i&&i.jquery?l.pushStack(i.get()):i,!1):void 0:e.error("no such method '"+a+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+a+"'")})):l=void 0:(r.length&&(a=e.widget.extend.apply(null,[a].concat(r))),this.each((function(){var t=e.data(this,s);t?(t.option(a||{}),t._init&&t._init()):e.data(this,s,new i(a,this))}))),l}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(t,n){n=e(n||this.defaultElement||this)[0],this.element=e(n),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),this.classesElementLookup={},n!==this&&(e.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===n&&this.destroy()}}),this.document=e(n.style?n.ownerDocument:n.document||n),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){var t=this;this._destroy(),e.each(this.classesElementLookup,(function(e,i){t._removeClass(i,e)})),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:e.noop,widget:function(){return this.element},option:function(t,i){var n,s,a,o=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(o={},n=t.split("."),t=n.shift(),n.length){for(s=o[t]=e.widget.extend({},this.options[t]),a=0;a<n.length-1;a++)s[n[a]]=s[n[a]]||{},s=s[n[a]];if(t=n.pop(),1===arguments.length)return void 0===s[t]?null:s[t];s[t]=i}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];o[t]=i}return this._setOptions(o),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return"classes"===e&&this._setOptionClasses(t),this.options[e]=t,"disabled"===e&&this._setOptionDisabled(t),this},_setOptionClasses:function(t){var i,n,s;for(i in t)s=this.classesElementLookup[i],t[i]!==this.options.classes[i]&&s&&s.length&&(n=e(s.get()),this._removeClass(s,i),n.addClass(this._classes({element:n,keys:i,classes:t,add:!0})))},_setOptionDisabled:function(e){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!e),e&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(t){var i=[],n=this;function s(s,a){var o,r;for(r=0;r<s.length;r++)o=n.classesElementLookup[s[r]]||e(),o=t.add?e(e.unique(o.get().concat(t.element.get()))):e(o.not(t.element).get()),n.classesElementLookup[s[r]]=o,i.push(s[r]),a&&t.classes[s[r]]&&i.push(t.classes[s[r]])}return t=e.extend({element:this.element,classes:this.options.classes||{}},t),this._on(t.element,{remove:"_untrackClassesElement"}),t.keys&&s(t.keys.match(/\S+/g)||[],!0),t.extra&&s(t.extra.match(/\S+/g)||[]),i.join(" ")},_untrackClassesElement:function(t){var i=this;e.each(i.classesElementLookup,(function(n,s){-1!==e.inArray(t.target,s)&&(i.classesElementLookup[n]=e(s.not(t.target).get()))}))},_removeClass:function(e,t,i){return this._toggleClass(e,t,i,!1)},_addClass:function(e,t,i){return this._toggleClass(e,t,i,!0)},_toggleClass:function(e,t,i,n){n="boolean"==typeof n?n:i;var s="string"==typeof e||null===e,a={extra:s?t:i,keys:s?e:t,element:s?this.element:e,add:n};return a.element.toggleClass(this._classes(a),n),this},_on:function(t,i,n){var s,a=this;"boolean"!=typeof t&&(n=i,i=t,t=!1),n?(i=s=e(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,s=this.widget()),e.each(n,(function(n,o){function r(){if(t||!0!==a.options.disabled&&!e(this).hasClass("ui-state-disabled"))return("string"==typeof o?a[o]:o).apply(a,arguments)}"string"!=typeof o&&(r.guid=o.guid=o.guid||r.guid||e.guid++);var l=n.match(/^([\w:-]*)\s*(.*)$/),c=l[1]+a.eventNamespace,d=l[2];d?s.on(c,d,r):i.on(c,r)}))},_off:function(t,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.off(i).off(i),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){var i=this;return setTimeout((function(){return("string"==typeof e?i[e]:e).apply(i,arguments)}),t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){this._addClass(e(t.currentTarget),null,"ui-state-hover")},mouseleave:function(t){this._removeClass(e(t.currentTarget),null,"ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){this._addClass(e(t.currentTarget),null,"ui-state-focus")},focusout:function(t){this._removeClass(e(t.currentTarget),null,"ui-state-focus")}})},_trigger:function(t,i,n){var s,a,o=this.options[t];if(n=n||{},(i=e.Event(i)).type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],a=i.originalEvent)for(s in a)s in i||(i[s]=a[s]);return this.element.trigger(i,n),!(e.isFunction(o)&&!1===o.apply(this.element[0],[i].concat(n))||i.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},(function(t,i){e.Widget.prototype["_"+t]=function(n,s,a){var o;"string"==typeof s&&(s={effect:s});var r=s?!0===s||"number"==typeof s?i:s.effect||i:t;"number"==typeof(s=s||{})&&(s={duration:s}),o=!e.isEmptyObject(s),s.complete=a,s.delay&&n.delay(s.delay),o&&e.effects&&e.effects.effect[r]?n[t](s):r!==t&&n[r]?n[r](s.duration,s.easing,a):n.queue((function(i){e(this)[t](),a&&a.call(n[0]),i()}))}})),e.widget})?n.apply(t,s):n)||(e.exports=a)},function(e,t){e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},function(e,t,i){var n=i(57),s=i(51);e.exports=function(e){if(void 0===e)return 0;var t=n(e),i=s(t);if(t!==i)throw RangeError("Wrong length or index");return i}},function(e,t){e.exports=p},function(e,t){e.exports=h},function(e,t){e.exports=m},function(e,t,i){i(214),e.exports=i(176)},function(e,t){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(e){"object"==typeof window&&(i=window)}e.exports=i},function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(e,t,i){var n=i(32),s=i(81),a=i(50),o=n("unscopables"),r=Array.prototype;null==r[o]&&a.f(r,o,{configurable:!0,value:s(null)}),e.exports=function(e){r[o][e]=!0}},function(e,t,i){var n=i(114);e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(e,t,i){var n=i(77),s=i(51),a=i(118),o=function(e){return function(t,i,o){var r,l=n(t),c=s(l.length),d=a(o,c);if(e&&i!=i){for(;c>d;)if((r=l[d++])!=r)return!0}else for(;c>d;d++)if((e||d in l)&&l[d]===i)return e||d||0;return!e&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},function(e,t,i){var n=i(69);e.exports=n("document","documentElement")},function(e,t,i){var n=i(31);e.exports=n},function(e,t,i){var n=i(31),s=i(119),a=n.WeakMap;e.exports="function"==typeof a&&/native code/.test(s(a))},function(e,t,i){var n=i(42),s=i(153),a=i(99),o=i(50);e.exports=function(e,t){for(var i=s(t),r=o.f,l=a.f,c=0;c<i.length;c++){var d=i[c];n(e,d)||r(e,d,l(t,d))}}},function(e,t,i){var n=i(69),s=i(100),a=i(122),o=i(41);e.exports=n("Reflect","ownKeys")||function(e){var t=s.f(o(e)),i=a.f;return i?t.concat(i(e)):t}},function(e,t,i){var n=i(40),s=/#|\.prototype\./,a=function(e,t){var i=r[o(e)];return i==c||i!=l&&("function"==typeof t?n(t):!!t)},o=a.normalize=function(e){return String(e).replace(s,".").toLowerCase()},r=a.data={},l=a.NATIVE="N",c=a.POLYFILL="P";e.exports=a},function(e,t,i){var n=i(40);e.exports=!n((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},function(e,t,i){var n=i(47);e.exports=function(e){if(!n(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},function(e,t,i){"use strict";i(158);var n=i(53),s=i(40),a=i(32),o=i(101),r=i(45),l=a("species"),c=!s((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),d="$0"==="a".replace(/./,"$0"),u=a("replace"),p=!!/./[u]&&""===/./[u]("a","$0"),h=!s((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var i="ab".split(e);return 2!==i.length||"a"!==i[0]||"b"!==i[1]}));e.exports=function(e,t,i,u){var m=a(e),b=!s((function(){var t={};return t[m]=function(){return 7},7!=""[e](t)})),f=b&&!s((function(){var t=!1,i=/a/;return"split"===e&&((i={}).constructor={},i.constructor[l]=function(){return i},i.flags="",i[m]=/./[m]),i.exec=function(){return t=!0,null},i[m](""),!t}));if(!b||!f||"replace"===e&&(!c||!d||p)||"split"===e&&!h){var g=/./[m],v=i(m,""[e],(function(e,t,i,n,s){return t.exec===o?b&&!s?{done:!0,value:g.call(t,i,n)}:{done:!0,value:e.call(i,t,n)}:{done:!1}}),{REPLACE_KEEPS_$0:d,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:p}),_=v[0],y=v[1];n(String.prototype,e,_),n(RegExp.prototype,m,2==t?function(e,t){return y.call(e,this,t)}:function(e){return y.call(e,this)})}u&&r(RegExp.prototype[m],"sham",!0)}},function(e,t,i){"use strict";var n=i(59),s=i(101);n({target:"RegExp",proto:!0,forced:/./.exec!==s},{exec:s})},function(e,t,i){"use strict";var n=i(41);e.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,i){"use strict";var n=i(40);function s(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=n((function(){var e=s("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=n((function(){var e=s("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},function(e,t,i){"use strict";var n=i(102).charAt;e.exports=function(e,t,i){return t+(i?n(e,t).length:1)}},function(e,t,i){var n=i(78),s=i(101);e.exports=function(e,t){var i=e.exec;if("function"==typeof i){var a=i.call(e,t);if("object"!=typeof a)throw TypeError("RegExp exec method returned something other than an Object or null");return a}if("RegExp"!==n(e))throw TypeError("RegExp#exec called on incompatible receiver");return s.call(e,t)}},function(e,t,i){var n=i(31);e.exports=n.Promise},function(e,t,i){var n=i(41),s=i(83),a=i(32)("species");e.exports=function(e,t){var i,o=n(e).constructor;return void 0===o||null==(i=n(o)[a])?t:s(i)}},function(e,t,i){var n=i(41),s=i(47),a=i(125);e.exports=function(e,t){if(n(e),s(t)&&t.constructor===e)return t;var i=a.f(e);return(0,i.resolve)(t),i.promise}},function(e,t,i){"use strict";var n=i(102).charAt,s=i(58),a=i(120),o=s.set,r=s.getterFor("String Iterator");a(String,"String",(function(e){o(this,{type:"String Iterator",string:String(e),index:0})}),(function(){var e,t=r(this),i=t.string,s=t.index;return s>=i.length?{value:void 0,done:!0}:(e=n(i,s),t.index+=e.length,{value:e,done:!1})}))},function(e,t,i){"use strict";var n=i(46),s=i(40),a=i(116),o=i(122),r=i(121),l=i(60),c=i(93),d=Object.assign,u=Object.defineProperty;e.exports=!d||s((function(){if(n&&1!==d({b:1},d(u({},"a",{enumerable:!0,get:function(){u(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},i=Symbol();return e[i]=7,"abcdefghijklmnopqrst".split("").forEach((function(e){t[e]=e})),7!=d({},e)[i]||"abcdefghijklmnopqrst"!=a(d({},t)).join("")}))?function(e,t){for(var i=l(e),s=arguments.length,d=1,u=o.f,p=r.f;s>d;)for(var h,m=c(arguments[d++]),b=u?a(m).concat(u(m)):a(m),f=b.length,g=0;f>g;)h=b[g++],n&&!p.call(m,h)||(i[h]=m[h]);return i}:d},function(e,t,i){"use strict";var n=i(73),s=i(60),a=i(128),o=i(103),r=i(51),l=i(169),c=i(74);e.exports=function(e){var t,i,d,u,p,h,m=s(e),b="function"==typeof this?this:Array,f=arguments.length,g=f>1?arguments[1]:void 0,v=void 0!==g,_=c(m),y=0;if(v&&(g=n(g,f>2?arguments[2]:void 0,2)),null==_||b==Array&&o(_))for(i=new b(t=r(m.length));t>y;y++)h=v?g(m[y],y):m[y],l(i,y,h);else for(p=(u=_.call(m)).next,i=new b;!(d=p.call(u)).done;y++)h=v?a(u,g,[d.value,y],!0):d.value,l(i,y,h);return i.length=y,i}},function(e,t,i){"use strict";var n=i(80),s=i(50),a=i(63);e.exports=function(e,t,i){var o=n(t);o in e?s.f(e,o,a(0,i)):e[o]=i}},function(e,t,i){var n={};n[i(32)("toStringTag")]="z",e.exports="[object z]"===String(n)},function(e,t,i){"use strict";var n=/[^\0-\u007E]/,s=/[.\u3002\uFF0E\uFF61]/g,a="Overflow: input needs wider integers to process",o=Math.floor,r=String.fromCharCode,l=function(e){return e+22+75*(e<26)},c=function(e,t,i){var n=0;for(e=i?o(e/700):e>>1,e+=o(e/t);e>455;n+=36)e=o(e/35);return o(n+36*e/(e+38))},d=function(e){var t,i,n=[],s=(e=function(e){for(var t=[],i=0,n=e.length;i<n;){var s=e.charCodeAt(i++);if(s>=55296&&s<=56319&&i<n){var a=e.charCodeAt(i++);56320==(64512&a)?t.push(((1023&s)<<10)+(1023&a)+65536):(t.push(s),i--)}else t.push(s)}return t}(e)).length,d=128,u=0,p=72;for(t=0;t<e.length;t++)(i=e[t])<128&&n.push(r(i));var h=n.length,m=h;for(h&&n.push("-");m<s;){var b=2147483647;for(t=0;t<e.length;t++)(i=e[t])>=d&&i<b&&(b=i);var f=m+1;if(b-d>o((2147483647-u)/f))throw RangeError(a);for(u+=(b-d)*f,d=b,t=0;t<e.length;t++){if((i=e[t])<d&&++u>2147483647)throw RangeError(a);if(i==d){for(var g=u,v=36;;v+=36){var _=v<=p?1:v>=p+26?26:v-p;if(g<_)break;var y=g-_,x=36-_;n.push(r(l(_+y%x))),g=o(y/x)}n.push(r(l(g))),p=c(u,f,m==h),u=0,++m}}++u,++d}return n.join("")};e.exports=function(e){var t,i,a=[],o=e.toLowerCase().replace(s,".").split(".");for(t=0;t<o.length;t++)i=o[t],a.push(n.test(i)?"xn--"+d(i):i);return a.join(".")}},function(e,t,i){"use strict";i(109);var n=i(59),s=i(69),a=i(127),o=i(53),r=i(129),l=i(71),c=i(123),d=i(58),u=i(84),p=i(42),h=i(73),m=i(85),b=i(41),f=i(47),g=i(81),v=i(63),_=i(173),y=i(74),x=i(32),w=s("fetch"),k=s("Headers"),I=x("iterator"),C=d.set,S=d.getterFor("URLSearchParams"),E=d.getterFor("URLSearchParamsIterator"),O=/\+/g,A=Array(4),P=function(e){return A[e-1]||(A[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))},T=function(e){try{return decodeURIComponent(e)}catch(t){return e}},j=function(e){var t=e.replace(O," "),i=4;try{return decodeURIComponent(t)}catch(e){for(;i;)t=t.replace(P(i--),T);return t}},R=/[!'()~]|%20/g,F={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},D=function(e){return F[e]},L=function(e){return encodeURIComponent(e).replace(R,D)},N=function(e,t){if(t)for(var i,n,s=t.split("&"),a=0;a<s.length;)(i=s[a++]).length&&(n=i.split("="),e.push({key:j(n.shift()),value:j(n.join("="))}))},M=function(e){this.entries.length=0,N(this.entries,e)},V=function(e,t){if(e<t)throw TypeError("Not enough arguments")},B=c((function(e,t){C(this,{type:"URLSearchParamsIterator",iterator:_(S(e).entries),kind:t})}),"Iterator",(function(){var e=E(this),t=e.kind,i=e.iterator.next(),n=i.value;return i.done||(i.value="keys"===t?n.key:"values"===t?n.value:[n.key,n.value]),i})),q=function(){u(this,q,"URLSearchParams");var e,t,i,n,s,a,o,r,l,c=arguments.length>0?arguments[0]:void 0,d=this,h=[];if(C(d,{type:"URLSearchParams",entries:h,updateURL:function(){},updateSearchParams:M}),void 0!==c)if(f(c))if("function"==typeof(e=y(c)))for(i=(t=e.call(c)).next;!(n=i.call(t)).done;){if((o=(a=(s=_(b(n.value))).next).call(s)).done||(r=a.call(s)).done||!a.call(s).done)throw TypeError("Expected sequence with length 2");h.push({key:o.value+"",value:r.value+""})}else for(l in c)p(c,l)&&h.push({key:l,value:c[l]+""});else N(h,"string"==typeof c?"?"===c.charAt(0)?c.slice(1):c:c+"")},U=q.prototype;r(U,{append:function(e,t){V(arguments.length,2);var i=S(this);i.entries.push({key:e+"",value:t+""}),i.updateURL()},delete:function(e){V(arguments.length,1);for(var t=S(this),i=t.entries,n=e+"",s=0;s<i.length;)i[s].key===n?i.splice(s,1):s++;t.updateURL()},get:function(e){V(arguments.length,1);for(var t=S(this).entries,i=e+"",n=0;n<t.length;n++)if(t[n].key===i)return t[n].value;return null},getAll:function(e){V(arguments.length,1);for(var t=S(this).entries,i=e+"",n=[],s=0;s<t.length;s++)t[s].key===i&&n.push(t[s].value);return n},has:function(e){V(arguments.length,1);for(var t=S(this).entries,i=e+"",n=0;n<t.length;)if(t[n++].key===i)return!0;return!1},set:function(e,t){V(arguments.length,1);for(var i,n=S(this),s=n.entries,a=!1,o=e+"",r=t+"",l=0;l<s.length;l++)(i=s[l]).key===o&&(a?s.splice(l--,1):(a=!0,i.value=r));a||s.push({key:o,value:r}),n.updateURL()},sort:function(){var e,t,i,n=S(this),s=n.entries,a=s.slice();for(s.length=0,i=0;i<a.length;i++){for(e=a[i],t=0;t<i;t++)if(s[t].key>e.key){s.splice(t,0,e);break}t===i&&s.push(e)}n.updateURL()},forEach:function(e){for(var t,i=S(this).entries,n=h(e,arguments.length>1?arguments[1]:void 0,3),s=0;s<i.length;)n((t=i[s++]).value,t.key,this)},keys:function(){return new B(this,"keys")},values:function(){return new B(this,"values")},entries:function(){return new B(this,"entries")}},{enumerable:!0}),o(U,I,U.entries),o(U,"toString",(function(){for(var e,t=S(this).entries,i=[],n=0;n<t.length;)e=t[n++],i.push(L(e.key)+"="+L(e.value));return i.join("&")}),{enumerable:!0}),l(q,"URLSearchParams"),n({global:!0,forced:!a},{URLSearchParams:q}),a||"function"!=typeof w||"function"!=typeof k||n({global:!0,enumerable:!0,forced:!0},{fetch:function(e){var t,i,n,s=[e];return arguments.length>1&&(f(t=arguments[1])&&(i=t.body,"URLSearchParams"===m(i)&&((n=t.headers?new k(t.headers):new k).has("content-type")||n.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),t=g(t,{body:v(0,String(i)),headers:v(0,n)}))),s.push(t)),w.apply(this,s)}}),e.exports={URLSearchParams:q,getState:S}},function(e,t,i){var n=i(41),s=i(74);e.exports=function(e){var t=s(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return n(t.call(e))}},function(e,t){
/*!
 * History API JavaScript Library v4.1.0
 *
 * Support: IE8+, FF3+, Opera 9+, Safari, Chrome and other
 *
 * Copyright 2011-2013, Dmitrii Pakhtinov ( spb.piksel@gmail.com )
 *
 * http://spb-piksel.ru/
 *
 * Dual licensed under the MIT and GPL licenses:
 *   http://www.opensource.org/licenses/mit-license.php
 *   http://www.gnu.org/licenses/gpl.html
 *
 * Update: 2014-03-24 13:14
 */
!function(e){var t=!0,i=null,n=!1;function s(){}function a(e,t,n){if(e==i||""===e||t)e=t?e:_.href,(!I||n)&&(e=e.replace(/^[^#]*/,"")||"#",e=_.protocol.replace(/:.*$|$/,":")+"//"+_.host+D.basepath+e.replace(RegExp("^#[/]?(?:"+D.type+")?"),""));else{n=(t=a()).d;var s=t.h;e=/^(?:[\w0-9]+\:)?\/\//.test(e=""+e)?0===e.indexOf("/")?s+e:e:s+"//"+t.g+(0===e.indexOf("/")?e:0===e.indexOf("?")?n+e:0===e.indexOf("#")?n+t.e+e:n.replace(/[^\/]+$/g,"")+e)}N.href=e;t=(e=/(?:([\w0-9]+:))?(?:\/\/(?:[^@]*@)?([^\/:\?#]+)(?::([0-9]+))?)?([^\?#]*)(?:(\?[^#]+)|\?)?(?:(#.*))?/.exec(N.href))[2]+(e[3]?":"+e[3]:""),n=e[4]||"/",s=e[5]||"";var o="#"===e[6]?"":e[6]||"",r=n+s+o,l=n.replace(RegExp("^"+D.basepath,"i"),D.type)+s;return{b:e[1]+"//"+t+r,h:e[1],g:t,i:e[2],k:e[3]||"",d:n,e:s,a:o,c:r,j:l,f:l+o}}function o(a,o,r,l){var c=!(r=r||{set:s}).set,d=!r.get,u={configurable:t,set:function(){c=1},get:function(){d=1}};try{S(a,o,u),a[o]=a[o],S(a,o,r)}catch(e){}if(!c||!d)if(a.__defineGetter__&&(a.__defineGetter__(o,u.get),a.__defineSetter__(o,u.set),a[o]=a[o],r.get&&a.__defineGetter__(o,r.get),r.set&&a.__defineSetter__(o,r.set)),c&&d||a!==e){if(!c||!d)try{try{var p=g.create(a);for(var h in S(g.getPrototypeOf(p)===a?p:a,o,r),a)"function"==typeof a[h]&&(p[h]=a[h].bind(a));try{l.call(p,p,a)}catch(e){}a=p}catch(e){S(a.constructor.prototype,o,r)}}catch(e){return n}}else{try{var m=a[o];a[o]=i}catch(e){}if("execScript"in e)e.execScript("Public "+o,"VBScript");else try{S(a,o,{value:s})}catch(e){}a[o]=m}return a}function r(e,t,i){return e=e===W?_:e,(i=i||{}).set=i.set||function(i){e[t]=i},i.get=i.get||function(){return e[t]},i}function l(n,a){var r=(""+("string"==typeof n?n:n.type)).replace(/^on/,""),l=U[r];if(l){if((a="string"==typeof n?a:n).target==i)for(var c=["target","currentTarget","srcElement","type"];n=c.pop();)a=o(a,n,{get:"type"===n?function(){return r}:function(){return e}});(("popstate"===r?e.onpopstate:e.onhashchange)||s).call(e,a);c=0;for(var d=l.length;c<d;c++)l[c].call(e,a);return t}return F(n,a)}function c(){var e=b.createEvent?b.createEvent("Event"):b.createEventObject();e.initEvent?e.initEvent("popstate",n,n):e.type="popstate",e.state=x.state,l(e)}function d(e,t,i,s){I||(t=a(t)).c!==a().c&&(M=s,i?_.replace("#"+t.f):_.hash=t.f),!C&&e&&(q[_.href]=e),B=n}function u(i){var n=M;if(M=_.href,n){V!==_.href&&c();i=i||e.event,n=a(M,t);var s=a();i.oldURL||(i.oldURL=n.b,i.newURL=s.b),n.a!==s.a&&l(i)}}function p(e){setTimeout((function(){j("popstate",(function(e){V=_.href,C||(e=o(e,"state",{get:function(){return x.state}})),l(e)}),n)}),0),!I&&e!==t&&x.location&&(m(x.location.hash),B&&(B=n,c()))}function h(t){var i;e:{for(i=(t=t||e.event).target||t.srcElement;i;){if("A"===i.nodeName)break e;i=i.parentNode}i=void 0}var s="defaultPrevented"in t?t.defaultPrevented:t.returnValue===n;i&&"A"===i.nodeName&&!s&&(s=a(),i=a(i.getAttribute("href",2)),s.b.split("#").shift()===i.b.split("#").shift()&&i.a&&(s.a!==i.a&&(x.location.hash=i.a),m(i.a),t.preventDefault?t.preventDefault():t.returnValue=n))}function m(t){var i=b.getElementById(t=(t||"").replace(/^#/,""));i&&i.id===t&&"A"===i.nodeName&&(t=i.getBoundingClientRect(),e.scrollTo(f.scrollLeft||0,t.top+(f.scrollTop||0)-(f.clientTop||0)))}if(e.history){var b=e.document,f=b.documentElement,g=e.Object,v=e.JSON,_=e.location,y=e.history,x=y,w=y.pushState,k=y.replaceState,I=!!w,C="state"in y,S=g.defineProperty,E=o({},"t")?{}:b.createElement("a"),O="",A=e.addEventListener?"addEventListener":(O="on")&&"attachEvent",P=e.removeEventListener?"removeEventListener":"detachEvent",T=e.dispatchEvent?"dispatchEvent":"fireEvent",j=e[A],R=e[P],F=e[T],D={basepath:"/",redirect:0,type:"/"},L="__historyAPI__",N=b.createElement("a"),M=_.href,V="",B=n,q={},U={},H=b.title,$={onhashchange:i,onpopstate:i},J=function(t,i){var n=e.history!==y;n&&(e.history=y),t.apply(y,i),n&&(e.history=x)},z={redirect:function(s,o){if(D.basepath=o=o==i?D.basepath:o,D.type=s=s==i?D.type:s,e.top==e.self){var r=a(i,n,t).c,l=_.pathname+_.search;I?(l=l.replace(/([^\/])$/,"$1/"),r!=o&&RegExp("^"+o+"$","i").test(l)&&_.replace(r)):l!=o&&(l=l.replace(/([^\/])\?/,"$1/?"),RegExp("^"+o,"i").test(l)&&_.replace(o+"#"+l.replace(RegExp("^"+o,"i"),s)+_.hash))}},pushState:function(e,t,n){var s=b.title;H!=i&&(b.title=H),w&&J(w,arguments),d(e,n),b.title=s,H=t},replaceState:function(e,n,s){var a=b.title;H!=i&&(b.title=H),delete q[_.href],k&&J(k,arguments),d(e,s,t),b.title=a,H=n},location:{set:function(t){e.location=t},get:function(){return I?_:E}},state:{get:function(){return q[_.href]||i}}},W={assign:function(e){0===(""+e).indexOf("#")?d(i,e):_.assign(e)},reload:function(){_.reload()},replace:function(e){0===(""+e).indexOf("#")?d(i,e,t):_.replace(e)},toString:function(){return this.href},href:{get:function(){return a().b}},protocol:i,host:i,hostname:i,port:i,pathname:{get:function(){return a().d}},search:{get:function(){return a().e}},hash:{set:function(e){d(i,(""+e).replace(/^(#|)/,"#"),n,M)},get:function(){return a().a}}};(function(){var i;(-1!==(i=((i=b.getElementsByTagName("script"))[i.length-1]||{}).src||"").indexOf("?")?i.split("?").pop():"").replace(/(\w+)(?:=([^&]*))?/g,(function(e,t,i){D[t]=(i||("basepath"===t?"/":"")).replace(/^(0|false)$/,"")})),j(O+"hashchange",u,n);var s=[W,E,$,e,z,x];C&&delete z.state;for(var l=0;l<s.length;l+=2)for(var c in s[l])if(s[l].hasOwnProperty(c))if("function"==typeof s[l][c])s[l+1][c]=s[l][c];else{if(i=r(s[l],c,s[l][c]),!o(s[l+1],c,i,(function(t,i){i===x&&(e.history=x=s[l+1]=t)})))return R(O+"hashchange",u,n),n;s[l+1]===e&&(U[c]=U[c.substr(2)]=[])}return D.redirect&&x.redirect(),!C&&v&&function(){var t;try{(t=e.sessionStorage).setItem(L+"t","1"),t.removeItem(L+"t")}catch(e){t={getItem:function(e){return 1<(e=b.cookie.split(e+"=")).length&&e.pop().split(";").shift()||"null"},setItem:function(e){var t={};(t[_.href]=x.state)&&(b.cookie=e+"="+v.stringify(t))}}}try{q=v.parse(t.getItem(L))||{}}catch(e){q={}}j(O+"unload",(function(){t.setItem(L,v.stringify(q))}),n)}(),I||b[A](O+"click",h,n),"complete"===b.readyState?p(t):(!I&&a().c!==D.basepath&&(B=t),j(O+"load",p,n)),t})()&&(x.emulate=!I,e[A]=function(e,t,i){e in U?U[e].push(t):3<arguments.length?j(e,t,i,arguments[3]):j(e,t,i)},e[P]=function(e,t,i){var n=U[e];if(n){for(e=n.length;--e;)if(n[e]===t){n.splice(e,1);break}}else R(e,t,i)},e[T]=l)}}(window)},function(e,t){e.exports=b},function(e,t,i){},function(e,t){e.exports=f},function(e,t,i){var n,s,a;
/*!
 * jQuery UI Autocomplete 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */s=[i(17),i(179),i(134),i(135),i(136),i(61),i(137)],void 0===(a="function"==typeof(n=function(e){return e.widget("ui.autocomplete",{version:"1.12.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var t,i,n,s=this.element[0].nodeName.toLowerCase(),a="textarea"===s,o="input"===s;this.isMultiLine=a||!o&&this._isContentEditable(this.element),this.valueMethod=this.element[a||o?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(s){if(this.element.prop("readOnly"))return t=!0,n=!0,void(i=!0);t=!1,n=!1,i=!1;var a=e.ui.keyCode;switch(s.keyCode){case a.PAGE_UP:t=!0,this._move("previousPage",s);break;case a.PAGE_DOWN:t=!0,this._move("nextPage",s);break;case a.UP:t=!0,this._keyEvent("previous",s);break;case a.DOWN:t=!0,this._keyEvent("next",s);break;case a.ENTER:this.menu.active&&(t=!0,s.preventDefault(),this.menu.select(s));break;case a.TAB:this.menu.active&&this.menu.select(s);break;case a.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(s),s.preventDefault());break;default:i=!0,this._searchTimeout(s)}},keypress:function(n){if(t)return t=!1,void(this.isMultiLine&&!this.menu.element.is(":visible")||n.preventDefault());if(!i){var s=e.ui.keyCode;switch(n.keyCode){case s.PAGE_UP:this._move("previousPage",n);break;case s.PAGE_DOWN:this._move("nextPage",n);break;case s.UP:this._keyEvent("previous",n);break;case s.DOWN:this._keyEvent("next",n)}}},input:function(e){if(n)return n=!1,void e.preventDefault();this._searchTimeout(e)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){this.cancelBlur?delete this.cancelBlur:(clearTimeout(this.searching),this.close(e),this._change(e))}}),this._initSource(),this.menu=e("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay((function(){delete this.cancelBlur,this.element[0]!==e.ui.safeActiveElement(this.document[0])&&this.element.trigger("focus")}))},menufocus:function(t,i){var n,s;if(this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",(function(){e(t.target).trigger(t.originalEvent)}));s=i.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",t,{item:s})&&t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(s.value),(n=i.item.attr("aria-label")||s.value)&&e.trim(n).length&&(this.liveRegion.children().hide(),e("<div>").text(n).appendTo(this.liveRegion))},menuselect:function(t,i){var n=i.item.data("ui-autocomplete-item"),s=this.previous;this.element[0]!==e.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=s,this._delay((function(){this.previous=s,this.selectedItem=n}))),!1!==this._trigger("select",t,{item:n})&&this._value(n.value),this.term=this._value(),this.close(t),this.selectedItem=n}}),this.liveRegion=e("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(t){var i=this.menu.element[0];return t.target===this.element[0]||t.target===i||e.contains(i,t.target)},_closeOnClickOutside:function(e){this._isEventTargetInWidget(e)||this.close()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front, dialog")),t.length||(t=this.document[0].body),t},_initSource:function(){var t,i,n=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(i,n){n(e.ui.autocomplete.filter(t,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(t,s){n.xhr&&n.xhr.abort(),n.xhr=e.ajax({url:i,data:t,dataType:"json",success:function(e){s(e)},error:function(){s([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay((function(){var t=this.term===this._value(),i=this.menu.element.is(":visible"),n=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;t&&(!t||i||n)||(this.selectedItem=null,this.search(null,e))}),this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):!1!==this._trigger("search",t)?this._search(e):void 0},_search:function(e){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var t=++this.requestIndex;return e.proxy((function(e){t===this.requestIndex&&this.__response(e),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")}),this)},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,(function(t){return"string"==typeof t?{label:t,value:t}:e.extend({},t,{label:t.label||t.value,value:t.value||t.label})}))},_suggest:function(t){var i=this.menu.element.empty();this._renderMenu(i,t),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,i){var n=this;e.each(i,(function(e,i){n._renderItemData(t,i)}))},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,i){return e("<li>").append(e("<div>").text(i.label)).appendTo(t)},_move:function(e,t){if(this.menu.element.is(":visible"))return this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[e](t);this.search(null,t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(e,t),t.preventDefault())},_isContentEditable:function(e){if(!e.length)return!1;var t=e.prop("contentEditable");return"inherit"===t?this._isContentEditable(e.parent()):"true"===t}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,i){var n=new RegExp(e.ui.autocomplete.escapeRegex(i),"i");return e.grep(t,(function(e){return n.test(e.label||e.value||e)}))}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var i;this._superApply(arguments),this.options.disabled||this.cancelSearch||(i=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.children().hide(),e("<div>").text(i).appendTo(this.liveRegion))}}),e.ui.autocomplete})?n.apply(t,s):n)||(e.exports=a)},function(e,t,i){var n,s,a;
/*!
 * jQuery UI Menu 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */s=[i(17),i(134),i(135),i(136),i(180),i(61),i(137)],void 0===(a="function"==typeof(n=function(e){return e.widget("ui.menu",{version:"1.12.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(e){e.preventDefault()},"click .ui-menu-item":function(t){var i=e(t.target),n=e(e.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(t),t.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(t):!this.element.is(":focus")&&n.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){if(!this.previousFilter){var i=e(t.target).closest(".ui-menu-item"),n=e(t.currentTarget);i[0]===n[0]&&(this._removeClass(n.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(t,n))}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var i=this.active||this.element.find(this.options.items).eq(0);t||this.focus(e,i)},blur:function(t){this._delay((function(){!e.contains(this.element[0],e.ui.safeActiveElement(this.document[0]))&&this.collapseAll(t)}))},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){this._closeOnDocumentClick(e)&&this.collapseAll(e),this.mouseHandled=!1}})},_destroy:function(){var t=this.element.find(".ui-menu-item").removeAttr("role aria-disabled").children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),t.children().each((function(){var t=e(this);t.data("ui-menu-submenu-caret")&&t.remove()}))},_keydown:function(t){var i,n,s,a,o=!0;switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:o=!1,n=this.previousFilter||"",a=!1,s=t.keyCode>=96&&t.keyCode<=105?(t.keyCode-96).toString():String.fromCharCode(t.keyCode),clearTimeout(this.filterTimer),s===n?a=!0:s=n+s,i=this._filterMenuItems(s),(i=a&&-1!==i.index(this.active.next())?this.active.nextAll(".ui-menu-item"):i).length||(s=String.fromCharCode(t.keyCode),i=this._filterMenuItems(s)),i.length?(this.focus(t,i),this.previousFilter=s,this.filterTimer=this._delay((function(){delete this.previousFilter}),1e3)):delete this.previousFilter}o&&t.preventDefault()},_activate:function(e){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(e):this.select(e))},refresh:function(){var t,i,n,s,a=this,o=this.options.icons.submenu,r=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),i=r.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each((function(){var t=e(this),i=t.prev(),n=e("<span>").data("ui-menu-submenu-caret",!0);a._addClass(n,"ui-menu-icon","ui-icon "+o),i.attr("aria-haspopup","true").prepend(n),t.attr("aria-labelledby",i.attr("id"))})),this._addClass(i,"ui-menu","ui-widget ui-widget-content ui-front"),(t=r.add(this.element).find(this.options.items)).not(".ui-menu-item").each((function(){var t=e(this);a._isDivider(t)&&a._addClass(t,"ui-menu-divider","ui-widget-content")})),s=(n=t.not(".ui-menu-item, .ui-menu-divider")).children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(n,"ui-menu-item")._addClass(s,"ui-menu-item-wrapper"),t.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,t){if("icons"===e){var i=this.element.find(".ui-menu-icon");this._removeClass(i,null,this.options.icons.submenu)._addClass(i,null,t.submenu)}this._super(e,t)},_setOptionDisabled:function(e){this._super(e),this.element.attr("aria-disabled",String(e)),this._toggleClass(null,"ui-state-disabled",!!e)},focus:function(e,t){var i,n,s;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),n=this.active.children(".ui-menu-item-wrapper"),this._addClass(n,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",n.attr("id")),s=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(s,null,"ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay((function(){this._close()}),this.delay),(i=t.children(".ui-menu")).length&&e&&/^mouse/.test(e.type)&&this._startOpening(i),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(t){var i,n,s,a,o,r;this._hasScroll()&&(i=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0,n=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0,s=t.offset().top-this.activeMenu.offset().top-i-n,a=this.activeMenu.scrollTop(),o=this.activeMenu.height(),r=t.outerHeight(),s<0?this.activeMenu.scrollTop(a+s):s+r>o&&this.activeMenu.scrollTop(a+s-o+r))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",e,{item:this.active}),this.active=null)},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay((function(){this._close(),this._open(e)}),this.delay))},_open:function(t){var i=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(t,i){clearTimeout(this.timer),this.timer=this._delay((function(){var n=i?this.element:e(t&&t.target).closest(this.element.find(".ui-menu"));n.length||(n=this.element),this._close(n),this.blur(t),this._removeClass(n.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=n}),this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(t){return!e(t.target).closest(".ui-menu").length},_isDivider:function(e){return!/[^\-\u2014\u2013\s]/.test(e.text())},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();t&&t.length&&(this._open(t.parent()),this._delay((function(){this.focus(e,t)})))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,i){var n;this.active&&(n="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),n&&n.length&&this.active||(n=this.activeMenu.find(this.options.items)[t]()),this.focus(i,n)},nextPage:function(t){var i,n,s;this.active?this.isLastItem()||(this._hasScroll()?(n=this.active.offset().top,s=this.element.height(),this.active.nextAll(".ui-menu-item").each((function(){return(i=e(this)).offset().top-n-s<0})),this.focus(t,i)):this.focus(t,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())):this.next(t)},previousPage:function(t){var i,n,s;this.active?this.isFirstItem()||(this._hasScroll()?(n=this.active.offset().top,s=this.element.height(),this.active.prevAll(".ui-menu-item").each((function(){return(i=e(this)).offset().top-n+s>0})),this.focus(t,i)):this.focus(t,this.activeMenu.find(this.options.items).first())):this.next(t)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||e(t.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,i)},_filterMenuItems:function(t){var i=t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),n=new RegExp("^"+i,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter((function(){return n.test(e.trim(e(this).children(".ui-menu-item-wrapper").text()))}))}})})?n.apply(t,s):n)||(e.exports=a)},function(e,t,i){var n,s,a;
/*!
 * jQuery UI Unique ID 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */s=[i(17),i(61)],void 0===(a="function"==typeof(n=function(e){return e.fn.extend({uniqueId:(t=0,function(){return this.each((function(){this.id||(this.id="ui-id-"+ ++t)}))}),removeUniqueId:function(){return this.each((function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")}))}});var t})?n.apply(t,s):n)||(e.exports=a)},function(e,t){e.exports=g},function(e,t,i){i(183)("Uint8",(function(e){return function(t,i,n){return e(this,t,i,n)}}))},function(e,t,i){"use strict";var n=i(59),s=i(31),a=i(46),o=i(184),r=i(105),l=i(186),c=i(84),d=i(63),u=i(45),p=i(51),h=i(139),m=i(189),b=i(80),f=i(42),g=i(85),v=i(47),_=i(81),y=i(72),x=i(100).f,w=i(191),k=i(192).forEach,I=i(195),C=i(50),S=i(99),E=i(58),O=i(196),A=E.get,P=E.set,T=C.f,j=S.f,R=Math.round,F=s.RangeError,D=l.ArrayBuffer,L=l.DataView,N=r.NATIVE_ARRAY_BUFFER_VIEWS,M=r.TYPED_ARRAY_TAG,V=r.TypedArray,B=r.TypedArrayPrototype,q=r.aTypedArrayConstructor,U=r.isTypedArray,H=function(e,t){for(var i=0,n=t.length,s=new(q(e))(n);n>i;)s[i]=t[i++];return s},$=function(e,t){T(e,t,{get:function(){return A(this)[t]}})},J=function(e){var t;return e instanceof D||"ArrayBuffer"==(t=g(e))||"SharedArrayBuffer"==t},z=function(e,t){return U(e)&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},W=function(e,t){return z(e,t=b(t,!0))?d(2,e[t]):j(e,t)},K=function(e,t,i){return!(z(e,t=b(t,!0))&&v(i)&&f(i,"value"))||f(i,"get")||f(i,"set")||i.configurable||f(i,"writable")&&!i.writable||f(i,"enumerable")&&!i.enumerable?T(e,t,i):(e[t]=i.value,e)};a?(N||(S.f=W,C.f=K,$(B,"buffer"),$(B,"byteOffset"),$(B,"byteLength"),$(B,"length")),n({target:"Object",stat:!0,forced:!N},{getOwnPropertyDescriptor:W,defineProperty:K}),e.exports=function(e,t,i){var a=e.match(/\d+$/)[0]/8,r=e+(i?"Clamped":"")+"Array",l="get"+e,d="set"+e,b=s[r],f=b,g=f&&f.prototype,C={},S=function(e,t){T(e,t,{get:function(){return function(e,t){var i=A(e);return i.view[l](t*a+i.byteOffset,!0)}(this,t)},set:function(e){return function(e,t,n){var s=A(e);i&&(n=(n=R(n))<0?0:n>255?255:255&n),s.view[d](t*a+s.byteOffset,n,!0)}(this,t,e)},enumerable:!0})};N?o&&(f=t((function(e,t,i,n){return c(e,f,r),O(v(t)?J(t)?void 0!==n?new b(t,m(i,a),n):void 0!==i?new b(t,m(i,a)):new b(t):U(t)?H(f,t):w.call(f,t):new b(h(t)),e,f)})),y&&y(f,V),k(x(b),(function(e){e in f||u(f,e,b[e])})),f.prototype=g):(f=t((function(e,t,i,n){c(e,f,r);var s,o,l,d=0,u=0;if(v(t)){if(!J(t))return U(t)?H(f,t):w.call(f,t);s=t,u=m(i,a);var b=t.byteLength;if(void 0===n){if(b%a)throw F("Wrong length");if((o=b-u)<0)throw F("Wrong length")}else if((o=p(n)*a)+u>b)throw F("Wrong length");l=o/a}else l=h(t),s=new D(o=l*a);for(P(e,{buffer:s,byteOffset:u,byteLength:o,length:l,view:new L(s)});d<l;)S(e,d++)})),y&&y(f,V),g=f.prototype=_(B)),g.constructor!==f&&u(g,"constructor",f),M&&u(g,M,r),C[r]=f,n({global:!0,forced:f!=b,sham:!N},C),"BYTES_PER_ELEMENT"in f||u(f,"BYTES_PER_ELEMENT",a),"BYTES_PER_ELEMENT"in g||u(g,"BYTES_PER_ELEMENT",a),I(r)}):e.exports=function(){}},function(e,t,i){var n=i(31),s=i(40),a=i(185),o=i(105).NATIVE_ARRAY_BUFFER_VIEWS,r=n.ArrayBuffer,l=n.Int8Array;e.exports=!o||!s((function(){l(1)}))||!s((function(){new l(-1)}))||!a((function(e){new l,new l(null),new l(1.5),new l(e)}),!0)||s((function(){return 1!==new l(new r(2),1,void 0).length}))},function(e,t,i){var n=i(32)("iterator"),s=!1;try{var a=0,o={next:function(){return{done:!!a++}},return:function(){s=!0}};o[n]=function(){return this},Array.from(o,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!s)return!1;var i=!1;try{var a={};a[n]=function(){return{next:function(){return{done:i=!0}}}},e(a)}catch(e){}return i}},function(e,t,i){"use strict";var n=i(31),s=i(46),a=i(138),o=i(45),r=i(129),l=i(40),c=i(84),d=i(57),u=i(51),p=i(139),h=i(187),m=i(82),b=i(72),f=i(100).f,g=i(50).f,v=i(188),_=i(71),y=i(58),x=y.get,w=y.set,k=n.ArrayBuffer,I=k,C=n.DataView,S=C&&C.prototype,E=Object.prototype,O=n.RangeError,A=h.pack,P=h.unpack,T=function(e){return[255&e]},j=function(e){return[255&e,e>>8&255]},R=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},F=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},D=function(e){return A(e,23,4)},L=function(e){return A(e,52,8)},N=function(e,t){g(e.prototype,t,{get:function(){return x(this)[t]}})},M=function(e,t,i,n){var s=p(i),a=x(e);if(s+t>a.byteLength)throw O("Wrong index");var o=x(a.buffer).bytes,r=s+a.byteOffset,l=o.slice(r,r+t);return n?l:l.reverse()},V=function(e,t,i,n,s,a){var o=p(i),r=x(e);if(o+t>r.byteLength)throw O("Wrong index");for(var l=x(r.buffer).bytes,c=o+r.byteOffset,d=n(+s),u=0;u<t;u++)l[c+u]=d[a?u:t-u-1]};if(a){if(!l((function(){k(1)}))||!l((function(){new k(-1)}))||l((function(){return new k,new k(1.5),new k(NaN),"ArrayBuffer"!=k.name}))){for(var B,q=(I=function(e){return c(this,I),new k(p(e))}).prototype=k.prototype,U=f(k),H=0;U.length>H;)(B=U[H++])in I||o(I,B,k[B]);q.constructor=I}b&&m(S)!==E&&b(S,E);var $=new C(new I(2)),J=S.setInt8;$.setInt8(0,2147483648),$.setInt8(1,2147483649),!$.getInt8(0)&&$.getInt8(1)||r(S,{setInt8:function(e,t){J.call(this,e,t<<24>>24)},setUint8:function(e,t){J.call(this,e,t<<24>>24)}},{unsafe:!0})}else I=function(e){c(this,I,"ArrayBuffer");var t=p(e);w(this,{bytes:v.call(new Array(t),0),byteLength:t}),s||(this.byteLength=t)},C=function(e,t,i){c(this,C,"DataView"),c(e,I,"DataView");var n=x(e).byteLength,a=d(t);if(a<0||a>n)throw O("Wrong offset");if(a+(i=void 0===i?n-a:u(i))>n)throw O("Wrong length");w(this,{buffer:e,byteLength:i,byteOffset:a}),s||(this.buffer=e,this.byteLength=i,this.byteOffset=a)},s&&(N(I,"byteLength"),N(C,"buffer"),N(C,"byteLength"),N(C,"byteOffset")),r(C.prototype,{getInt8:function(e){return M(this,1,e)[0]<<24>>24},getUint8:function(e){return M(this,1,e)[0]},getInt16:function(e){var t=M(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=M(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return F(M(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return F(M(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return P(M(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return P(M(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){V(this,1,e,T,t)},setUint8:function(e,t){V(this,1,e,T,t)},setInt16:function(e,t){V(this,2,e,j,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){V(this,2,e,j,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){V(this,4,e,R,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){V(this,4,e,R,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){V(this,4,e,D,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){V(this,8,e,L,t,arguments.length>2?arguments[2]:void 0)}});_(I,"ArrayBuffer"),_(C,"DataView"),e.exports={ArrayBuffer:I,DataView:C}},function(e,t){var i=Math.abs,n=Math.pow,s=Math.floor,a=Math.log,o=Math.LN2;e.exports={pack:function(e,t,r){var l,c,d,u=new Array(r),p=8*r-t-1,h=(1<<p)-1,m=h>>1,b=23===t?n(2,-24)-n(2,-77):0,f=e<0||0===e&&1/e<0?1:0,g=0;for((e=i(e))!=e||e===1/0?(c=e!=e?1:0,l=h):(l=s(a(e)/o),e*(d=n(2,-l))<1&&(l--,d*=2),(e+=l+m>=1?b/d:b*n(2,1-m))*d>=2&&(l++,d/=2),l+m>=h?(c=0,l=h):l+m>=1?(c=(e*d-1)*n(2,t),l+=m):(c=e*n(2,m-1)*n(2,t),l=0));t>=8;u[g++]=255&c,c/=256,t-=8);for(l=l<<t|c,p+=t;p>0;u[g++]=255&l,l/=256,p-=8);return u[--g]|=128*f,u},unpack:function(e,t){var i,s=e.length,a=8*s-t-1,o=(1<<a)-1,r=o>>1,l=a-7,c=s-1,d=e[c--],u=127&d;for(d>>=7;l>0;u=256*u+e[c],c--,l-=8);for(i=u&(1<<-l)-1,u>>=-l,l+=t;l>0;i=256*i+e[c],c--,l-=8);if(0===u)u=1-r;else{if(u===o)return i?NaN:d?-1/0:1/0;i+=n(2,t),u-=r}return(d?-1:1)*i*n(2,u-t)}}},function(e,t,i){"use strict";var n=i(60),s=i(118),a=i(51);e.exports=function(e){for(var t=n(this),i=a(t.length),o=arguments.length,r=s(o>1?arguments[1]:void 0,i),l=o>2?arguments[2]:void 0,c=void 0===l?i:s(l,i);c>r;)t[r++]=e;return t}},function(e,t,i){var n=i(190);e.exports=function(e,t){var i=n(e);if(i%t)throw RangeError("Wrong offset");return i}},function(e,t,i){var n=i(57);e.exports=function(e){var t=n(e);if(t<0)throw RangeError("The argument can't be less than 0");return t}},function(e,t,i){var n=i(60),s=i(51),a=i(74),o=i(103),r=i(73),l=i(105).aTypedArrayConstructor;e.exports=function(e){var t,i,c,d,u,p,h=n(e),m=arguments.length,b=m>1?arguments[1]:void 0,f=void 0!==b,g=a(h);if(null!=g&&!o(g))for(p=(u=g.call(h)).next,h=[];!(d=p.call(u)).done;)h.push(d.value);for(f&&m>2&&(b=r(b,arguments[2],2)),i=s(h.length),c=new(l(this))(i),t=0;i>t;t++)c[t]=f?b(h[t],t):h[t];return c}},function(e,t,i){var n=i(73),s=i(93),a=i(60),o=i(51),r=i(193),l=[].push,c=function(e){var t=1==e,i=2==e,c=3==e,d=4==e,u=6==e,p=5==e||u;return function(h,m,b,f){for(var g,v,_=a(h),y=s(_),x=n(m,b,3),w=o(y.length),k=0,I=f||r,C=t?I(h,w):i?I(h,0):void 0;w>k;k++)if((p||k in y)&&(v=x(g=y[k],k,_),e))if(t)C[k]=v;else if(v)switch(e){case 3:return!0;case 5:return g;case 6:return k;case 2:l.call(C,g)}else if(d)return!1;return u?-1:c||d?d:C}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6)}},function(e,t,i){var n=i(47),s=i(194),a=i(32)("species");e.exports=function(e,t){var i;return s(e)&&("function"!=typeof(i=e.constructor)||i!==Array&&!s(i.prototype)?n(i)&&null===(i=i[a])&&(i=void 0):i=void 0),new(void 0===i?Array:i)(0===t?0:t)}},function(e,t,i){var n=i(78);e.exports=Array.isArray||function(e){return"Array"==n(e)}},function(e,t,i){"use strict";var n=i(69),s=i(50),a=i(32),o=i(46),r=a("species");e.exports=function(e){var t=n(e),i=s.f;o&&t&&!t[r]&&i(t,r,{configurable:!0,get:function(){return this}})}},function(e,t,i){var n=i(47),s=i(72);e.exports=function(e,t,i){var a,o;return s&&"function"==typeof(a=t.constructor)&&a!==i&&n(o=a.prototype)&&o!==i.prototype&&s(e,o),e}},function(e,t){e.exports=v},function(e,t){e.exports=_},function(e,t){e.exports=y},function(e,t){e.exports=x},function(e,t){e.exports=w},function(e,t){e.exports=k},function(e,t){e.exports=I},function(e,t){e.exports=C},function(e,t){e.exports=S},function(e,t){e.exports=E},function(e,t){e.exports=O},function(e,t){e.exports=A},function(e,t){e.exports=P},function(e,t){e.exports=T},function(e,t,i){"use strict";var n=i(59),s=i(83),a=i(125),o=i(212),r=i(213);n({target:"Promise",stat:!0},{allSettled:function(e){var t=this,i=a.f(t),n=i.resolve,l=i.reject,c=o((function(){var i=s(t.resolve),a=[],o=0,l=1;r(e,(function(e){var s=o++,r=!1;a.push(void 0),l++,i.call(t,e).then((function(e){r||(r=!0,a[s]={status:"fulfilled",value:e},--l||n(a))}),(function(e){r||(r=!0,a[s]={status:"rejected",reason:e},--l||n(a))}))})),--l||n(a)}));return c.error&&l(c.value),i.promise}})},function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},function(e,t,i){var n=i(41),s=i(103),a=i(51),o=i(73),r=i(74),l=i(128),c=function(e,t){this.stopped=e,this.result=t};(e.exports=function(e,t,i,d,u){var p,h,m,b,f,g,v,_=o(t,i,d?2:1);if(u)p=e;else{if("function"!=typeof(h=r(e)))throw TypeError("Target is not iterable");if(s(h)){for(m=0,b=a(e.length);b>m;m++)if((f=d?_(n(v=e[m])[0],v[1]):_(e[m]))&&f instanceof c)return f;return new c(!1)}p=h.call(e)}for(g=p.next;!(v=g.call(p)).done;)if("object"==typeof(f=l(p,_,v.value,d))&&f&&f instanceof c)return f;return new c(!1)}).stop=function(e){return new c(!0,e)}},function(e,t,i){"use strict";i.r(t);i(4);var n=i(0),s=i.n(n),a=i(6);const{location:o}=window,r=o.origin+o.pathname;const l=function(){const e=document.querySelector("[data-base-url]").getAttribute("data-base-url");return e?e.substring(3):"athoc"}(),c={promiseError:function(e){return e.reason},error:function(e){if(e.error&&e.error.stack)return`${e.message}\n${e.error.stack}`;const t=e.filename.split("/").pop();return`${e.message} (${t} at line ${e.lineno})`},apiError:function(e){return e.response}};var d={createError(e,t,i){const n=c[e](t),s={url:r,hash:o.hash,stack:n,version:l};return i&&(s.rest={url:i.url,status:t.statusCode,payload:i.body,headers:i.headers}),s}},u={http:{baseUrl:"https://llg00fev.uk.oracle.com:3001",method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},suppressErrors:!0,transformRequest:e=>(e.body=JSON.stringify(e.body),e)},allowedHosts:{"https://fuscdrmsmc82-fa-ext.us.oracle.com":"DIT A","https://fuscdrmsmc150-fa-ext.us.oracle.com":"DIT B","https://fuscdrmsmc237-fa-ext.us.oracle.com":"DIT C","https://fuscdrmsmc167-fa-ext.us.oracle.com":"BRONZE","https://fuscdrmsmc258-fa-ext.us.oracle.com":"BRONZE-AUTO","https://fuscdrmsmc245-fa-ext.us.oracle.com":"SILVER","https://fuscdrmsmc262-fa-ext.us.oracle.com":"SILVER-AUTO"}},p=i(28);function h(e,t,i){const n=d.createError(e,t,i);return a.a.post("/api/logs",n,u.http).then(e=>{console.warn(`Bug logged: ${u.http.baseUrl}/log.html?${e._id}`)}).catch(e=>console.error(e))}var m={init(){window.location.origin in u.allowedHosts&&(window.addEventListener("error",h.bind(null,"error")),p.a.apiError.add(h.bind(null,"apiError")))}},b=i(2),f=i(87),g=i(90),v=i(37),_=i(14),y=i(3),x=i(55),w=i(67),k=i(22);const I=y.a.getSettingByKey("IRC_CE_REST_LOG_LEVEL")||"ERROR";function C(e,t){window.ORA&&window.ORA.click({data:{"wt.ti":e,"wt.dl":t}})}function S(){w.a.isCookieAllowed()&&(window.ORA||function(){const e=y.a.infinityTag;if(!e)return;const t=`https://c.oracleinfinity.io/acs/account/fp3kyrmvtg/js/${e}/odc.js`;Object(x.a)(t)}(),_.i[_.f].add(()=>{C(_.f,99)}),_.i[_.c].add(()=>{C(_.c,99)}),_.i[_.e].add(()=>{C(_.e,99)}),_.i[_.d].add(()=>{C(_.d,99)}),_.i[_.a].add(()=>{"ALL"===I&&C(_.a,99)}))}_.i[_.g].add(S),_.i[_.h].add((function(){k.a.remove("ORA_FPC")}));var E={init:S},O=i(27),A=(i(12),i(5));function P({candidateId:e,jobId:t},i){const n=y.a.getSettingByKey(i);if(!n)return;const s=n.replace("{reqId}",encodeURIComponent(t)).replace("{candId}",e).concat("&randno=").concat((new Date).getTime());document.createElement("img").src=s}var T={init(){_.i[_.c].add(({jobId:e})=>{P({candidateId:A.a.getCandidateNumber()||k.a.get(O.a)||"UNKNOWN",jobId:e},"PIXEL_TRACKING_URL_APPLY")}),_.i[_.b].add(({candidateId:e,jobId:t})=>{P({candidateId:e,jobId:t},"PIXEL_TRACKING_URL_APPLY_ENTRY")}),_.i[_.d].add(({candidateId:e,jobId:t})=>{P({candidateId:e,jobId:t},"PIXEL_TRACKING_URL_SUBMIT")})}},j=i(23),R=i(38),F=i(26);function D(e){var t;const i=null===(t=A.a.get())||void 0===t?void 0:t.accessCode;return i&&(e.headers["Ora-Irc-Access-Code"]=i),e}function L(e){const t=k.a.get("ORA_CX_USERID");return t&&(e.headers["Ora-Irc-Cx-UserId"]=t),e}function N(e){const t=Object(F.a)(y.a.getSettingByKey("ORA_IRC_CE_VTURL_ADD_TIMESTAMP_HEADER"));return window.VanityUrlEnabled&&y.a.vanityBaseUrl&&t?(e.headers["Ora-Irc-Cx-Timestamp"]=Date.now(),e):e}var M=i(43);i(7),i(108),i(17),i(130),i(131),i(174),i(8),i(175),i(13),i(132),i(104);j.a.addAuthorizationHeader=D,j.a.addUserTrackingHeader=L,j.a.addTimestampHeader=N,j.a.setStatusCodeHandler(401,R.b),Promise.all([f.a.init(),v.d.loadGlobalSettings()]).then(()=>M.a.extend().catch(e=>{e&&console.warn(e)})).then(()=>{O.b.init(),m.init(),g.a.init(),E.init(),T.init(),Promise.resolve().then((function(){var e=[i(215)];(()=>{b.a.sync(),s.a.applyBindings()}).apply(null,e)})).catch(i.oe)})},function(e,t,i){"use strict";i.r(t);var n=i(0),s=i.n(n),a=i(7),o=i.n(a),r={get(e){const{$lang:t,$data:i,$parent:n}=e;return t||i&&i.$lang||n&&n.$lang}},l=i(1);s.a.bindingHandlers.i18n={update(e,t,i,n,a){const c=s.a.unwrap(t()),d=r.get(a);if("object"==typeof c){const t=o.a.toJS(c.tokens);Object.keys(t).length>0?e.innerHTML=Object(l.a)(c.key,t,d):e.textContent=Object(l.a)(c.key,null,d)}else e.textContent=Object(l.a)(c,null,d)}},s.a.bindingHandlers.i18nAttr={update(e,t,i,n,a){const o=s.a.utils.unwrapObservable(t())||{},c=r.get(a);s.a.utils.objectForEach(o,(t,i)=>{const n=s.a.utils.unwrapObservable(i);if(!n)return void e.removeAttribute(t);const a="object"==typeof n?Object(l.a)(n.key,n.tokens,c):Object(l.a)(n,null,c);e.setAttribute(t,a)})}};i(4);var c=i(3);s.a.bindingHandlers.i18nLang={init(e,t,i,n,a){const o=s.a.unwrap(t()),r=function(e){const[t]=c.a.languages.filter(t=>t.code===e);return t?t.direction:"ltr"}(o);e.setAttribute("dir",r);const l=a.extend({$lang:o});return s.a.applyBindingsToDescendants(l,e),{controlsDescendantBindings:!0}}};const d=` (${Object(l.a)("apply-flow.section-personal-information.required-label")})`;function u(e,t){this.key=Object(n.unwrap)(e.key),this.tokens=e.tokens||{},t.filter(e=>e instanceof HTMLElement&&e.getAttribute("data-i18n-token")).reduce((e,t)=>{const i=t.getAttribute("data-i18n-token"),n=t.outerHTML;return e[i]=n,e},this.tokens)}s.a.bindingHandlers.i18nRequired={update(e,t,i){const n=t();s.a.bindingHandlers.i18nAttr.update(e,t,i),e.getAttribute("required")&&Object.keys(n).forEach(t=>{const i=e.getAttribute(t);i&&e.setAttribute(t,i+d)})}};var p={createViewModel:(e,t)=>new u(e,t.templateNodes)};n.components.register("i18n",{viewModel:p,template:'<span data-bind="i18n: {key: key, tokens: tokens}"></span>\n'});i(12);var h=i(2),m=i(19),b=i(18);s.a.bindingHandlers.route={init(e,t,i){const n="A"===e.tagName?"href":"action",a=s.a.unwrap(t()),o=s.a.unwrap(i.get("routeParams")),r=s.a.unwrap(i.get("routeConfig")),l=s.a.unwrap(i.get("routeLang"))||b.a.get(),c=s.a.unwrap(i.get("isAbsoluteUrl"))||l!==b.a.get();let d=c?m.b.interpolate({lang:l},a,o,r):h.a.interpolate(a,o,r);if(!c){const t=e=>{h.a.go(a,o,r),e.preventDefault()};e.addEventListener("click",t),d=document.baseURI.replace(/\/$/,"")+d}e.setAttribute(n,d)}};const f={};var g={create:e=>(f[e]||(f[e]=Object(n.observable)()),f[e]),get:e=>f[e],remove(e){f[e]&&f[e](null)}};function v(e,t,i){const n=function(e,t){const i=document.createComment(`ko [ ${t} ]`),n=document.createComment("/ko");return s.a.virtualElements.prepend(e,i),s.a.virtualElements.insertAfter(e,n,i),i}(e,t);s.a.applyBindingsToNode(n,{component:{name:t,params:i}})}s.a.virtualElements.allowedBindings.view=!0,s.a.bindingHandlers.view={init(e,t,i){const n=t(),a=i().params,o=g.create(n).subscribe(t=>{s.a.virtualElements.emptyNode(e),s.a.components.isRegistered(t)&&(v(e,t,a),function(e,t){s.a.utils.domNodeDisposal.addDisposeCallback(e,()=>{g.remove(t)})}(e,n))});s.a.utils.domNodeDisposal.addDisposeCallback(e,()=>{o.dispose()})},update(e,t){const i=t(),n=h.a.route().view(),s=g.create(i);if(i in n){s(n[i])}}},s.a.bindingHandlers.routeTransition={update(e,t){const i=t();!function(e,t,i){const{transition:n}=e;e.id===t&&n(i)}(h.a.route(),i,e)}},s.a.bindingHandlers.currentRoute={init(e){h.a.route.subscribe(({id:t})=>{e.setAttribute("data-route",t)})}};const _={attributes:!0,attributeOldValue:!0,attributeFilter:["class"],characterData:!1};function y(e){return e+"px"}function x(e,t){const i=function(e){const t=e.getBoundingClientRect();return t.x+t.width-(window.innerWidth||document.documentElement.clientWidth)}(e);i>0&&(e.style.left=y(e.offsetLeft-i-t))}n.bindingHandlers.classRemovedObserver={init(e,t){const{className:i,handler:s}=t(),a=new MutationObserver(t=>{t.forEach(t=>{const n=t.oldValue.includes(i),a=e.className.includes(i);n&&!a&&s()})});a.observe(e,_),n.utils.domNodeDisposal.addDisposeCallback(e,()=>a.disconnect())}},s.a.bindingHandlers.tooltipPosition={init(e){!function(e,t){const i=e.getBoundingClientRect().x;i<0&&(e.style.left=y(t-i+e.offsetLeft))}(e,5),x(e,5)}};n.components.register("form-element-label",{viewModel:class{constructor({element:e,id:t,forId:i}){this.element=e,this.id=t,this.forId=i,this.helpTextId=e.attributes().id+"-helpText",this.isHelpTooltipVisible=Object(n.observable)(!1)}showHelpTooltip(){this.isHelpTooltipVisible(!0)}hideHelpTooltip(){this.isHelpTooltipVisible(!1)}},template:'\x3c!-- ko if: element.label --\x3e\n<label\n    class="input-row__label"\n    data-bind="css: {\'input-row__label--required\': element.isRequired,\n                            \'input-row__label--disabled\': element.isDisabled},\n                      attr: {for: forId, id: id}"\n>\n    <span class="input-row__linebreak">\x3c!-- ko text : element.label --\x3e\x3c!-- /ko --\x3e</span>\n</label>\n\x3c!-- ko if : element.helpText() && element.showLabelTooltip --\x3e\n<tooltip\n    params="helpTextId: helpTextId, isVisible: isHelpTooltipVisible, helpText: element.helpText"\n    class="input-row__label-tooltip"\n>\n    <tooltip-anchor>\n        <button\n            type="button"\n            class="input-row__help"\n            data-bind="event: {mouseenter: showHelpTooltip, mouseout: hideHelpTooltip, focus: showHelpTooltip, blur: hideHelpTooltip},\n                                                                                attr: {\'aria-labelledby\': helpTextId}"\n        ></button>\n    </tooltip-anchor>\n</tooltip>\n\x3c!-- /ko --\x3e\n\x3c!-- /ko --\x3e\n'});let w=0;class k{constructor(e){this.element=e.element;const t=`${this.element.name()}-${w++}`;this.labelId=t+"-label",this.attributes=Object.assign(this.element.attributes(),{id:t}),this.hasFocus=Object(n.observable)(!1),this.isFocused=Object(n.pureComputed)(()=>this.hasFocus()),this.isInvalid=Object(n.pureComputed)(this._isInvalid,this),this.isFilled=Object(n.pureComputed)(()=>Boolean(this.element.value())),this.isEmptyDisabled=Object(n.pureComputed)(()=>this.element.isDisabled()&&!this.isFilled()),this.blurHandler=this.blurHandler.bind(this),this.focusHandler=this.focusHandler.bind(this)}blurHandler(){this.element.isTouched(!0)}focusHandler(){this.hasFocus(!0)}_isInvalid(){return!1===this.element.isValidElement()}}var I=function(e,t){let i,n=[];return(...s)=>new Promise(a=>{const o=(...t)=>{i=null;const s=e.apply(this,t);n.forEach(e=>e(s)),n=[]};clearTimeout(i),n.push(a),i=setTimeout(()=>{o(...s)},t)})};class C extends k{constructor(...e){super(...e),this.getOptions=this.getOptions.bind(this),this.debouncedGetOptions=I(this.element.getOptions.bind(this.element),500)}async getOptions(e){const t=this.element.value();return"term"in e?await this.debouncedGetOptions(e.term):t?await this.element.getOption(t):[]}contains(e){return(this.element.options()||[]).some(({lookupCode:t})=>t===e)}blurHandler(){this.hasFocus(!1),super.blurHandler()}}const S=Object(l.a)("core.form.autosuggest.placeholder");class E extends C{constructor(...e){super(...e),this.isEmpty=s.a.pureComputed(()=>{const e=this.element.options();return!(e&&e.length)}),this.defaultPlaceholder=S,this.placeholder=s.a.pureComputed(()=>this.isEmpty()?" ":this.defaultPlaceholder)}}n.components.register("autosuggest-form-element",{viewModel:E,template:'<div\n    class="input-row input-row--text"\n    data-bind="css: {\'input-row--focused\': isFocused,\n                      \'input-row--filled\': isFilled,\n                      \'input-row--invalid\': isInvalid}"\n>\n    <form-element-label params="element: element, forId: attributes.id"></form-element-label>\n\n    <div class="input-row__control-container" data-bind="attr: { \'data-qa\': element.name }">\n        <oj-combobox-one\n            class="input-row__control input-row__search-input"\n            value="{{element.value}}"\n            options="[[getOptions]]"\n            options-keys="[[element.optionsKeys]]"\n            on-focus="[[focusHandler]]"\n            on-click="[[focusHandler]]"\n            on-blur="[[blurHandler]]"\n            placeholder="[[placeholder]]"\n            picker-attributes="[[{ \'class\': \'input-row__listbox background-color-dropdown\' }]]"\n        ></oj-combobox-one>\n\n        <div class="input-row__control-decorator"></div>\n\n        \x3c!-- ko if: isInvalid --\x3e\n        <p class="input-row__validation" role="alert" data-bind="text: element.getErrorMessage"></p>\n        \x3c!-- /ko --\x3e\n    </div>\n</div>\n'}),s.a.subscribable.fn.subscribeOnce=function(e,t,i){const n=this.subscribe(t=>{n.dispose(),e(t)},t,i)};class O extends k{constructor(...e){super(...e),this.helpTextId=this.element.id()+"-helpText",this.isHelpTooltipVisible=Object(n.observable)(!1)}showHelpTooltip(){this.isHelpTooltipVisible(!0)}hideHelpTooltip(){this.isHelpTooltipVisible(!1)}}class A extends O{constructor(...e){super(...e),this.element.value.subscribeOnce(this.blurHandler.bind(this)),this.checked=this.element.value,this.cssClass=this.attributes.cssClass}}var P='<div\n    class="input-row input-row--checkbox"\n    data-bind="attr: { \'aria-labelledby\': labelId }, css: { \'input-row--invalid\': isInvalid }, class: cssClass"\n>\n    <input\n        type="checkbox"\n        class="input-row__hidden-control"\n        data-bind="attr: { id: \'af-checkbox-\' + element.id() }, disable: element.isDisabled, checked: checked"\n    />\n\n    <div class="input-row__control-container">\n        <label\n            class="apply-flow-input-checkbox"\n            data-bind="attr: { for: \'af-checkbox-\' + element.id() },\n            css: { \'apply-flow-input-checkbox--disabled\': element.isDisabled }"\n        >\n            <span\n                class="apply-flow-input-checkbox__button"\n                data-bind="css: { \'apply-flow-input-checkbox__button--checked\': checked }"\n            ></span>\n            <span\n                class="apply-flow-input-checkbox__label"\n                data-bind="text: element.label, attr: {id: labelId},\n                    css: { \'apply-flow-input-checkbox__label--required\': element.isRequired }"\n            ></span>\n        </label>\n        \x3c!-- ko if : element.helpText --\x3e\n        <tooltip\n            class="input-row__help-tooltip--checkbox"\n            params="helpTextId: helpTextId, isVisible: isHelpTooltipVisible, helpText: element.helpText"\n        >\n            <tooltip-anchor>\n                <button\n                    type="button"\n                    class="input-row__help input-row__help--checkbox"\n                    data-bind="event: { mouseover: showHelpTooltip, mouseout: hideHelpTooltip, focus: showHelpTooltip, blur: hideHelpTooltip },\n                    attr: { \'aria-labelledby\': helpTextId }"\n                ></button>\n            </tooltip-anchor>\n        </tooltip>\n        \x3c!-- /ko --\x3e\n\n        \x3c!-- ko if: isInvalid --\x3e\n        <p class="input-row__validation" role="alert" data-bind="text: element.getErrorMessage"></p>\n        \x3c!-- /ko --\x3e\n    </div>\n</div>\n';n.components.register("checkbox-form-element",{viewModel:A,template:P}),n.components.register("checkbox-string-value-form-element",{viewModel:class extends A{constructor(...e){super(...e),this.setDefaultValues(),this.element.value()||this.element.value(this.element.defaultValue()||this.element.uncheckedValue),this.checked=s.a.pureComputed({read(){return this.element.value()===this.element.checkedValue},write(e){this.element.value(e?this.element.checkedValue:this.element.uncheckedValue)}},this)}setDefaultValues(){this.element.uncheckedValue=this.element.uncheckedValue||"N",this.element.checkedValue=this.element.checkedValue||"Y"}},template:P});class T{constructor(e){this.form=s.a.unwrap(e.form)}dispose(){this.form.dispose()}}var j="\x3c!-- ko foreach: {data: form.elements, as: 'element'} --\x3e\n\x3c!-- ko ifnot: element.isHidden --\x3e\n\x3c!-- ko component: {\n            name: element.component,\n            params: {\n                element: element\n            }\n        } --\x3e\n\x3c!-- /ko --\x3e\n\x3c!-- /ko --\x3e\n\x3c!-- /ko --\x3e\n";n.components.register("form-builder",{viewModel:T,template:j});n.components.register("multiselect-form-element",{viewModel:class extends k{constructor(...e){super(...e),Array.isArray(this.element.value())||this.element.value([]),this.element.value(this.filterNonexistentValues())}filterNonexistentValues(){return this.element.value().filter(e=>this.element.options().find(({lookupCode:t})=>t===e))}},template:'<div\n    class="input-row input-row--radiogroup"\n    role="group"\n    data-bind="attr: {\'aria-labelledby\': labelId},\n                css: {\'input-row--invalid\': isInvalid}"\n>\n    <form-element-label params="element: element, id: labelId"></form-element-label>\n\n    <div class="input-row__control-container">\n        \x3c!-- ko foreach: {data: element.options, as: \'option\'} --\x3e\n        <div class="input-row__control-item">\n            <input\n                type="checkbox"\n                class="input-row__hidden-control"\n                data-bind="value: option.lookupCode,\n                                  checked: $parent.element.value,\n                                  event: {blur: $parent.blurHandler.bind($parent)},\n                                  attr: {id: \'dq-option-\' + option.lookupCode,\n                                         \'aria-labelledby\': \'label-dq-option-\' + option.lookupCode}"\n            />\n\n            <label\n                class="apply-flow-input-checkbox"\n                data-bind="attr: {for: \'dq-option-\' + option.lookupCode}"\n            >\n                <span class="apply-flow-input-checkbox__button"></span>\n                <span class="apply-flow-input-checkbox__label" data-bind="text: option.meaning"></span>\n            </label>\n        </div>\n        \x3c!-- /ko --\x3e\n\n        \x3c!-- ko if: isInvalid --\x3e\n        <p class="input-row__validation" role="alert" data-bind="text: element.getErrorMessage"></p>\n        \x3c!-- /ko --\x3e\n    </div>\n</div>\n'});n.components.register("multiselectlist-form-element",{viewModel:class extends k{constructor(...e){super(...e),this.value=Object(n.observable)(null),this.pills=Object(n.pureComputed)(this._computePills,this),this.onValueChanged=this.onValueChanged.bind(this),this.resetHandler=this.resetHandler.bind(this),this.genericRemoveLabel=Object(l.a)("general.remove-button"),Array.isArray(this.element.value())||this.element.value([]),this.element.value(this.filterNonexistentValues())}_computePills(){return this.element.options().filter(({lookupCode:e})=>this.element.value().includes(e))}filterNonexistentValues(){return this.element.value().filter(e=>this.element.options().find(({lookupCode:t})=>t===e))}onValueChanged(e){const{value:t,label:i}=e.detail.value,n=this.element.options().find(({lookupCode:e,meaning:n})=>e===t&&n===i);if(!n)return;const s=this.element.value();s.push(n.lookupCode),this.element.value(s),this.element._disableOptions(),this.hasFocus(!0)}resetHandler(){this.value(null)}blurHandler(){this.hasFocus(!1),super.blurHandler()}},template:'<div\n    class="input-row input-row--multiselect"\n    role="group"\n    data-bind="css: { \'input-row--focused\': isFocused, \'input-row--invalid\': isInvalid }"\n>\n    <form-element-label params="element: element, id: labelId"></form-element-label>\n\n    <div class="input-row__control-container">\n        <oj-combobox-one\n            class="input-row__control input-row__search-input"\n            value="{{value}}"\n            options="[[element.options]]"\n            options-keys="[[{ value: \'lookupCode\', label: \'meaning\' }]]"\n            on-value-option-changed="[[onValueChanged]]"\n            on-value-changed="[[resetHandler]]"\n            on-focus="[[focusHandler]]"\n            on-click="[[focusHandler]]"\n            on-blur="[[blurHandler]]"\n            label-edge="none"\n            label-hint="[[element.label]]"\n            picker-attributes="[[{ \'class\': \'input-row__listbox background-color-dropdown\' }]]"\n        >\n        </oj-combobox-one>\n\n        <div class="input-row__control-decorator"></div>\n\n        \x3c!-- ko if: isInvalid --\x3e\n        <p class="input-row__validation" role="alert" data-bind="text: element.getErrorMessage"></p>\n        \x3c!-- /ko --\x3e\n    </div>\n</div>\n\n\x3c!-- ko if: pills().length --\x3e\n<ul class="multi-select-pill__values">\n    \x3c!-- ko foreach: pills --\x3e\n    <li class="multi-select-pill__value background-color-secondary">\n        <span class="multi-select-pill__value-text text-color-light" data-bind="text: meaning"> </span>\n\n        <button\n            type="button"\n            class="multi-select-pill__value-remove text-color-light"\n            data-bind="click: $component.element._removeOption.bind($component.element, $data),\n                       attr: { \'title\': `${$component.genericRemoveLabel} ${meaning}` }"\n        ></button>\n    </li>\n    \x3c!-- /ko --\x3e\n</ul>\n\x3c!-- /ko --\x3e\n'});n.components.register("radio-form-element",{viewModel:class extends k{constructor(...e){super(...e),this._getUniqueId=e=>`${this.element.attributes().id}-${e.lookupCode}`,this.element.options().forEach(e=>{const t=e;t.optionId=this._getUniqueId(t),t.attributes=s.a.utils.extend({},this.element.attributes()),t.attributes.id=t.optionId,t.attributes["aria-labelledby"]="label-"+t.optionId,t.attributes.name=this.element.id})}},template:'<div\n    class="input-row input-row--radiogroup"\n    role="radiogroup"\n    data-bind="attr: {\'aria-labelledby\': labelId},\n                css: {\'input-row--invalid\': isInvalid}"\n>\n    <form-element-label params="element: element, id: labelId"></form-element-label>\n\n    <div class="input-row__control-container">\n        \x3c!-- ko foreach: {data: element.options, as: \'option\'} --\x3e\n        <input\n            type="radio"\n            class="input-row__hidden-control apply-flow-input-radio-control"\n            data-bind="checkedValue: option.lookupCode,\n                               checked: $parent.element.value,\n                               attr: option.attributes,\n                               event: {blur: $parent.blurHandler.bind($parent)}"\n        />\n\n        <label class="apply-flow-input-radio" data-bind="attr: {\'for\': option.optionId}">\n            <span\n                class="apply-flow-input-radio__button"\n                aria-hidden="true"\n                data-bind="css: {\'apply-flow-input-radio__button--checked\': $parent.element.value() === option.lookupCode,\n                                           \'apply-flow-input-radio__button--unchecked\': $parent.element.value() !== option.lookupCode}"\n            ></span>\n            <span\n                aria-hidden="true"\n                class="apply-flow-input-radio__label"\n                data-bind="text: option.meaning, attr: {\'id\': \'label-\' + option.optionId}"\n            ></span>\n        </label>\n        \x3c!-- /ko --\x3e\n\n        \x3c!-- ko if: isInvalid --\x3e\n        <p class="input-row__validation" role="alert" data-bind="text: element.getErrorMessage"></p>\n        \x3c!-- /ko --\x3e\n    </div>\n</div>\n'});class R extends k{constructor(...e){super(...e),this._setAttributes(),this.isDisabled=Object(n.pureComputed)(this._isDisabled,this),this.a11yLabel=this.element.label()}blurHandler(){this.hasFocus(!1),super.blurHandler()}_isDisabled(){const e=this.element.isDisabled(),t=Array.isArray(this.element.options())&&this.element.options().length;return e||!t}_setAttributes(){this.attributes.placeholder?this.placeholder=this.attributes.placeholder:this.placeholder=this.element.withEmptyOption()?"":void 0}}n.components.register("select-form-element",{viewModel:R,template:'<div\n    class="input-row input-row--has-picker"\n    data-bind="css: {\'input-row--focused\': isFocused,\n                      \'input-row--filled\': isFilled,\n                      \'input-row--invalid\': isInvalid}"\n>\n    <form-element-label params="element: element, forId: element.id"></form-element-label>\n\n    <div\n        class="input-row__control-container"\n        data-bind="attr: { id: element.containerId, \'data-qa\': element.name }"\n    >\n        <oj-select-one\n            :aria-label="[[a11yLabel]]"\n            class="input-row__select"\n            placeholder="[[placeholder]]"\n            disabled="[[isDisabled]]"\n            value="{{element.value}}"\n            options="[[element.options]]"\n            options-keys="[[element.optionsKeys]]"\n            item-text="[[element.optionsKeys.label]]"\n            on-focus="[[focusHandler]]"\n            picker-attributes="[[{ \'class\': \'input-row__listbox background-color-dropdown\' }]]"\n            data-bind="classRemovedObserver: {\n                className: \'oj-listbox-dropdown-open\',\n                handler: blurHandler.bind($data)\n            }"\n        >\n        </oj-select-one>\n\n        <div class="input-row__control-decorator"></div>\n\n        \x3c!-- ko if: isInvalid --\x3e\n        <p class="input-row__validation" role="alert" data-bind="text: element.getErrorMessage"></p>\n        \x3c!-- /ko --\x3e\n    </div>\n</div>\n'});n.components.register("search-form-element",{viewModel:C,template:'<div\n    class="input-row input-row--has-picker"\n    data-bind="css: {\'input-row--focused\': isFocused,\n                      \'input-row--filled\': isFilled,\n                      \'input-row--invalid\': isInvalid}"\n>\n    <form-element-label params="element: element, id: labelId, forId: attributes.id"></form-element-label>\n\n    <div class="input-row__control-container" data-bind="attr: { \'data-qa\': element.name }">\n        <oj-select-one\n            class="input-row__select"\n            placeholder=""\n            disabled="[[element.isDisabled]]"\n            minimum-results-for-search="0"\n            value="{{element.value}}"\n            options="[[getOptions]]"\n            options-keys="[[element.optionsKeys]]"\n            item-text="[[element.optionsKeys.label]]"\n            on-focus="[[focusHandler]]"\n            picker-attributes="[[{ \'class\': \'input-row__listbox background-color-dropdown\' }]]"\n            data-bind="classRemovedObserver: {\n                className: \'oj-listbox-dropdown-open\',\n                handler: blurHandler.bind($data)\n            }"\n        >\n        </oj-select-one>\n\n        <div class="input-row__control-decorator"></div>\n\n        \x3c!-- ko if: isInvalid --\x3e\n        <p class="input-row__validation" role="alert" data-bind="text: element.getErrorMessage"></p>\n        \x3c!-- /ko --\x3e\n    </div>\n</div>\n'});n.components.register("tooltip-text-form-element",{viewModel:O,template:'<div\n    class="input-row input-row--text"\n    data-bind="css: {\'input-row--focused\': isFocused,\n                      \'input-row--filled\': isFilled,\n                      \'input-row--invalid\': isInvalid,\n                      \'input-row--empty-disabled\': isEmptyDisabled}"\n>\n    <form-element-label params="element: element, forId: attributes.id"></form-element-label>\n\n    <div class="input-row__control-container">\n        <div\n            data-bind="event: {mouseenter: showHelpTooltip, mouseout: hideHelpTooltip, focus: showHelpTooltip, blur: hideHelpTooltip}"\n        >\n            <input\n                class="input-row__control"\n                data-bind="value: element.value,\n                           attr: attributes,\n                           disable: element.isDisabled,\n                           hasFocus: hasFocus,\n                           event: {blur: blurHandler.bind($data)},\n                           css: {\'input-row__control-tooltip--disabled\': element.isDisabled}"\n            />\n            \x3c!-- ko if: element.isDisabled --\x3e\n            <tooltip\n                params="helpTextId: helpTextId, isVisible: isHelpTooltipVisible, helpText: element.helpText"\n                class="input-row__control-tooltip"\n            >\n                <tooltip-anchor>\n                    <span\n                        class="input-row__control-disabled-icon"\n                        tabindex="0"\n                        data-bind="attr: { \'aria-labelledby\': helpTextId },\n                    event: {mouseenter: showHelpTooltip, mouseout: hideHelpTooltip, focus: showHelpTooltip, blur: hideHelpTooltip}"\n                    >\n                    </span>\n                </tooltip-anchor>\n            </tooltip>\n            \x3c!-- /ko --\x3e\n        </div>\n        <div class="input-row__control-decorator"></div>\n        \x3c!-- ko if: isInvalid --\x3e\n        <p\n            class="input-row__validation"\n            data-bind="text: element.getErrorMessage, attr: { role: (hasFocus() ? \'\' : \'alert\') } "\n        ></p>\n        \x3c!-- /ko --\x3e\n    </div>\n</div>\n'});n.components.register("text-form-element",{viewModel:k,template:'<div\n    class="input-row input-row--text"\n    data-bind="css: {\'input-row--focused\': isFocused,\n                      \'input-row--filled\': isFilled,\n                      \'input-row--invalid\': isInvalid,\n                      \'input-row--empty-disabled\': isEmptyDisabled}"\n>\n    <form-element-label params="element: element, forId: attributes.id"></form-element-label>\n\n    <div class="input-row__control-container">\n        <input\n            class="input-row__control"\n            data-bind="value: element.value,\n                           attr: attributes,\n                           disable: element.isDisabled,\n                           hasFocus: hasFocus,\n                           a11y.setFocusOnTab: {focusOn: element.focusNextSelector, delay: 10, when: isFilled } ,\n                           event: {blur: blurHandler.bind($data)} "\n        />\n        <div class="input-row__control-decorator"></div>\n\n        \x3c!-- ko if: isInvalid --\x3e\n        <p\n            class="input-row__validation"\n            data-bind="text: element.getErrorMessage, attr: { role: (hasFocus() ? \'\' : \'alert\') } "\n        ></p>\n        \x3c!-- /ko --\x3e\n    </div>\n</div>\n'});function F(e){return parseInt(e.replace("px",""),10)}function D(e,t){e.style.height=t+"px"}s.a.bindingHandlers.textareaHeight={init(e,t,i,n){const a=function(e){const t=parseInt(e.getAttribute("rows"),10),i=window.getComputedStyle(e);return F(i.paddingTop)+F(i.borderTopWidth)+F(i.lineHeight)*t+F(i.borderBottomWidth)+F(i.paddingBottom)+(e.offsetHeight-e.clientHeight)}(e),o=function(e,t){const i=document.createElement("textarea");return i.className=e.className+" input-row__control--helper",i.setAttribute("rows",e.getAttribute("rows")),i.setAttribute("aria-hidden",!0),i.setAttribute("tabIndex","-1"),s.a.applyBindingsToNode(i,{value:t.element.value},t),e.parentNode.insertBefore(i,e.nextSibling),i}(e,n);function r(){const t=function(){D(o,a);const e=o.scrollHeight+(o.offsetHeight-o.clientHeight);return e>=a?e:a}();t>350?e.classList.add("input-row__control--huge-content"):e.classList.remove("input-row__control--huge-content"),D(e,t)}D(o,a),e.classList.add("input-row__control--autoheight"),e.addEventListener("keyup",r,!1),s.a.utils.domNodeDisposal.addDisposeCallback(e,()=>{e.removeEventListener("keyup",r,!1)}),r()}};n.components.register("textarea-form-element",{viewModel:k,template:'<div\n    class="input-row input-row--textarea"\n    data-bind="css: {\'input-row--focused\': isFocused,\n                      \'input-row--filled\': isFilled,\n                      \'input-row--invalid\': isInvalid,\n                      \'input-row--empty-disabled\': isEmptyDisabled}"\n>\n    <form-element-label params="element: element, forId: attributes.id"></form-element-label>\n\n    <div class="input-row__control-container">\n        <textarea\n            class="input-row__control"\n            rows="1"\n            data-bind="textInput: element.value,\n                            attr: attributes,\n                            hasFocus: hasFocus,\n                            event: {blur: blurHandler.bind($data)},\n                            textareaHeight"\n        ></textarea>\n        <div class="input-row__control-decorator"></div>\n\n        \x3c!-- ko if: isInvalid --\x3e\n        <p class="input-row__validation" role="alert" data-bind="text: element.getErrorMessage"></p>\n        \x3c!-- /ko --\x3e\n    </div>\n</div>\n'});n.components.register("noresponse-form-element",{viewModel:class extends k{},template:'<div class="input-row input-row--text input-row--empty-disabled">\n    \x3c!-- ko if: element.label --\x3e\n    <label class="input-row__label input-row__label--disabled input-row__label--fullwidth">\n        <span class="input-row__linebreak">\x3c!-- ko text : element.label --\x3e\x3c!-- /ko --\x3e</span>\n    </label>\n    \x3c!-- /ko --\x3e\n</div>\n'});n.components.register("sitelink-form-element",{viewModel:k,template:'<div class="candidate-links__link" data-bind="css: {\'candidate-links__link--removable\': element.isRemovable}">\n    <div\n        class="input-row input-row--text"\n        data-bind="css: {\'input-row--focused\': isFocused,\n                          \'input-row--filled\': isFilled,\n                          \'input-row--invalid\': isInvalid,\n                          \'input-row--empty-disabled\': isEmptyDisabled}"\n    >\n        <form-element-label params="element: element, forId: attributes.id"></form-element-label>\n\n        <div class="input-row__control-container">\n            <input\n                class="input-row__control"\n                data-bind="value: element.value,\n                               attr: attributes,\n                               disable: element.isDisabled,\n                               hasFocus: hasFocus,\n                               event: {blur: blurHandler.bind($data)} "\n            />\n            <div class="input-row__control-decorator"></div>\n\n            \x3c!-- ko if: isInvalid --\x3e\n            <p\n                class="input-row__validation"\n                data-bind="text: element.getErrorMessage, attr: { role: (hasFocus() ? \'\' : \'alert\') } "\n            ></p>\n            \x3c!-- /ko --\x3e\n        </div>\n    </div>\n\n    \x3c!-- ko if: element.isRemovable --\x3e\n    <button\n        type="button"\n        class="candidate-links__remove-link"\n        data-bind="\n                click: $parents[2].removeLink.bind($parents[2], element.siteLink),\n                i18nAttr: {\'title\': \'general.remove-button\'}"\n    >\n        <span class="candidate-links__remove-link-label" data-bind="i18n: \'general.remove-button\'"></span>\n    </button>\n    \x3c!-- /ko --\x3e\n</div>\n'});n.components.register("datepicker-form-element",{viewModel:class extends O{constructor(...e){super(...e),this.selectedDay=Object(n.observable)(),this.selectedMonth=Object(n.observable)(),this.selectedYear=Object(n.observable)(),this.dayField={name:"day",placeholder:Object(l.a)("general.date-picker.day"),layoutCode:"dd",value:this.selectedDay,defaultValue:null,options:this.element.generateDays(),isTouched:Object(n.observable)(!1),a11yLabel:this.element.label(),type:"select"},this.monthField={name:"month",placeholder:Object(l.a)("general.date-picker.month"),layoutCode:"mm",value:this.selectedMonth,defaultValue:null,options:this.element.generateMonths(),isTouched:Object(n.observable)(!1),a11yLabel:this.element.label(),type:"select"},this.yearField={name:"year",placeholder:Object(l.a)("general.date-picker.year"),layoutCode:"yy",value:this.selectedYear,defaultValue:(new Date).getFullYear(),options:this.element.generateYears(),isTouched:Object(n.observable)(!1),a11yLabel:this.element.label(),type:"text"},this.fields=this._generateLayout();const t=this.element.value();t&&this._setDate(t),this.blurHandler=this.blurHandler.bind(this),this._valueSubscribe=this.element.value.subscribe(this._setDate,this),this.showWarningMessage=Object(n.pureComputed)(this._computeShowWarningMessage,this)}onChange(){const e=this._generateIsoDate(this._getSelectedDay(),this.selectedMonth(),this.selectedYear());this.element.value(e)}blurHandler(e){e.isTouched(!0),this._isTouched()&&this.element.isTouched(!0)}pickerAttributes(e){const t=["input-row__listbox background-color-dropdown","datepicker-row__listbox"];return t.push("datepicker-row__listbox--"+e.name),{class:t.join(" ")}}_getSelectedDay(){let e=this.selectedDay();return"first"===this.element.fixedDay?e=this.dayField.options[0].value:"last"===this.element.fixedDay&&(e=new Date(this.selectedYear(),this.selectedMonth(),0).getDate()),e}_isTouched(){return[this.dayField,this.monthField,this.yearField].every(e=>e.isTouched())}_setDate(e){if(null===e)return this.selectedDay(null),this.selectedMonth(null),void this.selectedYear(null);if(""===e)return;const[t,i,n]=e.split("-");this.selectedDay(n),this.selectedMonth(i),this.selectedYear(t)}_createComputedValue(e){return Object(n.pureComputed)({read(){const t=e();return t?[t]:[]},write(t){const i=t?t[0]:null;e(i)},owner:this})}_generateLayout(){const e=this.element.layout.split("-");return[this.dayField,this.monthField,this.yearField].forEach(t=>{const i=e.indexOf(t.layoutCode);i>-1?e[i]=t:t.isTouched(!0)}),e}_generateIsoDate(e,t,i){return this._isDateComplete(e,t,i)?[i,t,e].join("-"):""}_isDateEmpty(e,t,i){return this.element.fixedDay?!t&&!i:!e&&!t&&!i}_isDateComplete(e,t,i){return this.element.fixedDay?t&&i:e&&t&&i}_computeShowWarningMessage(){if(this.isInvalid())return!1;const e=this.dayField.value(),t=this.monthField.value(),i=this.yearField.value();return!this._isDateEmpty(e,t,i)&&!this._isDateComplete(e,t,i)}dispose(){this._valueSubscribe.dispose()}},template:'<div\n    class="datepicker-row input-row input-row--with-placeholder input-row--has-picker"\n    data-bind="css: {\'input-row--focused\': isFocused,\n                      \'input-row--filled\': isFilled,\n                      \'input-row--invalid\': isInvalid }"\n>\n    <form-element-label params="element: element, forId: element.id"></form-element-label>\n    <div class="input-row__control-container tooltip-trigger">\n        <div class="input-row-composite__inputs" data-bind="foreach: { data: fields, as: \'field\' }">\n            <div\n                data-bind="attr: { class: \'input-row-composite__input datepicker-row__input datepicker-row__input--\' + field.name },\n                event: {mouseenter: $parent.showHelpTooltip.bind($parent), mouseout: $parent.hideHelpTooltip.bind($parent),\n                    focus: $parent.showHelpTooltip.bind($parent), blur: $parent.hideHelpTooltip.bind($parent)}"\n            >\n                \x3c!-- ko if: field.type === \'select\' --\x3e\n                <oj-select-one\n                    :aria-label="[[a11yLabel]]"\n                    class="input-row-composite__select"\n                    placeholder="[[field.placeholder]]"\n                    disabled="[[element.isDisabled]]"\n                    value="{{field.value}}"\n                    on-value-changed="[[$parent.onChange.bind($component)]]"\n                    item-text="[[element.optionsKeys.label]]"\n                    minimum-results-for-search="200"\n                    picker-attributes="[[$component.pickerAttributes.bind($component, field)()]]"\n                >\n                    <oj-bind-for-each data="[[field.options]]">\n                        <template>\n                            <oj-option value="[[$current.data.value]]">\n                                <oj-bind-text value="[[$current.data.label]]"></oj-bind-text>\n                            </oj-option>\n                        </template>\n                    </oj-bind-for-each>\n                </oj-select-one>\n                \x3c!-- /ko --\x3e\n\n                \x3c!-- ko if: field.type === \'text\' --\x3e\n                <input\n                    class="input-row__control input-row-composite__text-field"\n                    type="text"\n                    maxlength="4"\n                    data-bind="\n                            value: field.value,\n                            attr: {\n                                \'aria-label\': field.a11yLabel,\n                                placeholder: field.placeholder,\n                                pattern: \'[0-9]*\'\n                            },\n                            disable: element.isDisabled,\n                            event: {\n                                change: $parent.onChange.bind($component)\n                            }"\n                />\n                \x3c!-- /ko --\x3e\n\n                <div class="input-row__control-decorator"></div>\n            </div>\n        </div>\n        \x3c!-- ko if: element.isDisabled && element.helpText --\x3e\n        <tooltip\n            params="helpTextId: helpTextId, isVisible: isHelpTooltipVisible, helpText: element.helpText"\n            class="input-row-composite__tooltip--datepicker"\n        >\n            <tooltip-anchor>\n                <span\n                    class="input-row-composite__input-disabled_icon"\n                    tabindex="0"\n                    data-bind="attr: { \'aria-labelledby\': helpTextId },\n                event: {mouseenter: showHelpTooltip, mouseout: hideHelpTooltip, focus: showHelpTooltip, blur: hideHelpTooltip}"\n                >\n                </span>\n            </tooltip-anchor>\n        </tooltip>\n        \x3c!-- /ko --\x3e\n        \x3c!-- ko if: isInvalid --\x3e\n        <p class="input-row__validation" role="alert" data-bind="text: element.getErrorMessage"></p>\n        \x3c!-- /ko --\x3e\n        \x3c!-- ko if: showWarningMessage --\x3e\n        <p\n            class="input-row__warning"\n            role="alert"\n            data-bind="i18n: \'validators.incomplete-date-warning-message\'"\n        ></p>\n        \x3c!-- /ko --\x3e\n    </div>\n</div>\n'});var L=i(36);n.bindingHandlers.setFocusWhenPinResend={init(e){const t=L.a.pinResend.add((function(){e.querySelector('[type="number"]').focus()}));n.utils.domNodeDisposal.addDisposeCallback(e,()=>{t.detach()})}};var N={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,INSERT:45,DELETE:46};n.components.register("pin-form-element",{viewModel:class extends k{constructor(...e){super(...e),this.segments=Object(n.observableArray)(this._createSegments(6)),this.editedSegmentIndex=Object(n.observable)(0),this.ariaLabel=Object(l.a)("apply-flow.candidate-verification.verification-code"),this.combinedPin=Object(n.pureComputed)(()=>this.segments().map(e=>e.value()).join("")),this.isVisible=Object(n.observable)(!0),this.segmentsSubs=this.segments().map(e=>e.value.subscribe(this._onSegmentValueChanged.bind(this)))}trimToDigit({value:e}){const t=e().charAt(0);e(/[0-9]/.test(t)?t:void 0),e()&&this._focusNextSegment()}setEditedSegmentIndex(e,t,i){i.target.select(),this.editedSegmentIndex(e)}handleKeydown({value:e},t){const i=t.keyCode||t.charCode,n=!e();return i!==N.BACKSPACE&&i!==N.DELETE||(t.preventDefault(),e(null),n&&this._focusPreviousSegment()),!0}blurHandler(e){[...this.segments()].pop()===e&&super.blurHandler()}focusInHandler(){this.hasFocus(!0)}focusOutHandler(){this.hasFocus(!1)}pasteHandler(e,{originalEvent:t}){const i=t.clipboardData.getData("text").trim();if(!i||!i.match(/[0-9]*/g))return;const n=i.split("");6===n.length&&n.forEach((e,t)=>{this.segments()[t].value(e)})}_focusNextSegment(){this.editedSegmentIndex()<5&&this.editedSegmentIndex(this.editedSegmentIndex()+1)}_focusPreviousSegment(){this.editedSegmentIndex()>0&&this.editedSegmentIndex(this.editedSegmentIndex()-1)}_onSegmentValueChanged(){this.element.value(6===this.combinedPin().length?this.combinedPin():"")}_onModelValueChange(){this.segments().forEach((e,t)=>e.value(this.element.value().charAt(t)))}_createSegments(e){const t=[...new Array(e)].map(()=>({value:Object(n.observable)("")}));return this.element.value()&&t.forEach((e,t)=>e.value(this.element.value().charAt(t))),t}dispose(){this.segmentsSubs.forEach(e=>e.dispose())}},template:'<div\n    class="input-row input-row--pin-code"\n    data-bind="css: {\'input-row--focused\': isFocused,\n                      \'input-row--filled\': isFilled,\n                      \'input-row--invalid\': isInvalid,\n                      \'input-row--empty-disabled\': isEmptyDisabled}"\n>\n    <form-element-label params="element: element, forId: attributes.id"></form-element-label>\n\n    <div class="input-row__control-container" data-bind="setFocusWhenPinResend">\n        <div\n            class="pin-code-input"\n            data-bind="event: {\n                focusin: focusInHandler,\n                focusout: focusOutHandler\n             },\n             a11y.setInitialFocus: {\n                isVisible: isVisible,\n                delay: 200,\n                focusOn: \'#pin-code-1\',\n                onInit: true\n             }"\n        >\n            \x3c!-- ko foreach: { data: segments, as: \'segment\' }  --\x3e\n            <div class="pin-code-input__segment">\n                <input\n                    class="input-row__control pin-code-input__input"\n                    type="number"\n                    autocomplete="off"\n                    pattern="[0-9]*"\n                    data-bind="\n                        value: segment.value,\n                        valueUpdate: \'input\',\n                        attr: {\n                        \'aria-label\': $component.ariaLabel + \' \' + ($index() + 1),\n                        \'id\': \'pin-code-\'+($index() + 1)\n                        },\n                        disable: element.isDisabled,\n                        hasFocus: $component.editedSegmentIndex() === $index(),\n                        event: {\n                            keydown: $component.handleKeydown.bind($component),\n                            focus: $component.setEditedSegmentIndex.bind($component, $index()),\n                            input: $component.trimToDigit.bind($component),\n                            blur: $parent.blurHandler.bind($parent, segment),\n                            paste: $component.pasteHandler.bind($component)\n                        },\n                        a11y.skipTo: {elementsFocused: \'.pin-code-input__input\'}"\n                />\n\n                <div class="input-row__control-decorator pin-code-input__decorator"></div>\n            </div>\n            \x3c!-- /ko  --\x3e\n        </div>\n\n        \x3c!-- ko if: isInvalid --\x3e\n        <p\n            class="input-row__validation"\n            data-bind="text: element.getErrorMessage, attr: { role: (hasFocus() ? \'\' : \'alert\') } "\n        ></p>\n        \x3c!-- /ko --\x3e\n    </div>\n</div>\n'});const M=/\d/g,V=/\D/g;function B(e){e.target.dispatchEvent(new Event("change"))}s.a.bindingHandlers.formatPhoneNumber={init(e,t){const{format:i}=t();let n;function a(){const t=e.value.substring(0,e.selectionStart).match(M),n={caretPosition:e.selectionStart,leadingDigitsCount:(t||[]).length};e.value=i();const s=function(t){let i=t.caretPosition;i=o(i);const n=e.value.substring(0,i).match(V);let s=(n||[]).length+t.leadingDigitsCount;return s=o(s),s}(n);e.setSelectionRange(s,s)}function o(t){let i=t;for(;n!==N.BACKSPACE&&n!==N.DELETE&&((s=e.value[i])<"0"||s>"9");)i++;var s;return i}e.addEventListener("keydown",e=>{n=e.keyCode}),e.addEventListener("input",e=>{a(e.target.value)}),e.addEventListener("blur",B),s.a.utils.domNodeDisposal.addDisposeCallback(e,()=>{e.removeEventListener("blur",B)})}};const q={childList:!0,subtree:!0,characterData:!0};n.bindingHandlers.prefixObserver={init(e){const t=new MutationObserver(e=>{e.forEach(({target:e})=>{if("SPAN"!==e.tagName||!e.classList.contains("oj-select-chosen"))return;if(!e.innerText.startsWith("+"))return;const t=function(e){const[t]=e.split(" ");return t}(e.innerText);e.innerText!==t&&(e.innerText=t)})});t.observe(e,q),n.utils.domNodeDisposal.addDisposeCallback(e,()=>t.disconnect())}};var U=i(6),H=i(52),$=i(48),J=i(9),z=i(54),W=Object.assign({},U.a,{get(e,t={}){const i=z.a.interpolate(e,t.params,t.paramsDelimiter);if(J.a.exists(i)){const n=J.a.restore(i);return H.a.apply(JSON.parse($.a.mapToRest(n)),{url:e,...t}),Promise.resolve(n)}return U.a.get(e,t).then(e=>(J.a.store(i,e),e))}}),K={get(e,...t){const i=`${e}#ceCacheLang=${b.a.get()}`;return W.get(i,...t)}};const G=["code","contentItemId","currencyCode","countryCode","id","locationId","lookupCode","levelId","territoryCode","jobFamilyId","ratingLevelId","establishmentId"],Y=["geographyName","locationName","meaning","name","territoryShortName","jobFamilyName","ratingDescription"];function Q(e,t){return t.reduce((t,i)=>t||(e[i]?i:""),"")}function Z(e,t,i){const n=e[0]&&e[0].listOfValues||e,[s]=n,a=Q(s,t),o=Q(s,i);return Object.assign(s,{lookupCodeKey:a,meaningKey:o}),n.map(e=>Object.assign(e,{lookupCode:e[a],meaning:e[o]}))}var X={mapDictionariesFromRest(e){const t=e.items;if(!t.length)return[];if(function(e){if(!e.length)return!1;const[{geographyType:t}]=e;return t&&"COUNTRY"!==t}(t)){return Z(t,G.map(e=>"countryCode"===e?"geographyName":e),Y.map(e=>"geographyName"===e?"geographyDisplayName":e))}return Z(t,G,Y)}};const ee="recruitingCEDictionaries/1/lov/",te={onlyData:"true",limit:500},ie={countries:"TerritoryShortName",profileCountries:"GeographyName",profileStateProvinces:"GeographyDisplayName"};function ne(e){return Object.keys(ie).filter(t=>-1!==e.indexOf(t)).reduce((e,t)=>e||ie[t],"")}var se={CODES:{nameTitles:"nameTitles",educationInstitutions:"educationInstitutions",educationLevels:"educationLevels",attachmentCategories:"attachmentCategories",countries:"countries",degrees:"profileContentItems?finder=findByContentTypeId;ContentTypeId=106",profileCountries:"profileCountries",profileStateProvinces:"profileStateProvinces",profileLocations:"profileLocations",phoneCountryCodes:"phoneCountryCodes"},get(e,t){let i=e;-1===i.indexOf(ee)&&-1===i.indexOf("ExtraInformationDictionary")&&(i=ee+i);const n=s.a.utils.extend({orderBy:ne(i)},te);return function(e,t){const i=-1!==e.indexOf("?")?"&":"?",n=z.a.encode(t);return K.get(`/${e}${i}${n}`,{headers:{"REST-Framework-Version":2}}).then(X.mapDictionariesFromRest)}(i,s.a.utils.extend(n,t))},find(e,t,i){const n=Object.keys(t).map(e=>`${e}='${t[e]}'`).join(";"),a=s.a.utils.extend({q:n},i);return this.get(e,a)},findOne(e,t,i){let n=s.a.utils.extend({},i||{});return n=s.a.utils.extend(n,{limit:1}),this.find(e,t,n).then(e=>e.shift())},findLike(e,t,i){const n=Object.keys(t).map(e=>`UPPER(${e}) LIKE UPPER('*${t[e]}*')`).join(" OR "),a=s.a.utils.extend({q:n},i);return this.get(e,a)},getByUrl(e){return this.get(e)}},ae=i(35);function oe(e,t){if("string"!=typeof e)throw new TypeError("First argument must be a string");return function(i){return Object(n.unwrap)(i[e])===t}}var re={LEADING_CHARS_REGEX:/^\+/,getAll:()=>se.get(se.CODES.phoneCountryCodes).then(e=>e.filter(e=>e.phoneCountryCode).sort((e,t)=>e.territoryShortName.localeCompare(t.territoryShortName)).map(e=>({value:e.phoneCountryCode,label:`+${e.phoneCountryCode} (${e.territoryShortName||""})`}))).catch(e=>(console.error(e),[])),async getLocalCountryCode(){var e;const[t,i]=await Promise.all([se.get(se.CODES.phoneCountryCodes),ae.a.query()]).catch(e=>(console.error(e),[]));if(!t||!i)return null;const n=t.find(({territoryCode:e})=>e===i.countryCode);return null!==(e=null==n?void 0:n.phoneCountryCode)&&void 0!==e?e:null},extractCountryCode(e){const t=t=>0===e.replace(this.LEADING_CHARS_REGEX,"").indexOf(t);return se.get(se.CODES.phoneCountryCodes).then(e=>{const[i=""]=e.map(e=>e.phoneCountryCode).filter(e=>t(e));return i}).catch(e=>(console.error(e),""))},async getPhoneCountryCodeByTerritoryCode(e){const t=(await se.get(se.CODES.phoneCountryCodes)).find(oe("territoryCode",e));return null==t?void 0:t.phoneCountryCode}},le=i(142),ce=i.n(le);n.components.register("phone-form-element",{viewModel:class extends O{constructor(...e){super(...e),this.selectedPrefix=Object(n.observable)(),this.prefixField=this._getPrefixFieldConfig(),this.phoneField=this._getPhoneFieldConfig(),this._loadOptions(),this._setInitialValue(),this.subscription=this._createValueSubscription()}onChangeNumber(){this._setValueForElement(),this.element.isTouched(!0)}onChangePrefix(e){this.prefixField.value(e.detail.value),this.phoneField.value(this.formatNumber()),this.phoneField.value()&&this.onChangeNumber()}formatNumber(){return this.element.formatPhoneNumberWithoutCountryCode({countryCode:this.selectedPrefix(),number:this.phoneField.value()})}dispose(){this.subscription&&(this.subscription.dispose(),this.subscription=null)}_createValueSubscription(){return this.element.value.subscribe(e=>this._setValueForControl(e))}_setInitialValue(){const e=this.element.value();e&&this._setValueForControl(e)}_setValueForElement(){this.element.setValue({countryCode:this.phoneField.value()?this.selectedPrefix():"",number:this.element.formatPhoneNumberWithoutCountryCode({countryCode:this.selectedPrefix(),number:this.phoneField.value()})})}_setValueForControl({countryCode:e,areaCode:t,number:i}){e&&(t||i)&&this.selectedPrefix(e),this.phoneField.value(this.element.formatPhoneNumberWithoutCountryCode({countryCode:e,number:`${t}${i}`}))}_computePhoneNumberPlaceholder(){return this.selectedPrefix()===this.element.getNANPPrefix()?"(123) 123-1234":Object(l.a)("apply-flow.section-personal-information.phone-number-placeholder")}_getPrefixFieldConfig(){return{name:"prefix",value:this.selectedPrefix,placeholder:Object(l.a)("apply-flow.section-personal-information.country-code-placeholder"),a11yLabel:this.element.label(),options:Object(n.observable)(),dropdownId:"country-codes-dropdown"+this.element.name()}}_getPhoneFieldConfig(){return{name:"phone",value:Object(n.observable)(),placeholder:Object(n.pureComputed)(this._computePhoneNumberPlaceholder,this),a11yLabel:this.element.label()}}_loadOptions(){re.getAll().then(e=>(this.prefixField.options(new ce.a(e,{keyAttributes:"value"})),re.getLocalCountryCode())).then(async e=>{if(this.selectedPrefix())return;if(e)return void this.selectedPrefix(e);const{preferredTerritoryCode:t}=this.element.attributes();if(!t)return;const i=await re.getPhoneCountryCodeByTerritoryCode(t);this.selectedPrefix(i)})}},template:'<div\n    class="input-row input-row--with-placeholder input-row--has-picker"\n    data-bind="css: {\n                \'input-row--filled\': isFilled,\n                \'input-row--focused\': hasFocus,\n                \'input-row--invalid\': isInvalid}"\n>\n    <form-element-label params="element: element, forId: element.id"></form-element-label>\n\n    <div class="input-row__control-container">\n        <div class="input-row-composite__inputs phone-row" data-bind="css: {\'phone-row--focused\': hasFocus}">\n            <div\n                class="input-row-composite__input phone-row__prefix"\n                data-bind="prefixObserver,\n                event: {mouseenter: showHelpTooltip, mouseout: hideHelpTooltip, focus: showHelpTooltip, blur: hideHelpTooltip}"\n            >\n                \x3c!-- <oj-bind-if> used due to oj-select-one not rerendering options list when options are changed dynamically along with usage of <oj-bind-for-each> --\x3e\n                <oj-bind-if test="[[prefixField.options]]">\n                    <oj-select-one\n                        class="input-row-composite__select phone-row__prefix-select"\n                        placeholder="[[prefixField.placeholder]]"\n                        disabled="[[element.isDisabled]]"\n                        options="[[prefixField.options]]"\n                        value="{{prefixField.value}}"\n                        on-value-changed="[[onChangePrefix.bind($component)]]"\n                        maximum-result-count="0"\n                        minimum-results-for-search="200"\n                        picker-attributes="[[{ \'class\': \'input-row__listbox phone-row__prefix-dropdown\' }]]"\n                        label-edge="none"\n                        label-hint="[[prefixField.placeholder]]"\n                    >\n                    </oj-select-one>\n                </oj-bind-if>\n            </div>\n\n            <div\n                class="input-row-composite__input phone-row__number"\n                data-bind="event: {mouseenter: showHelpTooltip, mouseout: hideHelpTooltip, focus: showHelpTooltip, blur: hideHelpTooltip}"\n            >\n                <input\n                    class="input-row__control phone-row__input"\n                    maxlength="30"\n                    data-bind="textInput: phoneField.value,\n                                disable: element.isDisabled,\n                                attr: { \'placeholder\': phoneField.placeholder, \'aria-label\': phoneField.a11yLabel},\n                                formatPhoneNumber: {format: formatNumber.bind($component)},\n                                event: {\n                                    change: onChangeNumber.bind($component),\n                                    blur: blurHandler\n                                }"\n                />\n                <div class="input-row__control-decorator"></div>\n            </div>\n\n            \x3c!-- ko if: element.isDisabled && element.helpText--\x3e\n            <tooltip\n                params="helpTextId: helpTextId, isVisible: isHelpTooltipVisible, helpText: element.helpText"\n                class="input-row-composite__tooltip"\n            >\n                <tooltip-anchor>\n                    <span\n                        class="input-row-composite__input-disabled_icon"\n                        tabindex="0"\n                        data-bind="attr: { \'aria-labelledby\': helpTextId },\n                event: {mouseenter: showHelpTooltip, mouseout: hideHelpTooltip, focus: showHelpTooltip, blur: hideHelpTooltip}"\n                    >\n                    </span>\n                </tooltip-anchor>\n            </tooltip>\n            \x3c!-- /ko --\x3e\n        </div>\n        \x3c!-- ko if: isInvalid --\x3e\n        <p class="input-row__validation" data-bind="text: element.getErrorMessage" role="alert"></p>\n        \x3c!-- /ko --\x3e\n    </div>\n</div>\n'});n.components.register("file-form-element",{viewModel:class extends k{constructor(e){super(e),this.labelClass=this.element.labelClass||"",this.isFocused=this.element.hasFocus||this.hasFocus,this.value=this.element.value}},template:'<div class="file-form-element">\n    <input\n        type="file"\n        class="file-form-element__input"\n        multiple\n        data-bind="event: { change: element.onFileSelected },\n                  attr: attributes,\n                  hasFocus: isFocused,\n                  value: value"\n    />\n    <label\n        aria-hidden="true"\n        class="file-form-element__label"\n        data-bind="attr: { for: attributes.id }, text: element.label, css: labelClass"\n    ></label>\n</div>\n'});var de=i(13),ue=i.n(de);class pe{constructor(e){this._message="",this._options=e||{},this._isDisabled=Object(n.observable)(!1),this.isDisabled=Object(n.pureComputed)({read:this._getIsDisabled,write:this._setIsDisabled,owner:this})}getErrorMessage(){const e=this._options.message||this._message;return Object(l.a)(e,this._options)}isValid(e){if(this.isDisabled())return Promise.resolve(!0);const t=this._options.pairValidationElement?this._options.pairValidationElement.getValidator(this._options.pairValidationValidator):void 0;t&&t.isDisabled(!0);const i=this._validate(e,this._options);return(i instanceof Promise?i:Promise.resolve(i)).then(e=>(t&&this._options.pairValidationElement.validate().then(()=>{t.isDisabled(!1)}),e))}validate(e){const t=this._validate(e,this._options);return t instanceof Promise?t:Promise.resolve(t)}_validate(e,t={}){throw new Error(`Method is not implemented, value: [${e}], options: [${t}]`)}_getIsDisabled(){return this._isDisabled()}_setIsDisabled(e){return this._isDisabled(e)}}const he=[31,28,31,30,31,30,31,31,30,31,30,31],me=/[\d]{4}-[\d]{2}-[\d]{2}/;class be extends pe{constructor(...e){super(...e),this._message="validators.equals",s.a.utils.extend(this._options,{field_name:this._options.label})}_validate(e,t){return!e||0===t.source.toUpperCase().localeCompare(e.toUpperCase())}}var fe=i(56);class ge extends pe{constructor(...e){super(...e),this._message="validators.integer"}_validate(e){if(!e)return!0;const t=String(e).indexOf(".")>-1;return e%1==0&&!t}}class ve{constructor(e){this.dateTimeConverter=e}format(e){const t=new Date(e),i=ue.a.IntlConverterUtils.dateToLocalIso(t);return this.dateTimeConverter.format(i)}parse(e){try{const t=this.dateTimeConverter.parse(e);return ue.a.IntlConverterUtils.isoToLocalDate(t)}catch(e){return null}}}i(133);var _e={createConverter(e,t,i){const n=ue.a.Validation.converterFactory(e).createConverter(t);return i?new i(n):n},createCurrencyConverter(e){return this.createConverter("number",{style:"currency",currency:e})},createDateConverter(e,t){return this.createConverter("datetime",{formatType:"date",dateFormat:e,pattern:t})},createDateTimeConverter(e){return this.createConverter("datetime",{formatType:"datetime",dateFormat:e,timeFormat:e},ve)},createNumberConverter(e){return this.createConverter("number",{style:"decimal",decimalFormat:e})},createPercentConverter(){return this.createConverter("number",{style:"percent"})},createTimeConverter(e){return this.createConverter("datetime",{formatType:"time",timeFormat:e})},createWeekDayConverter(e){return this.createConverter("datetime",{weekday:e})}},ye={currency:{format:(e,t)=>_e.createCurrencyConverter(t).format(e),parse:(e,t)=>_e.createCurrencyConverter(t).parse(e)},date:{format(e){return this.formatShort(e)},formatShort:e=>_e.createDateConverter("short").format(e),formatMedium:e=>_e.createDateConverter("medium").format(e),formatLong:e=>_e.createDateConverter("long").format(e),formatFull:e=>_e.createDateConverter("full").format(e),formatMonthYear:e=>_e.createDateConverter("datetime","MMMM yyyy").format(e),parse(e){return this.parseShort(e)},parseShort:e=>_e.createDateConverter("short").parse(e),parseMedium:e=>_e.createDateConverter("medium").parse(e),parseLong:e=>_e.createDateConverter("long").parse(e),parseFull:e=>_e.createDateConverter("full").parse(e)},dateTime:{format(e){return this.formatShort(e)},formatShort:e=>_e.createDateTimeConverter("short").format(e),formatMedium:e=>_e.createDateTimeConverter("medium").format(e),formatLong:e=>_e.createDateTimeConverter("long").format(e),formatFull:e=>_e.createDateTimeConverter("full").format(e),parse(e){return this.parseShort(e)},parseShort:e=>_e.createDateTimeConverter("short").parse(e),parseMedium:e=>_e.createDateTimeConverter("medium").parse(e),parseLong:e=>_e.createDateTimeConverter("long").parse(e),parseFull:e=>_e.createDateTimeConverter("full").parse(e)},number:{format:e=>_e.createNumberConverter("standard").format(e),formatShort:e=>_e.createNumberConverter("short").format(e),formatLong:e=>_e.createNumberConverter("long").format(e),parse:e=>_e.createNumberConverter("standard").parse(e),parseShort:e=>_e.createNumberConverter("short").parse(e),parseLong:e=>_e.createNumberConverter("long").parse(e)},percent:{format:e=>_e.createPercentConverter().format(e),parse:e=>_e.createPercentConverter().parse(e)},time:{format(e){return this.formatShort(e)},formatShort:e=>_e.createTimeConverter("short").format(e),formatMedium:e=>_e.createTimeConverter("medium").format(e),formatLong:e=>_e.createTimeConverter("long").format(e),formatFull:e=>_e.createTimeConverter("full").format(e),parse(e){return this.parseShort(e)},parseShort:e=>_e.createTimeConverter("short").parse(e),parseMedium:e=>_e.createTimeConverter("medium").parse(e),parseLong:e=>_e.createTimeConverter("long").parse(e),parseFull:e=>_e.createTimeConverter("full").parse(e)},weekDay:{format(e){return this.formatShort(e)},formatNarrow:e=>_e.createWeekDayConverter("narrow").format(e),formatShort:e=>_e.createWeekDayConverter("short").format(e),formatLong:e=>_e.createWeekDayConverter("long").format(e),parse(e){return this.parseShort(e)},parseNarrow:e=>_e.createWeekDayConverter("narrow").parse(e),parseShort:e=>_e.createWeekDayConverter("short").parse(e),parseLong:e=>_e.createWeekDayConverter("long").parse(e)}};const xe={day:"2-digit",month:"2-digit",year:"numeric"},we={month:"2-digit",year:"numeric"},ke={day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"};class Ie{constructor(e){this.language=navigator.language&&0===navigator.language.indexOf(e)&&navigator.language.length>e.length?navigator.language:e,this.isLocaleDateStringSupported=function(){try{(new Date).toLocaleDateString("i")}catch(e){return"RangeError"===e.name}return!1}()}formatDate(e,t){if(!e)return;const i=function(e){if("string"!=typeof e)throw new Error("Improper argument type");return e.match(/^[0-9]{4}-[0-9]{2}-[0-9]{2}$/)?e.replace(/-/g,"/"):e}(e),n=t||xe;if(this.isLocaleDateStringSupported){return""+new Date(i).toLocaleDateString(this.language,n)}return ye.date.format(i)}formatDateTime(e){if(e){if(this.isLocaleDateStringSupported){return""+new Date(e).toLocaleString(this.language,ke)}return ye.dateTime.format(e)}}getDatePickerFormat(e){if(this.isLocaleDateStringSupported){const e=new Date(1970,11,31,1,0,0).toLocaleDateString(this.language),t=e.indexOf(12),i=e.indexOf(31),n=e.indexOf(1970);if(t>=0&&i>=0&&n>=0){const e=(i>n)+(i>t),s=(n>t)+(n>i),a=[];return a[(t>n)+(t>i)]="mm",a[e]="dd",a[s]="yy",a.join("-")}}return e}getMonthPickerFormat(e){if(this.isLocaleDateStringSupported){const e=new Date(1970,11,31,1,0,0).toLocaleDateString(this.language);if(e.indexOf("12")>=0&&e.indexOf("1970")>=0)return e.indexOf("12")>e.indexOf("1970")?"yy-mm":"mm-yy"}return e}}class Ce extends pe{constructor(...e){super(...e);const t=this._getDateFormatter();this._options.maxDate=this._options.max?t(this._options.max):null,this._options.minDate=this._options.min?t(this._options.min):null}_getDateFormatter(){const{lang:e,msgDateFormat:t}=this._options;if(e){const t=new Ie(e);return t.formatDate.bind(t)}if(t){const e=_e.createConverter("datetime",{pattern:t});return e.format.bind(e)}return ye.date.format.bind(ye.date)}}const Se=[1,20,212,213,216,218,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,248,249,250,251,252,253,254,255,256,257,258,260,261,262,263,264,265,266,267,268,269,27,290,291,297,298,299,30,31,32,33,34,350,351,352,353,354,355,356,357,358,359,36,370,371,372,373,374,375,376,377,378,380,381,382,385,386,387,389,39,40,41,420,421,423,43,44,45,46,47,48,49,500,501,502,503,504,505,506,507,508,509,51,52,53,54,55,56,57,58,590,591,592,593,594,595,596,597,598,599,60,61,62,63,64,65,66,670,672,673,674,675,676,677,678,679,680,681,682,683,685,686,687,688,689,690,691,692,699,7,81,82,84,850,852,853,855,856,86,870,880,886,90,91,92,93,94,95,960,961,962,963,964,965,966,967,968,970,971,972,973,974,975,976,977,98,992,993,994,995,996,998];const Ee=/[^\d]/g;var Oe={filter:e=>`${0===e.indexOf("+")?"+":""}${e.replace(Ee,"")}`};const Ae=/^(\+\d)?([\d[ ]{3,29})$/;class Pe{constructor(e){this._phoneNumber={countryCode:String(e.countryCode||""),number:String(e.number||"")}}get countryCode(){return this._phoneNumber.countryCode}get areaCode(){return""}get number(){return this._phoneNumber.number}get _rawPhoneNumber(){return`${this.countryCode}${this.number}`}asFormattedString(){return`${this.countryCode?"+"+this.countryCode:""} ${this.number}`.trim()}isValid(){return!this._rawPhoneNumber||(!(!this.countryCode||this.number)||!!this.countryCode&&(this._rawPhoneNumber.length<30&&Ae.test(this._rawPhoneNumber)))}asFormattedStringWithoutCountryCode(){return Oe.filter(this._phoneNumber.number)}}const Te=/^(\+1)?(\d{3})(\d{7})$/,je=/[ \-()]/g;class Re{constructor(e){this._rawPhoneNumber=`+${e.countryCode||""}${e.areaCode||""}${e.number||""}`,this._phoneNumber=this._parsePhoneNumber()}get countryCode(){return this._phoneNumber.countryCode}get areaCode(){return this._phoneNumber.areaCode}get number(){return this._phoneNumber.number}get _clearRawPhoneNumber(){return this._rawPhoneNumber.replace(je,"")}get _clearRawPhoneNumberWithoutCountryCode(){return this._clearRawPhoneNumber.replace("+1","")}asFormattedString(){if(this.isValid()){return`${this.countryCode?"+"+this.countryCode:""} ${this.asFormattedStringWithoutCountryCode()}`.trim()}return this._rawPhoneNumber}asFormattedStringWithoutCountryCode(){const e=Oe.filter(this.areaCode+this.number);return e.length>3&&e.length<=7?`${e.substring(0,3)} - ${e.substring(3)}`:e.length>7&&e.length<=10?`(${e.substring(0,3)}) ${e.substring(3,6)}-${e.substring(6)}`:e}isValid(){return!this._clearRawPhoneNumber||Te.test(this._clearRawPhoneNumber)}_parsePhoneNumber(){if(this._clearRawPhoneNumber&&this.isValid()){const e=this._clearRawPhoneNumber.match(Te);if(e)return{countryCode:"1",areaCode:e[2]||"",number:e[3]||""}}return{countryCode:"1",areaCode:"",number:this._clearRawPhoneNumberWithoutCountryCode||""}}}var Fe={NANP_CALL_PREFIX:"1",createPhone(e){return e.countryCode===this.NANP_CALL_PREFIX?new Re(e):new Pe(e)},formatPhoneNumberWithoutCountryCode(e){return this.createPhone(e).asFormattedStringWithoutCountryCode()}};const De=/^\d{5}([-]?\d{4})?$/,Le=/^(?:(?=[^dfioquwz])[a-z])[0-9](?:(?=[^dfioqu])[a-z])( ?[0-9](?:(?=[^dfioqu])[a-z])[0-9])?$/i;const Ne=[/<body\b[^>]*>|<\/body\b[^>]*>/i,/<head\b[^>]*>|<\/head\b[^>]*>/i,/<html\b[^>]*>|<\/html\b[^>]*>/i,/<link\b[^>]*>|<\/link\b[^>]*>/i,/<style\b[^>]*>|<\/style\b[^>]*>/i,/<object\b[^>]*>|<\/object\b[^>]*>/i,/<(javascript|script)\b[^>]*>|<(\/javascript|\/script)\b[^>]*>/i,/(?:<[a-zA-Z0-9_\-:][^>]*)\s(on[\w]+[\s]*=|FSCommand[\s]*|seekSegmentTime[\s]*=|href[\s]*=["']?\s*javascript)/i,/(:execScript|script:|script\s*&colon|behavior:url|addBehavior\(|execCommand\()/i];var Me={validate(e){if("true"===c.a.getSettingByKey("ORA_IRC_CE_XSS_VALIDATOR_DISABLED")||!e)return!0;return!1===Ne.some(t=>t.test(e))}};const Ve=()=>!("true"===c.a.getSettingByKey("ORA_IRC_CE_HTML_VALIDATOR_DISABLED")||0===h.a.route().url.indexOf("/admin/"));class Be extends pe{_validate(e,t){return t.runCustomJsValidation(),!0}}var qe={create(e,t){return new(0,this.validators[e])(t)},validators:{afterDate:class extends pe{constructor(...e){super(...e),this._message="validators.after-date",s.a.utils.extend(this._options,{maxDateLabel:this._options.minDateFormElement.label()})}_validate(e,t){const i=t.minDateFormElement.value();return t.minDateFormElement.validate().then(n=>{if(e&&i&&n)try{const n=ue.a.IntlConverterUtils.isoToLocalDate(e),s=ue.a.IntlConverterUtils.isoToLocalDate(i);return t.inclusive?n>=s:n>s}catch(e){return!1}return!0})}},beforeDate:class extends pe{constructor(...e){super(...e),this._message="validators.before-date",s.a.utils.extend(this._options,{maxDateLabel:this._options.maxDateFormElement.label()})}_validate(e,t){const i=t.maxDateFormElement.value();return t.maxDateFormElement.validate().then(n=>{if(e&&i&&n)try{const n=ue.a.IntlConverterUtils.isoToLocalDate(e),s=ue.a.IntlConverterUtils.isoToLocalDate(i);return t.inclusive?n<=s:n<s}catch(e){return!1}return!0})}},between:class extends pe{constructor(...e){super(...e),this._message="validators.between",s.a.utils.extend(this._options,{max_value:this._options.max,min_value:this._options.min})}_validate(e,t){return!e||(t.inclusive?t.min<=e&&e<=t.max:t.min<e&&e<t.max)}},checked:class extends pe{constructor(...e){super(...e),this._message="validators.field-is-required"}_validate(e){return!e||("string"==typeof e?"Y"===e:Boolean(e))}},date:class extends pe{constructor(...e){super(...e),this._message="validators.date"}_validate(e){if(!e)return!0;if(!e.match(me))return!1;const[t,i,n]=e.split("-").map(Number);return n<=this._getDaysInMonth(i,t)}_getDaysInMonth(e,t){let i=he[e-1];return this._isLeapYear(t)&&2===e&&i++,i}_isLeapYear(e){return e%4==0&&e%100!=0||e%400==0}},decimal:class extends pe{constructor(...e){super(...e),this._message="validators.number"}_validate(e){return!e||!window.isNaN(e)}},email:class extends pe{constructor(...e){super(...e),s.a.utils.extend(this._options,{email_format:"example@email.com"}),this._message="validators.invalid-email"}_validate(e){return!e||(Array.isArray(e)?e.every(fe.a.test.bind(fe.a)):fe.a.test(e))}},equals:be,phoneEquals:class extends be{_validate(e,t){const{source:i}=t;if(e){const t=e.countryCode===i.countryCode,n=`${e.areaCode}${e.number}`==`${i.areaCode}${i.number}`;return t&&n}return!0}},fileExtension:class extends pe{constructor(...e){super(...e),this._message="validators.file-upload.invalid-file-type"}getErrorMessage(){return Object(l.a)(this._message,{allowed_extensions:this._options.allowed_extensions.join(", ")})}_validate(e,t){if(!e)return!0;const i=t.allowed_extensions.join("|").replace(".","\\.");return new RegExp(`(.+)(${i})$`,"i").test(e.name)}},fileSize:class extends pe{constructor(...e){super(...e),this._options.fileSizeLimit||(this._options.fileSizeLimit=5),this._options.limit=1048576*this._options.fileSizeLimit,this._message="validators.file-upload.exceeded-file-size-limit"}_validate(e,t){return!e||e.size<=t.limit}},greaterThan:class extends pe{constructor(...e){super(...e),this._message="validators.greater-than",this._options.inclusive&&(this._message="validators.min-value"),this._options.min_value=this._options.min}_validate(e,t){return!e||(t.inclusive?e>=t.min:e>t.min)}},integer:ge,lessThan:class extends pe{constructor(...e){super(...e),this._message="validators.less-than",this._options.inclusive&&(this._message="validators.max-value"),this._options.max_value=this._options.max}_validate(e,t){return!e||(t.inclusive?e<=t.max:e<t.max)}},maxLength:class extends pe{constructor(...e){super(...e),this._message="validators.value-exceeds-length",s.a.utils.extend(this._options,{max_value:this._options.max})}_validate(e,t){return!e||String(e).length<=t.max}},minDate:class extends Ce{constructor(...e){super(...e),this._message="validators.min-date"}_validate(e,t){if(!e)return!0;try{const i=ue.a.IntlConverterUtils.isoToLocalDate(e),n=ue.a.IntlConverterUtils.isoToLocalDate(t.min);return t.inclusive?i>=n:i>n}catch(e){return!1}}},maxDate:class extends Ce{constructor(...e){super(...e),this._message="validators.max-date"}_validate(e,t){if(!e)return!0;try{const i=ue.a.IntlConverterUtils.isoToLocalDate(e),n=ue.a.IntlConverterUtils.isoToLocalDate(t.max);return t.inclusive?i<=n:i<n}catch(e){return!1}}},minLength:class extends pe{constructor(...e){super(...e),this._message="validators.value-min-length",s.a.utils.extend(this._options,{number_of_characters:this._options.min})}_validate(e,t){return!e||String(e).length>=t.min}},notInArray:class extends pe{constructor(...e){super(...e),this._message="validators.value-should-be-unique"}_validate(e,t){const i=Object(n.unwrap)(t.array);return t.value=e,!n.utils.arrayFirst(i,i=>this._check(i,e,t))}_check(e,t,i){const s=Array.isArray(t)?t[0]:t;return i.property?Object(n.unwrap)(e[i.property])===s:e===s}},notInExistingItems:class extends pe{constructor(e){super(e),e.message&&(this._message=e.message)}_validate(e,t){const{fieldsToCheck:i}=t,s=Object(n.unwrap)(t.newItem),a=Object(n.unwrap)(t.existingItems);if(!s||!a)return!0;const[o]=a.filter(e=>e!==s).filter(e=>i.map(t=>Object(n.unwrap)(s[t])===Object(n.unwrap)(e[t])).every(e=>e));return!o}},onlyUppercase:class extends pe{constructor(...e){super(...e),this._message="validators.only-uppercase"}_validate(e=""){return e===e.toUpperCase()}},phoneCountryCode:class extends pe{constructor(...e){super(...e),this._message="validators.invalid-country-code"}_validate(e){return!e||Se.indexOf(Number(e))>-1}},phoneNumber:class extends pe{constructor(...e){super(...e),this._message="validators.invalid-phone"}_validate(e){return!e||Fe.createPhone(e).isValid()}},positiveInteger:class extends ge{constructor(...e){super(...e),this._message="validators.positive-number"}_validate(e){return!e||super._validate(e)&&e>0}},postal:class extends pe{constructor(...e){super(...e),this._message="validators.invalid-postal"}_validate(e){return!e||(De.test(e.trim())||Le.test(e.trim()))}},required:class extends pe{constructor(...e){super(...e),this._message="validators.field-is-required",this._options.label&&(this._message="validators.label-field-is-required"),s.a.utils.extend(this._options,{label:this._options.label})}_validate(e,t){let i=e;return t&&t.property&&(i=i[t.property]),i=s.a.unwrap(i),Array.isArray(i)?this._validateArray(i):"object"==typeof i&&null!=i?this._validateObject(i):t&&t.checkbox?this._validateCheckbox(i,t.checkbox):Boolean(i)&&/\S/.test(i)}_validateArray(e){return Boolean(e.length)}_validateCheckbox(e,{checked:t=!0}){return e===t}_validateObject(e){return Object.keys(e).reduce((t,i)=>t||Boolean(e[i]),!1)}},sameYear:class extends pe{constructor(...e){super(...e),this._message="apply-flow.section-experience.same-year-validator-message",Object.assign(this._options,{withLabel:this._options.withLabel})}_validate(e,t){const i=e,n=t.with.value();if(!i||!n)return!0;const[s]=String(i).split("-"),[a]=String(n).split("-");return s===a}},url:class extends pe{constructor(...e){super(...e),s.a.utils.extend(this._options,{url_format:"http://example.com"}),this._message="validators.url"}_validate(e){return!e||fe.b.test(e)}},startDatePicker:class extends pe{constructor(...e){super(...e),this._message="validators.later-than-current-date"}_validate(e){const t=new Date(e);return!e||t<=new Date}},minSelection:class extends pe{constructor(...e){super(...e),this._message="validators.min-selection",s.a.utils.extend(this._options,{minSelection:this._options.minSelection})}_validate(e,t){return!e||!e.length||t.minSelection<=e.length}},maxSelection:class extends pe{constructor(...e){super(...e),this._message="validators.max-selection",s.a.utils.extend(this._options,{maxSelection:this._options.maxSelection})}_validate(e,t){return!e||t.maxSelection>=e.length}},serviceCall:class extends pe{constructor(...e){super(...e),this._cache={},this._serviceMessage=null}getErrorMessage(){return this._serviceMessage?this._serviceMessage:super.getErrorMessage()}_getCacheKey(e,t){return t?t(e):JSON.stringify(e)}_validate(e,t){if(!e)return Promise.resolve(!0);if("function"==typeof t.exclude&&t.exclude(e))return Promise.resolve(!0);const i=this._getCacheKey(e,t.cacheKeyGenerator);return this._cache[i]?this._getCachedValue(i):(this._cache[i]={promise:t.serviceCall(e).catch(this._onInvalid.bind(this,i)).then(this._onValid.bind(this)),message:""},this._cache[i].promise)}_onInvalid(e,t){return this._serviceMessage=t,this._cache[e].message=t,!1}_onValid(e=!0){return e}_getCachedValue(e){const{promise:t}=this._cache[e];return t.then(t=>(t||(this._serviceMessage=this._cache[e].message),t))}},precisionNumber:class extends pe{constructor(...e){super(...e),this._message="validators.precision",s.a.utils.extend(this._options,{precisionValue:this._options.precision})}_validate(e="",t){return String(e).replace(".","").replace("-","").length<=t.precision}},scaleNumber:class extends pe{constructor(...e){super(...e),this._message="validators.scale",s.a.utils.extend(this._options,{scaleValue:this._options.scale})}_validate(e="",t){const[,i=""]=String(e).split(".");return i.length<=t.scale}},zeroFill:class extends pe{constructor(...e){super(...e),this._message="validators.add-leading-zeros"}_validate(e,t){return!e||String(e).length===Number(t.number_of_characters)}},notIncludes:class extends pe{constructor(...e){super(...e),this._message="validators.not-includes",s.a.utils.extend(this._options,{forbidden_string:this._options.substring})}_validate(e,t){return!e||!e.toLowerCase().includes(t.substring.toLowerCase())}},xss:class extends pe{constructor(...e){super(...e),this._message="admin.custom-code-editor.restricted-tags-text"}_validate(e){return Me.validate(e)}},html:class extends pe{constructor(...e){super(...e),this._message="admin.custom-code-editor.restricted-html-text"}_validate(e){if(!Ve()||!e)return!0;const t=new RegExp("</?(!DOCTYPE|a|abbr|acronym|abbr|address|applet|area|article|aside|audio|b|base|basefont|bdi|bdo|big|blockquote|body|br|button|canvas|caption|center|cite|code|col|colgroup|data|datalist|dd|del|details|dfn|dialog|dir|div|dl|dt|em|embed|fieldset|figcaption|figure|font|footer|form|frame|frameset|h1|h2|h3|h4|h5|h6|head|header|hr|html|i|iframe|img|input|ins|kbd|label|legend|li|link|main|map|mark|meta|meter|nav|noframes|noscript|object|ol|optgroup|option|output|p|param|picture|pre|progress|q|rp|rt|ruby|s|samp|script|section|select|small|source|span|strike|s|strong|style|sub|summary|sup|svg|table|tbody|td|template|textarea|tfoot|th|thead|time|title|tr|track|tt|u|ul|var|video|wbr)\\b[^>]*>","gi");return!e.match(t)}},customJs:Be,unique:class extends pe{constructor(...e){super(...e),this._message="validators.values-should-differ"}_validate(e,t){const i=Object(n.unwrap)(e);return!i||this._validateByProperty(i,t)}_validateByProperty(e,t){const{propertyName:i}=t,s=Object(n.unwrap)(t.inArray).map(e=>Object(n.unwrap)(e[i]));return this._isUniqueInArray(e,s)}_isUniqueInArray(e,t){return t.indexOf(e)===t.lastIndexOf(e)}},yearFormat:class extends pe{constructor(...e){super(...e),s.a.utils.extend(this._options,{year_format:"YYYY"}),this._message="validators.invalid-year-format"}_validate(e){if(!e)return!0;const[t]=e.split("-");return!t||!(isNaN(t)||t>=0&&t<=999||t>9999)}}}};class Ue extends class{constructor(e){this.id=s.a.pureComputed({read:this._getId,write:this._setId,owner:this}),this.name=s.a.pureComputed({read:this._getName,write:this._setName,owner:this}),this.label=s.a.observable(),this.helpText=s.a.observable(),this.showLabelTooltip=s.a.observable(!0),this.focusNextSelector=s.a.observable(),this.containerId=s.a.observable(),this.defaultValue=s.a.observable(),this._valueObs=s.a.observable(s.a.observable()),this.value=s.a.pureComputed({read:this._getValue,write:this._setValue,owner:this}),this.isHidden=s.a.observable(!1),this._attributes=s.a.observable({id:e,name:e,disabled:!1}),this.attributes=s.a.pureComputed({read:this._getAttributes,write:this._setAttributes,owner:this}),this.isDisabled=s.a.pureComputed({read:this._getIsDisabled,write:this._setIsDisabled,owner:this}),this.component=s.a.observable("text-form-element"),this.isDirty=s.a.pureComputed(this._isDirty,this),this.isTouched=s.a.observable(!1).extend({notify:"always"})}registerModel(e){if(s.a.isObservable(e)){const t=this.value();!e()&&t&&e(t),this._valueObs(e)}else this.value(e);return this}_getValue(){return this._valueObs()()}_setValue(e){return this._valueObs()(e)}_getId(){return this._attributes().id}_setId(e){this.attributes("id",e)}_getName(){return this._attributes().name}_setName(e){this.attributes("name",e)}_getAttributes(){return this._attributes()}_setAttributes(e,t){return"object"==typeof e?Object.keys(e).forEach(t=>{this._setAttribute(t,e[t])}):this._setAttribute(e,t),this._attributes.notifySubscribers(),this}_setAttribute(e,t){this._attributes()[e]=t}_setIsDisabled(e){this.attributes("disabled",e)}_getIsDisabled(){return this._attributes().disabled}_isDirty(){return this.isTouched()}dispose(){}}{constructor(...e){super(...e),this._validators=s.a.observableArray(),this.validators=s.a.pureComputed({read:this._getValidators,write:this._setValidators,owner:this}),this.isRequired=s.a.pureComputed({read:this._getIsRequired,write:this._setIsRequired,owner:this}),this.isValid=s.a.observable().extend({notify:"always"}),this.isValidElement=s.a.pureComputed(this._isValidElement,this),this.validateImmediately=s.a.observable(!1),this.getErrorMessage=s.a.observable(),this.subscriptions=[this.value.subscribe(()=>this.validate()),this.isDirty.subscribe(()=>this.validate()),this.validateImmediately.subscribe(()=>this.validate())]}validate(e=this.value()){return this._validate(e)}getValidator(e){let t=e;"string"==typeof t&&(t=qe.validators[t]);return s.a.utils.arrayFirst(this._validators(),e=>e instanceof t)||null}addValidator(e,t,i="append"){let n=e;return"string"==typeof n&&(this._removeDuplicatedValidator(n),n=qe.create(n,t)),"prepend"===i?this._validators.unshift(n):this._validators.push(n),n}removeValidator(e){const t=this._validators.indexOf(e);this._validators.splice(t,1)}_getValidators(){return this._validators()}_setValidators(e,t){return"object"==typeof e?Object.keys(e).forEach(t=>{this.addValidator(t,e[t])}):this.addValidator(e,t),this}_removeDuplicatedValidator(e){const t=this.getValidator(e);t&&this.removeValidator(t)}_getIsRequired(){const e=this.getValidator("required");return e&&!e.isDisabled()}_setIsRequired(e){let t=this.getValidator("required");t||(t=this.addValidator("required")),t.isDisabled(!e)}_isValidElement(){return!this._validators().length||(!(this.validateImmediately()||this.isDirty()||!this._isValueEmpty())||this.isValid())}_isValueEmpty(){const e=this.value();return!e||Array.isArray(e)&&!e.length}_runSynchronouslyValidators(e){return this._getValidators().reduce((t,i)=>t.then(()=>i.isValid(e).catch(console.error).then(e=>e?Promise.resolve():Promise.reject(i))),Promise.resolve())}_validate(e){return this._runSynchronouslyValidators(e).catch(e=>({isValid:!1,validator:e})).then((e={})=>{const{validator:t,isValid:i=!0}=e;return this.isValid(i),this.getErrorMessage(t?t.getErrorMessage():null),i}).catch(console.error)}}function He(e){return e.replace(/(<([^>]+)>)/gi,"")}var $e={sanitize:(e="")=>function(e){return e.replace('"',"")}(He(e)),sanitizeHTML:(e="")=>He(e)};class Je extends Ue{constructor(...e){super(...e),this.dictionary=s.a.observable(),this.options=s.a.observableArray(),this.optionsDisabled=s.a.observableArray(),this.optionsKeys=s.a.observable({value:"lookupCode",label:"meaning"}),this.currentOptions=s.a.observableArray()}getOption(e){if(!e)return Promise.resolve();const t={[Je._capitalize(this.optionsKeys().value)]:e};return se.findOne(this.dictionary(),t).then(this._saveOptions.bind(this))}getOptions(e){const t=$e.sanitize(e);return Promise.resolve().then(()=>t?this._filterOptions(t):this.options()).then(this._disableOptions.bind(this)).then(this._saveOptions.bind(this))}static _capitalize(e){return e.charAt(0).toUpperCase()+e.slice(1)}_filterOptions(e){const t={[Je._capitalize(this.optionsKeys().label)]:e};return se.findLike(this.dictionary(),t,{limit:40})}_disableOptions(e){const t=s.a.unwrap(this.optionsDisabled),i=this.value();return e.forEach(e=>{e.lookupCode===i?e.disabled=!1:e.disabled=-1!==t.indexOf(e[this.optionsKeys().value])}),e}_saveOptions(e){return this.currentOptions(Array.isArray(e)?e:[e]),e}}class ze extends Ue{constructor(...e){super(...e),this.attributes("type","email"),this.validators("email",{fieldname:()=>this.label()})}}class We extends Ue{constructor(...e){super(...e),this.component("phone-form-element"),this.showLabelTooltip(!1),this.attributes("type","tel"),this.validators("phoneNumber",{fieldname:()=>this.label()})}formatPhoneNumberWithoutCountryCode(e){return Fe.formatPhoneNumberWithoutCountryCode(e)}getNANPPrefix(){return Fe.NANP_CALL_PREFIX}setValue(e){const t=Fe.createPhone(e);this.value({countryCode:t.countryCode,areaCode:t.areaCode,number:t.number})}isEmpty(){return this._isValueEmpty()}_isValueEmpty(){const{countryCode:e,areaCode:t,number:i}=this.value()||{};return!(e||t||i)}}class Ke extends Je{constructor(...e){super(...e),this.component("search-form-element"),this.valueLabel=s.a.pureComputed(this._getValueLabel,this)}_getValueLabel(){const e=this.value(),{value:t,label:i}=this.optionsKeys(),n=s.a.utils.arrayFirst(this.currentOptions(),i=>i[t]===e);return n?n[i]:null}}class Ge extends Ue{constructor(...e){super(...e),this.withEmptyOption=s.a.observable(!0),this.component("select-form-element"),this.options=s.a.observableArray(),this.optionsKeys=s.a.observable({label:"meaning",value:"lookupCode"}),this.optionsDisabled=s.a.observableArray(),this.valueLabel=s.a.pureComputed(this._getValueLabel,this),this.dictionary=s.a.observable(),this.dependencyField=s.a.observable(),this.dependencyFieldValue=s.a.observable(),this._disabledSubscription=this.optionsDisabled.subscribe(this._disableOptions.bind(this))}resolveOptionsDependency(e){if(!this.dependencyField())return;const t=e.filter(e=>e.name()===this.dependencyField().name).pop();t&&(this._dependencyValueSubscription=t.value.subscribe(e=>{this.dependencyFieldValue(e),this._fetchOptions(e)}))}_disableOptions(e){const t=this.value();this.options().forEach(i=>{i.lookupCode===t?i.disabled=!1:i.disabled=e.indexOf(i.lookupCode)>-1})}_fetchOptions(e){const t=this.dictionary().replace(this.dependencyField().placeholder,e);return se.getByUrl(t).then(this.options.bind(this)).catch(e=>{console.error(e),this.options([])})}filterOption(e){const t=this.optionsKeys().value,i=this.options().filter(i=>i[t]===e).shift();return Promise.resolve(i)}getOption(e){return this.dependencyField()?this._fetchOptions(this.dependencyFieldValue()).then(()=>this.filterOption(e)):this.filterOption(e)}_getValueLabel(){const{value:e,label:t}=this.optionsKeys(),[i={}]=this.options().filter(t=>t[e]===this.value());return i[t]||""}dispose(){super.dispose&&super.dispose(),this._dependencyValueSubscription&&this._dependencyValueSubscription.dispose(),this._disabledSubscription.dispose()}}class Ye extends Ue{constructor(...e){super(...e),this.validators("maxLength",{max:2e3}),this.validators("html"),this.validators("xss")}}class Qe extends Ue{constructor(...e){super(...e),this.attributes("type","url"),this.validators("url",{fieldname:()=>this.label()})}}const Ze={},Xe=c.a.siteLang;function et(e){return("0"+e).slice(-2)}class tt extends Ue{constructor(...e){super(...e),this.component("datepicker-form-element"),this.layout=new Ie(c.a.siteLang).getDatePickerFormat("dd-mm-yy"),this.fixedDay=null,this.addValidator("date",null,"prepend"),this.addValidator("yearFormat",{fieldname:()=>Object(l.a)("general.date-picker.year")},"prepend")}generateDays(){return function(){if(Ze.days)return Ze.days;const e=[],t=new Intl.DateTimeFormat(Xe,{day:"numeric"});for(let i=1;i<=31;i++){const n=new Date("2020/01/"+et(i));e.push({value:et(i),label:t.format(n)})}return Ze.days=e,Ze.days}()}generateMonths(){return function(){if(Ze.months)return Ze.months;const e=[],t=new Intl.DateTimeFormat(Xe,{month:"long"});for(let i=0;i<12;i++){const n=new Date(`2020/${et(i+1)}/01`);e.push({value:et(i+1),label:t.format(n)})}return Ze.months=e,Ze.months}()}generateYears(){return function(){const e=(new Date).getFullYear()+10;if(Ze.years)return Ze.years;const t=[],i=new Intl.DateTimeFormat(Xe,{year:"numeric"});for(let n=e;n>=1900;n--){const e=new Date(n+"/01/01");t.push({value:String(n),label:i.format(e)})}return Ze.years=t,Ze.years}()}}class it extends Ue{constructor(...e){super(...e),this.component("multiselectlist-form-element"),this.options=Object(n.observableArray)()}_removeOption(e){const t=this.value(),i=t.find(t=>t===e.lookupCode);t.splice(t.indexOf(i),1),this.value(t),this._disableOptions()}_disableOptions(){const e=this.value(),t=this.options();t.forEach(t=>t.disabled=e.includes(t.lookupCode)),this.options(t)}}var nt={create(e,t){return new(0,this.elements[e])(t)},elements:{autosuggest:class extends Je{constructor(...e){super(...e),this.validators("html"),this.validators("xss"),this.component("autosuggest-form-element"),this.valueKey=s.a.pureComputed(this._getValueKey,this)}getOption(e){return super.getOption(e).then(e=>e||this.value())}_stringifyValue(e){const{value:t}=this.optionsKeys();return e&&(e[t]=String(e[t])),e}_stringifyValues(e){return e.map(this._stringifyValue.bind(this))}_saveOptions(e){const t=this._stringifyValue(e);return super._saveOptions(t)}_getValueKey(){const e=this.value(),{key:t,label:i}=this.optionsKeys();let n=this.currentOptions().find(t=>t[i]===e);return n||(n=this.options().find(t=>t[i]===e)),n?n[t]:null}},checkbox:class extends Ue{constructor(...e){super(...e),this.attributes("type","checkbox"),this.component("checkbox-form-element")}},checkboxStringValue:class extends Ue{constructor(...e){super(...e),this.attributes("type","checkbox"),this.component("checkbox-string-value-form-element")}},clob:class extends Ue{constructor(...e){super(...e),this.validators("html"),this.validators("xss"),this.component("textarea-form-element")}},date:tt,decimal:class extends Ue{constructor(...e){super(...e),this.validators("decimal")}},email:ze,integer:class extends Ue{constructor(...e){super(...e),this.validators("integer"),this.attributes("maxlength","18")}},multiselect:class extends Ue{constructor(...e){super(...e),this.options=s.a.observableArray(),this.component("multiselect-form-element")}},phone:We,radio:class extends Ue{constructor(...e){super(...e),this.attributes("type","radio"),this.component("radio-form-element"),this.options=Object(n.observableArray)(),this.valueLabel=Object(n.pureComputed)(this._getValueLabel,this)}_getValueLabel(){const[e={}]=this.options().filter(e=>e.lookupCode===this.value());return e.meaning||""}},select:Ge,search:Ke,text:Ye,textarea:class extends Ue{constructor(...e){super(...e),this.validators("maxLength",{max:2e3}),this.validators("html"),this.validators("xss"),this.component("textarea-form-element")}},monthpicker:class extends tt{constructor(...e){super(...e),this.layout=new Ie(c.a.siteLang).getMonthPickerFormat("mm-yy")}},url:Qe,siteLink:class extends Qe{constructor(...e){super(...e),this.component("sitelink-form-element"),this.isRemovable=s.a.observable(!0),this.siteLink=null}registerModel(e){this.siteLink=e,super.registerModel(e.url)}},multiselectlist:it,noresponse:class extends Ue{constructor(...e){super(...e),this.component("noresponse-form-element")}},pin:class extends Ue{constructor(...e){super(...e),this.component=s.a.observable("pin-form-element")}},file:class extends Ue{constructor(...e){super(...e),this.component("file-form-element")}}}};class st extends class{constructor(e={}){this.legend=s.a.observable(e.legend),this.model=s.a.observable(),this._elements=s.a.observableArray(e.elements),this.componentName=s.a.observable("form-builder"),this.elements=s.a.pureComputed({read:this._getElements,write:this._setElements,owner:this}),this.isDirty=s.a.pureComputed(this._isDirty,this),this.isEmpty=s.a.pureComputed(this._isEmpty,this),this.subscriptions=[]}removeElement(e){return this._elements.remove(e),this}addElement(e){return this._elements.push(e),this}bindComponent(e){return this.componentName(e),this}getElement(e){return this._elements().filter(t=>t.name()===e).pop()}registerModel(e){return this._elements().forEach(t=>{const i=t.name();i in e&&t.registerModel(e[i])}),this.model(e),this}resolveElementsDependencies(){const e=this._getElements(),t=this.model();return e.filter(e=>Boolean(e.resolveOptionsDependency)).forEach(i=>{i.resolveOptionsDependency(e,t)}),this}_getElements(){return this._elements()}_setElements(e,t){return Array.isArray(e)?this._elements(e):"string"==typeof e?this._elements.push(nt.create(e,t)):this._elements.push(e),this}_isDirty(){return this._elements().some(e=>e.isDirty())}_isEmpty(){return 0===this._elements().length}dispose(){this.subscriptions.forEach(e=>{e.dispose()}),this._elements().forEach(e=>{e.dispose()})}}{constructor(...e){super(...e),this.isValidated=Object(n.observable)(!1),this.isValidationInProgress=Object(n.observable)(!1),this.isValid=Object(n.pureComputed)(this._isValid,this),this.getErrorMessages=Object(n.pureComputed)(this._getErrorMessages,this),this.getErrorCount=Object(n.pureComputed)(this._getErrorCount,this),this.isEmpty=Object(n.pureComputed)(this._isEmpty,this)}validate(){return this.isValidated(!0),this.isValidationInProgress(!0),Promise.all(this.elements().map(e=>e.validate())).then(e=>(this.isValidationInProgress(!1),e.reduce((e,t)=>e&&t,!0)))}enableImmediateValidation(){this.elements().forEach(e=>{e.validateImmediately(!0)})}registerCustomJsValidation(e){this._elements().forEach(t=>{t.addValidator&&t.addValidator(new Be({runCustomJsValidation:e}))})}_isValid(){return this.elements().filter(e=>!e.isHidden||e.isHidden&&!e.isHidden()).every(e=>!e.isValid||e.isValid&&e.isValid())}_isEmpty(){return this.elements().filter(e=>!e.isHidden||e.isHidden&&!e.isHidden()).every(e=>!e.value())}_getErrorMessages(){return this.elements().filter(e=>!e.isHidden||e.isHidden&&!e.isHidden()).filter(e=>!e.isValid()).map(e=>e.getErrorMessage())}_getErrorCount(){let e=this.elements().filter(e=>!e.isHidden||e.isHidden&&!e.isHidden()).filter(e=>!e.isValid());return this.isValidated()||(e=e.filter(e=>e.isDirty())),e.length}}var at={createForm(e){const t=s.a.utils.extend({elements:[]},e);return t.elements=t.elements.map(e=>(e.validateImmediately=t.validateImmediately,this.createFormElement(e))),new st(t)},createFormElement(e){const t=nt.create(e.type,e.name);return this._initFormElement(t,e)},_initFormElement:(e,t)=>(e.label(t.label),e.helpText(t.helpText),e.defaultValue(t.defaultValue),e.value(t.value),e.isHidden(t.isHidden),e.attributes(t.attributes),e.validators(t.validators),e.validateImmediately(t.validateImmediately),e.options&&(e.options(t.options),e.withEmptyOption&&"withEmptyOption"in t&&e.withEmptyOption(t.withEmptyOption)),t.checked&&(e.checkedValue=t.checked),t.unchecked&&(e.uncheckedValue=t.unchecked),e.dictionary&&e.dictionary(t.dictionary),e.dependencyField&&e.dependencyField(t.dependencyField),e.optionsKeys&&t.optionsKeys&&e.optionsKeys(t.optionsKeys),e)};s.a.extenders.l10n=function(e,t){const i="string"==typeof(n=t)?ye[n]:_e.createConverter(n.type,n);var n;const a=s.a.pureComputed({read(){const t=e();return t&&i.format(t)},write(t){t&&t instanceof Date==!1?e(i.parse(t)):e(null)}});return a(e()),a};const ot={abstract:!0,view:{layout:"minimal"}};h.a.configure({cx:ot,minimal:ot,"home-page":{parent:"minimal",url:"/:?query:",isDefault:!0,view:{main:"splash-page",dialogs:null,"candidate-verification":null}}});const rt=new Map;function lt(e,t){if(rt.has(e))throw new Error(`Template named ${e} has been already added to repository`);rt.set(e,t)}function ct(e){const t=rt.get(e);if(!t)throw new Error(`Template named ${e} do not exists in repository`);return t}s.a.webpackTemplateEngine=function(){this.allowTemplateRewriting=!1},s.a.webpackTemplateEngine.prototype=new s.a.templateEngine,s.a.webpackTemplateEngine.prototype.constructor=s.a.nativeTemplateEngine,s.a.webpackTemplateEngine.prototype.makeTemplateSource=function(e,t){const i=s.a.unwrap(e);if("string"==typeof i){const e=(t||document).getElementById(i);return e?new s.a.templateSources.domElement(e):{text:s.a.observable(ct(i))}}return i.nodeType===Node.ELEMENT_NODE||i.nodeType===Node.COMMENT_NODE?new s.a.templateSources.anonymousTemplate(i):null},s.a.webpackTemplateEngine.prototype.renderTemplateSource=function(e,t,i,n){const a=e.nodes?e.nodes():null;return a?[...a.cloneNode(!0).childNodes]:s.a.utils.parseHtmlFragment(e.text(),n)},s.a.setTemplateEngine(new s.a.webpackTemplateEngine);var dt=i(17),ut=i.n(dt),pt=(i(130),i(131),i(177),i(178),i(26));const ht={delay:500,minLength:Object(pt.a)(c.a.getSettingByKey("IRC_ELASTIC_SEARCH_ENABLED"))?1:3,position:{my:"left top+2"},classes:{"ui-autocomplete":"text-color-primary background-color-dropdown"}};function mt(e,{calculateLeft:t}){if(!t)return"0";const i=parseFloat(e.css("padding-left"))-10;return i>0?i+"px":"0"}function bt(e){return e.find(":tabbable").not('input[type="radio"]:not(:checked)')}s.a.bindingHandlers.autocomplete={init(e,t,i,n){const a=ut()(e),o=ut.a.extend(!0,{},ht,t()),{source:r}=o,l=i().textInput,c=s.a.observable(!1);void 0===o.position.of&&(o.position.of=o.appendTo),n&&function(e){e.keydown(t=>{9===t.keyCode&&function(e){return e.autocomplete("widget").is(":visible")}(e)&&(setTimeout(()=>{e.focus()},100),t.stopPropagation())})}(a),o.create=()=>{a.autocomplete("widget").attr("id",o.id)},o.open=()=>{a.autocomplete("widget").css({width:"100%",left:mt(a,o)})},o.close=()=>{c(!1),a.attr("aria-activedescendant",null)},o.focus=e=>{e.preventDefault();const t=ut()(e.currentTarget).find('[role="option"].ui-state-focus'),i=t.length?t.attr("id"):null;a.attr("aria-activedescendant",i)},o.source=(e,t)=>{r(e.term).then(e=>{c(Boolean(e.length)),t(e)})},o.select||(o.select=(e,t)=>{o.model(t.item)});const d=a.autocomplete(o).data("ui-autocomplete");function u(t){s.a.bindingHandlers.boolAttr.update(e,()=>({"aria-expanded":t}),i)}d._renderMenu=function(e,t){t.forEach(t=>{this._renderItemData(e,t)})},d._renderItem=function(e,t){const i=this.term.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),n=new RegExp(i,"gi"),s=t.label.replace(n,'<span class="ui-autocomplete-mark">$&</span>');return ut()("<li>").attr("data-value",t.value).attr("data-qa","autocompleteResultItem").attr("role","option").append(ut()("<div>").append(s)).appendTo(e)},u(c());const p=c.subscribe(u),h=l.subscribe(e=>{e&&e.length<o.minLength&&(a.autocomplete("close"),a.removeClass("ui-autocomplete-loading"))},this);s.a.utils.domNodeDisposal.addDisposeCallback(e,()=>{a.autocomplete("instance")&&a.autocomplete("destroy"),h.dispose(),p.dispose()})}},s.a.bindingHandlers.boolAttr={update(e,t){const i=s.a.utils.unwrapObservable(t())||{};s.a.utils.objectForEach(i,(t,i)=>{const n=s.a.utils.unwrapObservable(i);e.setAttribute(t,n?"true":"false")})}},s.a.bindingHandlers["a11y.keysHandler"]={init(e,t,i,n){const{keys:a}=t(),o=t().handler.bind(n),r=[];function l(e){r.indexOf(e.which)>-1&&(e.stopPropagation(),o(n,e))}function c(e){const t=function(e){return N[(t=e,t.replace(/([A-Z])/g,"_$1").toUpperCase())];var t}(e);t&&r.push(t)}Array.isArray(a)?a.forEach(e=>{c(e)}):c(a),e.addEventListener("keydown",l),s.a.utils.domNodeDisposal.addDisposeCallback(e,()=>{e.removeEventListener("keydown",l)})}},s.a.bindingHandlers["a11y.trapFocus"]={init(e){const t=ut()(e);let i=bt(t);function n(){t.focus()}function a(e,t){t&&n()}function o(){i=bt(t),i.each((e,t)=>{ut()(t).off("a11y-disabled",a),s.a.utils.domNodeDisposal.removeDisposeCallback(t,n),s.a.utils.domNodeDisposal.addDisposeCallback(t,n),ut()(t).on("a11y-disabled",a)})}function r(e){if(e.which===N.TAB){o();const n=i.first(),s=i.last();if(t.is(e.target)&&!i.length)return void e.preventDefault();e.shiftKey&&n.is(e.target)&&(e.preventDefault(),s.focus()),!e.shiftKey&&s.is(e.target)&&(e.preventDefault(),n.focus())}}t.on("keydown",r),t.on("focus",o),s.a.utils.domNodeDisposal.addDisposeCallback(e,()=>{t.off("keydown",r),t.off("focus",o)})}};const{body:ft}=document;function gt(e){e.which===N.TAB&&ft.classList.add("focused-with-keyboard")}function vt(e){e&&e.detail>0&&ft.classList.remove("focused-with-keyboard")}s.a.bindingHandlers["a11y.toggleFocusIndicator"]={init(e){e.addEventListener("keydown",gt),e.addEventListener("mousedown",vt),s.a.utils.domNodeDisposal.addDisposeCallback(e,()=>{e.removeEventListener("keydown",gt),e.removeEventListener("mousedown",vt)})}};function _t(e){const t=document.querySelector(e);t&&t.focus()}function yt(e,t){const i=Object(n.unwrap)(e);void 0===t?_t(i):window.setTimeout(()=>{_t(i)},t)}s.a.bindingHandlers["a11y.setInitialFocus"]={after:["hideAfterAnimation"],init(e,t){const{focusOn:i,delay:n,focusCallback:a,onInit:o,shouldRemoveTabIndexOnFocus:r}=t(),l=ut()(e);let c;function d(e){e.focus(),function(e){r&&e.attr("tabIndex","-1")}(e)}function u(n){let s;if(c&&ut.a.contains(e,document.activeElement)||(c=document.activeElement),n){if(a)return void a(l);if(i)s=l.find(i).first();else{const e=l.find(":tabbable");s=e.length?e.first():l}}else s=t().resetFocus?ut()(t().resetFocus):ut()(c);d(s)}function p(e){n?setTimeout(()=>{u(e)},n):u(e)}l.attr("tabindex","-1"),t().isVisible()&&o&&p(t().isVisible());const h=t().isVisible.subscribe(e=>{p(e)});s.a.utils.domNodeDisposal.addDisposeCallback(e,()=>{h.dispose(),u(!1)})}},n.bindingHandlers["a11y.setFocusOnClick"]={after:["hideAfterAnimation"],init(e,t){const{focusOn:i,delay:s}=t();function a(){yt(i,s)}e.addEventListener("click",a),n.utils.domNodeDisposal.addDisposeCallback(e,()=>{e.removeEventListener("click",a)})}},n.bindingHandlers["a11y.setFocusOnTab"]={init(e,t){const{focusOn:i,delay:s,when:a}=t();function o(e){const t=e.which===N.TAB,n=e.shiftKey;t&&!n&&a&&yt(i,s)}i&&(e.addEventListener("keydown",o),n.utils.domNodeDisposal.addDisposeCallback(e,()=>{e.removeEventListener("keydown",o)}))}},s.a.bindingHandlers["a11y.skipTo"]={update(e,t){const{elementsContainer:i,elementsFocused:n,skipToElement:a="",updateSkip:o=!0}=t();function r(){if(!n&&!i)return document.querySelector("[role=main]");const e=document.querySelectorAll(n);if(!e.length){return Array.from(document.querySelectorAll(function(){const e=i.split(","),t=["button","[href]","input","select","textarea",'[tabindex="0"]'];return" "+e.map(e=>t.map(t=>`${e} ${t}`)).flat(2).toString()}())).find(e=>e.offsetWidth||e.offsetHeight||e.getClientRects().length)}return e[0]}function l(e){const t=r();e.key&&e.key!==N.ENTER||(t&&t.focus(),e.preventDefault())}function c(e,t){e&&e.setAttribute("aria-hidden",`'${t}'`)}const d=document.querySelector(".skip-navigation-link.main-skip");let u=document.querySelectorAll(".skip-navigation-link"+a);u=a&&u.length?u[u.length-1]:d,c(u,!0),c(d,!1),o&&u&&(a&&(c(u,!1),c(d,!0)),u.addEventListener("click",l),u.addEventListener("keydown",l),s.a.utils.domNodeDisposal.addDisposeCallback(e,()=>{u.removeEventListener("click",l),u.removeEventListener("keydown",l),c(u,!0),c(d,!1)}))}};let xt=null,wt=null,kt=!1;const It={offset:300,onWindowScroll:!0,loader(){}};s.a.bindingHandlers.infiniteScroll={init(e,t,i){xt=ut()(e),ut.a.extend(It,i().settings),wt=It.onWindowScroll?ut()(window):ut()(e.parentNode),s.a.utils.domNodeDisposal.addDisposeCallback(e,()=>{wt.off("scroll.ko.infiniteScroll resize.ko.infiniteScroll"),kt=!1})},update(e,t){s.a.utils.unwrapObservable(t())?(xt.show(),wt.on("scroll.ko.infiniteScroll resize.ko.infiniteScroll",()=>{xt.offset().top-It.offset<=wt.height()+wt.scrollTop()?kt||(kt=!0,It.loader()):kt=!1})):(xt.hide(),wt.off("scroll.ko.infiniteScroll resize.ko.infiniteScroll"),kt=!1)}};n.bindingHandlers.scrollTo={init(e,t){const i=ut()("body, html"),{offset:s,onfinish:a,duration:o,eventType:r,isActive:l}=t();let{target:c}=t(),d=parseInt(o,10);const u=()=>{const e=parseInt(c,10)===c?c:c.offsetTop;i.animate({scrollTop:e-s||0},d,a)},p=e=>{e.preventDefault(),u()};(void 0===l||l())&&(d=isNaN(d)?500:d,c=parseInt(c,10)!==c?document.querySelector(c):c,"onLoad"===r?setTimeout(()=>{u()},0):e.addEventListener("click",p),n.utils.domNodeDisposal.addDisposeCallback(e,()=>{e.removeEventListener("click",p)}))}};i(104);var Ct={isSmall:ue.a.ResponsiveKnockoutUtils.createMediaQueryObservable(ue.a.ResponsiveUtils.getFrameworkQuery(ue.a.ResponsiveUtils.FRAMEWORK_QUERY_KEY.SM_ONLY)),isMedium:ue.a.ResponsiveKnockoutUtils.createMediaQueryObservable(ue.a.ResponsiveUtils.getFrameworkQuery(ue.a.ResponsiveUtils.FRAMEWORK_QUERY_KEY.MD_ONLY)),isLarge:ue.a.ResponsiveKnockoutUtils.createMediaQueryObservable(ue.a.ResponsiveUtils.getFrameworkQuery(ue.a.ResponsiveUtils.FRAMEWORK_QUERY_KEY.LG_ONLY)),isSmallUp:ue.a.ResponsiveKnockoutUtils.createMediaQueryObservable(ue.a.ResponsiveUtils.getFrameworkQuery(ue.a.ResponsiveUtils.FRAMEWORK_QUERY_KEY.SM_UP)),isMediumUp:ue.a.ResponsiveKnockoutUtils.createMediaQueryObservable(ue.a.ResponsiveUtils.getFrameworkQuery(ue.a.ResponsiveUtils.FRAMEWORK_QUERY_KEY.MD_UP)),isLargeUp:ue.a.ResponsiveKnockoutUtils.createMediaQueryObservable(ue.a.ResponsiveUtils.getFrameworkQuery(ue.a.ResponsiveUtils.FRAMEWORK_QUERY_KEY.LG_UP)),isMediumDown:ue.a.ResponsiveKnockoutUtils.createMediaQueryObservable(ue.a.ResponsiveUtils.getFrameworkQuery(ue.a.ResponsiveUtils.FRAMEWORK_QUERY_KEY.MD_DOWN)),isLargeDown:ue.a.ResponsiveKnockoutUtils.createMediaQueryObservable(ue.a.ResponsiveUtils.getFrameworkQuery(ue.a.ResponsiveUtils.FRAMEWORK_QUERY_KEY.LG_DOWN)),hasPointingDevice:window.matchMedia("(pointer: fine)").matches};function St(e,t){(!t||t&&Ct[t]())&&window.scrollTo(0,e||0)}s.a.bindingHandlers.setBodyScrollTo={init(e,t){const{to:i,device:n,when:a}=t();if(a){const t=a.subscribe(e=>{e&&St(i,n)});s.a.utils.domNodeDisposal.addDisposeCallback(e,()=>{t.dispose()})}else St(i,n)}};var Et=i(8),Ot=i.n(Et),At={brandUpdated:new Ot.a,stylesUpdated:new Ot.a,welcomeTextUpdated:new Ot.a,customHeaderUpdated:new Ot.a,customHeaderHtmlUpdated:new Ot.a,customFooterUpdated:new Ot.a,templateFooterUpdated:new Ot.a,customCssUpdated:new Ot.a,customJsUpdated:new Ot.a,customFontsUpdated:new Ot.a,themeSettingsUpdated:new Ot.a,logoImageUrl:new Ot.a,mobileLogoImageUrl:new Ot.a,frontImageUrl:new Ot.a};s.a.bindingHandlers.frontImageBackground={init(e){if(c.a.images){c.a.images.frontImageUrl&&(e.style.backgroundImage=`url(${c.a.images.frontImageUrl})`);const t=At.frontImageUrl.add(t=>{t?e.style.backgroundImage=`url(${t})`:e.style.removeProperty("background-image")});s.a.utils.domNodeDisposal.addDisposeCallback(e,()=>{t.detach()})}}};const{body:Pt}=document;s.a.bindingHandlers.setBodyClass={init(e,t){const{when:i,className:n}=t();s.a.utils.toggleDomNodeCssClass(Pt,n,Boolean(i)),s.a.utils.domNodeDisposal.addDisposeCallback(e,()=>s.a.utils.toggleDomNodeCssClass(Pt,n,!1))}};n.components.register("media-image-slide",{viewModel:class{constructor({slide:e,activeIndex:t}){this.slide=e,this.activeIndex=t}},template:'<li class="media-slider__item" data-bind="css: {\'media-slider__item--active\': $index() == activeIndex()}">\n    <div\n        class="media-slider__item-content"\n        data-bind="style: { backgroundImage: \'url(\'+ slide.url() +\')\' } "\n    ></div>\n    <div\n        class="media-slider__item-background"\n        data-bind="style: { backgroundImage: \'url(\'+ slide.url() +\')\' }"\n    ></div>\n</li>\n'});n.components.register("media-video-slide",{viewModel:class{constructor({slide:e,activeIndex:t}){this.slide=e,this.activeIndex=t,this.url=this.slide.url}},template:'<li class="media-slider__item" data-bind="css: {\'media-slider__item--active\': $index() == activeIndex()}">\n    <div class="media-slider__item-content">\n        <iframe\n            class="media-slider__player"\n            data-bind="attr: { src: url() }"\n            frameborder="0"\n            webkitallowfullscreen\n            mozallowfullscreen\n            allowfullscreen\n        >\n        </iframe>\n    </div>\n\n    <div\n        class="media-slider__item-background media-slider__item-background--video-poster"\n        data-bind="style: { backgroundImage: \'url(\'+ slide.thumbUrl() +\')\' }"\n    ></div>\n</li>\n'});n.components.register("media-map-slide",{viewModel:class{constructor({slide:e,activeIndex:t}){this.slide=e,this.activeIndex=t,this.markers=this.slide.markers}},template:'<li class="media-slider__item" data-bind="css: {\'media-slider__item--active\': $index() == activeIndex()}">\n    <div class="media-slider__item-content" data-bind="map: { markers: markers }"></div>\n</li>\n'});var Tt=i(44);const jt={image:"media-image-slide",video:"media-video-slide",map:"media-map-slide"};n.components.register("media-slider",{viewModel:class{constructor(e){this.className=Object(n.observable)(e.className),this.slides=Object(n.unwrap)(e.slides),this.activeIndex=Object(n.observable)(0),this.MAX_INDEX=this.slides.length-1,this.isPrevButtonFocused=Object(n.observable)(!1),this.isNextButtonFocused=Object(n.observable)(!1)}next(){const e=this.activeIndex()+1;this.activeIndex(e>=this.MAX_INDEX?this.MAX_INDEX:e),this.isLast()&&this.isPrevButtonFocused(!0),Tt.a.status.dispatch(Object(l.a)("job-details.a11y.media-loaded"))}previous(){const e=this.activeIndex()-1;this.activeIndex(e<=0?0:e),this.isFirst()&&this.isNextButtonFocused(!0),Tt.a.status.dispatch(Object(l.a)("job-details.a11y.media-loaded"))}getComponentType(e){return jt[e.toLowerCase()]}isLast(){return this.activeIndex()>=this.MAX_INDEX}isFirst(){return 0===this.activeIndex()}},template:"\x3c!-- ko if: slides.length --\x3e\n<div class=\"media-slider\" data-bind=\"css: className\">\n    <ul class=\"media-slider__items\">\n        \x3c!-- ko foreach: { data: slides, as: 'slide' } --\x3e\n        \x3c!-- ko component: { name: $component.getComponentType(slide.type()), params: { slide: slide, activeIndex: $component.activeIndex } } --\x3e\n        \x3c!-- /ko --\x3e\n        \x3c!-- /ko --\x3e\n    </ul>\n\n    <div class=\"media-slider__controls\">\n        <button\n            class=\"media-slider__change-slide media-slider__change-slide--previous\"\n            data-bind=\"\n                click: previous,\n                css: {'media-slider__change-slide--hidden': isFirst() },\n                i18nAttr: { title: isFirst() ? '' : 'job-details.a11y.prev-media-button-label' },\n                boolAttr: { 'aria-hidden': isFirst() },\n                attr: {'tabIndex': isFirst() ? -1 : 0},\n                hasFocus: isPrevButtonFocused\"\n        ></button>\n\n        <button\n            class=\"media-slider__change-slide media-slider__change-slide--next\"\n            data-bind=\"\n                click: next,\n                css: {'media-slider__change-slide--hidden': isLast() },\n                i18nAttr: { title: isLast() ? '' : 'job-details.a11y.next-media-button-label' },\n                boolAttr: { 'aria-hidden': isLast() },\n                attr: {'tabIndex': isLast() ? -1 : 0},\n                hasFocus: isNextButtonFocused\"\n        ></button>\n    </div>\n</div>\n\x3c!-- /ko --\x3e\n"}),s.a.bindingHandlers.accessibleMessage={update(e,t){const i=s.a.unwrap(t()),n=e;if(i){const e=document.createTextNode(i),t=document.createElement("p");t.appendChild(e),n.innerHTML="",n.appendChild(t)}}};n.components.register("accessibility-messages",{viewModel:class{constructor(){this.status=s.a.observable().extend({notify:"always"}),this.alert=s.a.observable().extend({notify:"always"}),Tt.a.status.add(e=>{this.status(e)}),Tt.a.alert.add(e=>{this.alert(e)})}},template:'<div\n    role="status"\n    class="oj-helper-hidden-accessible"\n    aria-live="polite"\n    aria-relevant="additions"\n    data-bind="accessibleMessage: status"\n></div>\n<div\n    role="alert"\n    class="oj-helper-hidden-accessible"\n    aria-live="assertive"\n    aria-relevant="additions"\n    data-bind="accessibleMessage: alert"\n></div>\n'});n.components.register("unsupported-browser-message",{template:'<div class="unsupported-browser-message-overlay"></div>\n<div class="unsupported-browser-message">\n    <div\n        class="unsupported-browser-message-title"\n        data-bind="i18n: \'general.unsupported-browser.title\'"\n    ></div>\n    <div\n        class="unsupported-browser-message-content"\n        data-bind="i18n: \'general.unsupported-browser.message\'"\n    ></div>\n</div>\n'});i(181);n.components.register("cx-context-menu",{viewModel:class{constructor({menuId:e,onSelect:t}){this.menuId=e,this.onSelect=t}},template:"<ul\n    class=\"cx-context-menu\"\n    data-bind=\"ojComponent: {\n                    component: 'ojMenu',\n                    select: onSelect,\n                    openOptions: {\n                        position: {'my': 'end top', 'at': 'end bottom'},\n                        display: 'dropDown'\n                    }\n               },\n               attr: {id: menuId}\"\n>\n    \x3c!-- ko template: { nodes: $componentTemplateNodes, data: $parent} --\x3e\x3c!-- /ko --\x3e\n</ul>\n"}),h.a.configure({"not-found":{parent:"cx",title:Object(l.a)("general.error-404.page-not-found"),url:"/404",view:{main:"error-404"}}});n.components.register("error-404",{viewModel:class{},template:'<div class="error-404">\n    <div class="error-404__content">\n        <div class="error-404__image"></div>\n\n        <div class="error-404__header" data-bind="i18n: \'general.error-404.page-not-found\'"></div>\n        <div class="error-404__description" data-bind="i18n: \'general.error-404.page-you-requested\'"></div>\n\n        <div class="error-404__buttons">\n            <a\n                class="cx-button cx-button--primary error-404__to-homepage"\n                data-bind="route: \'home-page\', isAbsoluteUrl: true, i18n: \'general.error-404.back-to-homepage\'"\n            ></a>\n        </div>\n    </div>\n</div>\n'}),h.a.configure({downloader:{url:"/downloader",view:{layout:"downloader"}}});const Rt=[];window.addEventListener("message",e=>{const{key:t,value:i}=e.data;Rt[t]&&Rt[t].forEach(e=>e(i))});var Ft={add(e,t){Rt[e]||(Rt[e]=[]),Rt[e].push(t)},remove(e,t){const i=Rt[e].indexOf(t);i<0?console.error("No listener for key: "+e):Rt[e].splice(i,1)},dispatch(e,t,i){(i||window.opener).postMessage({key:e,value:t},window.location.origin)}};const Dt=navigator.userAgent;const Lt=function(){switch(!0){case/Edge/.test(Dt):return"Edge";case/Chrome|CriOS/.test(Dt):return"Chrome";case/Firefox|FxiOS/.test(Dt):return"Firefox";case/Opera|OPR/.test(Dt):return"Opera";case/Safari/.test(Dt):return"Safari";case/MSIE|Trident/i.test(Dt):return"Internet Explorer";default:return}}(),Nt=function(){switch(!0){case/Windows Phone/.test(Dt):return"Windows Phone";case/Windows/.test(Dt):return"Windows";case/Android/.test(Dt):return"Android";case/iPad/.test(Dt):return"iPad";case/iPhone/.test(Dt):return"iPhone";case/iPod/.test(Dt):return"iPod";case/Mac/.test(Dt):return"OS X";case/BlackBerry|BB|PlayBook/i.test(Dt):return"BlackBerry";default:return}}(),Mt=function(e){switch(e){case"Chrome":return parseFloat(Dt.split(/Chrome|CriOS/)[1].split("Safari")[0].replace(/[^0-9.]/g,""));case"Firefox":return/FxiOS/i.test(Dt)?void 0:parseFloat(Dt.split(/Firefox\//i)[1].replace(/[^0-9.]/g,""));case"Opera":return parseFloat(Dt.split("Version/")[1].replace(/[^0-9.]/g,""));case"Safari":return parseFloat(Dt.split("Version/")[1].split("Safari")[0].replace(/[^0-9.]/g,""));case"Internet Explorer":return/Trident/i.test(Dt)&&/rv:([0-9]+[.0-9]*)/.test(Dt)?parseInt(Dt.match(/rv:([0-9]+[.0-9]*)/)[1].replace(/[^0-9.]/g,""),10):parseInt(Dt.split("MSIE")[1].replace(/[^0-9.]/g,""),10);default:return}}(Lt);var Vt={browser:Lt,platform:Nt,version:Mt,isIOS:()=>["iPhone","iPad","iPod"].indexOf(Nt)>-1,isMac:()=>"OS X"===Nt,isSafari9:()=>"Safari"===Lt&&Mt<10,isIE11:()=>"Internet Explorer"===Lt&&11===Mt,isEdge:()=>"Edge"===Lt,isChrome:()=>"Chrome"===Lt,isMobile:()=>["iPhone","iPad","iPod","Windows Phone","Android","BlackBerry"].indexOf(Nt)>-1},Bt=i(11);i(126);function qt(){document.getElementById("downloader").click()}i(182);function Ut(){const e=new FileReader;return this.encode=t=>new Promise(i=>{e.onload=e=>{const t=function(e){const t=new window.Uint8Array(e);let i="";for(let e=0;e<t.length;e++)i+=String.fromCharCode(t[e]);return i}(e.target.result);i(btoa(t))},e.readAsArrayBuffer(t)}),this.decode=e=>new Promise(t=>{t(function(e){const t=new window.Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(atob(e)))}),this}const Ht=Vt.isIE11()||Vt.isEdge()?class{constructor(){this.url=s.a.observable()}saveAttachment(e,t,i){const n=new Blob([i],{type:e});window.navigator.msSaveBlob(n,t)}displayAttachment(e,t,i){return(new Ut).decode(i).then(this.saveAttachment.bind(this,e,t))}}:class{constructor(){this.url=s.a.observable()}saveAttachment(e,t,i){const n=new Blob([i],{type:e});this.url(URL.createObjectURL(n)),qt()}displayAttachment(e,t,i){return this.url(`data:${e};base64,${i}`),qt(),Promise.resolve()}};n.components.register("downloader",{viewModel:class extends Ht{constructor(){super(),this.fileName=s.a.observable(),Ft.add("download",this.messageHandler.bind(this)),Ft.dispatch("ready")}messageHandler(e){const{fileName:t,mimeType:i}=e.fileInfo;if(this.fileName(t),e.fileInfo.url)this.fetchAttachment(e.fileInfo.url,e.httpConfig).then(this.saveAttachment.bind(this,i,t)).then(Bt.a.loaded.dispatch);else{const{fileContents:n}=e.fileInfo;this.displayAttachment(i,t,n).then(Bt.a.loaded.dispatch)}}fetchAttachment(e,t){return U.a.get(e,t)}},template:'<a id="downloader" data-bind="attr: {download: fileName, href: url}"></a>\n'});var $t=i(55);function Jt(){var e,t,i;(null===(e=window)||void 0===e||null===(t=e.addthis)||void 0===t||null===(i=t.layers)||void 0===i?void 0:i.refresh)&&window.addthis.layers.refresh()}n.bindingHandlers.addThisInlineToolRenderer={update(e,t){const{inlineToolCode:i,attributes:s}=t(),a=ut()(i()),o=Object(n.unwrap)(s);o&&a.attr(o),ut()(e).empty().append(a),Object($t.a)("//s7.addthis.com/js/300/addthis_widget.js").then(()=>{Jt(),setTimeout(()=>{Jt()},500)}).catch(console.error)}};n.components.register("add-this-inline-tool",{viewModel:class{constructor({inlineToolCode:e,attributes:t}){this.inlineToolCode=e,this.attributes=t,window.addthis_share={url_transforms:{add:{utm_source:"{{code}}"}}}}dispose(){delete window.addthis_share.url_transforms}},template:'\x3c!-- ko if: inlineToolCode --\x3e\n<div\n    class="add-this-inline-tool"\n    data-bind="addThisInlineToolRenderer: { inlineToolCode: inlineToolCode, attributes: attributes }"\n></div>\n\x3c!-- /ko --\x3e\n'});n.components.register("add-this",{viewModel:class{constructor(){this.pubId=Object(n.observable)(c.a.getSettingByKey("ADDTHIS_PROFILE_ID")),this.pubId()?window.addthis_config={pubid:this.pubId(),ui_tabindex:0}:delete window.addthis_config}},template:"<div></div>\n"});var zt=i(76);class Wt extends zt.a{interpolate(e){const t=super.interpolate(e),i=function(e){const t=e.query||{};return Object.keys(t).filter(e=>function(e){return 0===e.indexOf("utm_")}(e)).map(e=>function(e,t){return`${e}=${t}`}(e,t[e])).join(";")}(e),n=t.includes("objKey");return i&&n?`${t};${i}`:t}}const Kt=c.a.links.ice;Kt&&"object"==typeof Kt&&Object.keys(Kt).forEach(e=>{const t="ice-"+function(e){return e.replace(/([A-Z])/g,e=>"-"+e.toLowerCase())}(e);const i=(Kt[e]||"").trim();if(i){const e=new Wt(t,{url:decodeURIComponent(i)});h.a.addRoute(e)}});class Gt{constructor({latitude:e,longitude:t}){this.latitude=e,this.longitude=t}validate(){return Boolean(this.latitude&&this.longitude)}}const Yt="BING",Qt="GOOGLE",Zt="not initialized",Xt="initializing",ei="ready",ti=new Gt({latitude:41.101136,longitude:-98.411337});class ii{constructor(e,t){if(!e||!t)throw new Error("Missing params for Map Controller");this.element=t,this.mapProvider=e,this.map=void 0,this.cluster=void 0,this.popup=void 0,this.markers=new Map,this.initialCenter=ti,this.initialZoomLevel=4}showMap(){this.mapProvider.initialize(this._initMap.bind(this))}addMarkers(e=[]){e.forEach(this._addMarker.bind(this)),this._addMarkersToCluster()}adjustBounds(){return!(!this.map||!this.markers.size)&&(1===this.markers.size?this._adjustBoundsForSingleMarker():this._adjustBoundsForMultipleMarkers())}clearMap(){this.map&&this.markers.size&&this.mapProvider.clearMarkers({map:this.map,markers:[...this.markers.values()]}),this.markers.clear()}_initMap(){if(this.map)return;const e=this.mapProvider.createPosition({coordinates:this.initialCenter}),t={element:this.element,center:e,zoom:this.initialZoomLevel};this.map=this.mapProvider.createMap(t),this.popup=this.mapProvider.createPopup({map:this.map}),this._addMissingMarkers(),this.adjustBounds()}_addMissingMarkers(){[...this.markers.values()].filter(({markerObject:e})=>!e).forEach(this._addMarker.bind(this)),this._addMarkersToCluster()}_addMarker(e){const t=JSON.stringify(e.coordinates);if(!this.map)return void this.markers.set(t,e);const i=this.mapProvider.createMarker({map:this.map,coordinates:e.coordinates,popup:this.popup,content:e.popupContent,label:e.label});e.setMarkerObject(i),this.markers.set(t,e)}_addMarkersToCluster(){if(!this.map)return;const e=[...this.markers.values()].map(({markerObject:e})=>e);this.cluster?this.mapProvider.updateClusterLayer({cluster:this.cluster,markers:e}):this.cluster=this.mapProvider.createClusterLayer({map:this.map,markers:e})}_adjustBoundsForSingleMarker(){const[e]=[...this.markers.values()];this.mapProvider.setCenter({map:this.map,coordinates:e.coordinates}),this.mapProvider.setZoomLevel({map:this.map,zoom:11}),this.mapProvider.showPopup({map:this.map,marker:e.markerObject,popup:this.popup,content:e.popupContent})}_adjustBoundsForMultipleMarkers(){const e=[...this.markers.values()].map(({coordinates:e})=>e);return this.mapProvider.adjustBoundsForMultipleCoordinates({map:this.map,coordinates:e})}}var ni=i(37);class si{constructor(){this.scriptUrl="",this.deepLinkUrl="",this.initCallbacks=[],this.status=Zt,this.callbackFunctionName="mapCallbackFn"}initialize(e){if(e&&this.status===ei?e():e&&this.initCallbacks.push(e),this.status!==Zt)return;this.status=Xt,window[this.callbackFunctionName]=this._onScriptLoaded.bind(this);const{settings:{api_Key:t}}=c.a.getSettingByKey(ni.b),i=this.scriptUrl.replace("{key}",t).replace("{language}",c.a.siteLang).replace("{callback}",this.callbackFunctionName);Object($t.a)(i)}_onScriptLoaded(){this.status=ei,this.initCallbacks.forEach(e=>e()),this.initCallbacks=[]}_goToJobPreview(e){h.a.go("job-preview",{jobId:e})}generateDirectionsDeepLink({latitude:e,longitude:t}){return this.deepLinkUrl.replace("{latitude}",e).replace("{longitude}",t)}createMap(){throw new Error("Method not implemented")}isProviderReady(){throw new Error("Method not implemented")}createPosition(){throw new Error("Method not implemented")}createMarker(){throw new Error("Method not implemented")}createPopup(){throw new Error("Method not implemented")}showPopup(){throw new Error("Method not implemented")}createClusterLayer(){throw new Error("Method not implemented")}updateClusterLayer(){throw new Error("Method not implemented")}setZoomLevel(){throw new Error("Method not implemented")}setCenter(){throw new Error("Method not implemented")}adjustBoundsForMultipleCoordinates(){throw new Error("Method not implemented")}clearMarkers(){throw new Error("Method not implemented")}}class ai{constructor(e,t){e.getMarkerClusterer().extend(ai,google.maps.OverlayView),this.cluster=e,this.className=e.getMarkerClusterer().getClusterClass(),this.styles=t,this.center=null,this.div=null,this.sums=null,this.visible=!1,this.setMap(e.getMap())}onAdd(){const e=this;let t,i;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),this.getPanes().overlayMouseTarget.appendChild(this.div),this.boundsChangedListener=google.maps.event.addListener(this.getMap(),"bounds_changed",()=>{i=t}),google.maps.event.addDomListener(this.div,"mousedown",()=>{t=!0,i=!1}),google.maps.event.addDomListener(this.div,"click",n=>{if(t=!1,!i){let t,i;const s=e.cluster.getMarkerClusterer();google.maps.event.trigger(s,"click",e.cluster),s.getZoomOnClick()&&(i=s.getMaxZoom(),t=e.cluster.getBounds(),s.getMap().fitBounds(t),setTimeout(()=>{s.getMap().fitBounds(t),null!==i&&s.getMap().getZoom()>i&&s.getMap().setZoom(i+1)},100)),n.cancelBubble=!0,n.stopPropagation&&n.stopPropagation()}}),google.maps.event.addDomListener(this.div,"mouseover",()=>{const t=e.cluster.getMarkerClusterer();google.maps.event.trigger(t,"mouseover",e.cluster)}),google.maps.event.addDomListener(this.div,"mouseout",()=>{const t=e.cluster.getMarkerClusterer();google.maps.event.trigger(t,"mouseout",e.cluster)})}onRemove(){this.div&&this.div.parentNode&&(this.hide(),google.maps.event.removeListener(this.boundsChangedListener),google.maps.event.clearInstanceListeners(this.div),this.div.parentNode.removeChild(this.div),this.div=null)}draw(){if(this.visible){const{y:e,x:t}=this._getPosFromLatLng(this.center);this.div.style.top=e+"px",this.div.style.left=t+"px"}}hide(){this.div&&(this.div.style.display="none"),this.visible=!1}show(){if(this.div){const e=this._getPosFromLatLng(this.center);this.div.style.cssText=this.createCss(e),this.div.innerHTML=`<div class="${this.class}" style="\n                top: ${this.anchorText[0]}px;\n                left: ${this.anchorText[1]}px;\n                color: ${this.textColor};\n                font-size: ${this.textSize}px;\n                font-family: ${this.fontFamily};\n                font-weight: ${this.fontWeight};\n                font-style: ${this.fontStyle};\n                text-decoration: ${this.textDecoration};\n                width: ${this.width}px;\n                line-height: ${this.height}px;\n                ">${this.sums.text}</div>`,void 0===this.sums.title||""===this.sums.title?this.div.title=this.cluster.getMarkerClusterer().getTitle():this.div.title=this.sums.title,this.div.style.display=""}this.visible=!0}useStyle(e){const t=Math.min(this.styles.length-1,Math.max(0,e.index-1)),i=this.styles[t];this.sums=e,this.class=i.class,this.height=i.height,this.width=i.width,this.anchorText=i.anchorText||[0,0],this.anchorIcon=i.anchorIcon||[parseInt(this.height/2,10),parseInt(this.width/2,10)],this.textColor=i.textColor||"black",this.textSize=i.textSize||11,this.textDecoration=i.textDecoration||"none",this.fontWeight=i.fontWeight||"bold",this.fontStyle=i.fontStyle||"normal",this.fontFamily=i.fontFamily||"Arial,sans-serif"}setCenter(e){this.center=e}createCss(e){const t=[];return t.push("cursor: pointer;"),t.push(`position: absolute; top: ${e.y}px; left: ${e.x}px;`),t.push(`width: ${this.width}px; height: ${this.height}px;`),t.join("")}_getPosFromLatLng(e){const t=this.getProjection().fromLatLngToDivPixel(e);return t.x-=this.anchorIcon[1],t.y-=this.anchorIcon[0],t.x=parseInt(t.x,10),t.y=parseInt(t.y,10),t}}class oi{constructor(e){this.markerClusterer=e,this.map=e.getMap(),this.gridSize=e.getGridSize(),this.minClusterSize=e.getMinimumClusterSize(),this.averageCenter=e.getAverageCenter(),this.markers=[],this.center=null,this.bounds=null,this.clusterIcon=new ai(this,e.getStyles())}getMarkers(){return this.markers}getCenter(){return this.center}getMap(){return this.map}getMarkerClusterer(){return this.markerClusterer}getBounds(){const e=new google.maps.LatLngBounds(this.center,this.center);return this.getMarkers().forEach(t=>e.extend(t.getPosition())),e}remove(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers}calculateCoordinate(e,t,i){return(this.center[e]()*(i-1)+t.getPosition()[e]())/i}isZoomGreaterThanMax(){const e=this.markerClusterer.getMaxZoom();return null!==e&&this.map.getZoom()>e}addMarker(e){if(this._isMarkerAlreadyAdded(e))return!1;if(this.center){if(this.averageCenter){const t=this.markers.length+1,i=this.calculateCoordinate("lat",e,t),n=this.calculateCoordinate("lng",e,t);this.center=new google.maps.LatLng(i,n),this._calculateBounds()}}else this.center=e.getPosition(),this._calculateBounds();e.isAdded=!0,this.markers.push(e);const t=this.markers.length,i=e.getMap()===this.map;return this.isZoomGreaterThanMax()||t<this.minClusterSize?i||e.setMap(this.map):t===this.minClusterSize?this.markers.forEach(e=>e.setMap(null)):e.setMap(null),this._updateIcon(),!0}isMarkerInClusterBounds(e){return this.bounds.contains(e.getPosition())}_calculateBounds(){const e=new google.maps.LatLngBounds(this.center,this.center);this.bounds=this.markerClusterer.getExtendedBounds(e)}_updateIcon(){const e=this.markers.length;if(this.isZoomGreaterThanMax())return void this.clusterIcon.hide();if(e<this.minClusterSize)return void this.clusterIcon.hide();const t=this.markerClusterer.getStyles().length,i=this.markerClusterer.getCalculator()(this.markers,t);this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(i),this.clusterIcon.show()}_isMarkerAlreadyAdded(e){return this.markers.includes(e)}}const ri=[53,56,66,78,90];function li(e,t){const i=e.length.toString();let n=0,s=i;for(;0!==s;)s=parseInt(s/10,10),n++;return n=Math.min(n,t),{text:i,index:n,title:""}}class ci{constructor(e,t=[],i={}){this.extend(ci,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=i.gridSize||60,this.minClusterSize=i.minimumClusterSize||2,this.maxZoom=i.maxZoom||null,this.styles=i.styles||[],this.title=i.title||"",this.zoomOnClick=void 0===i.zoomOnClick||i.zoomOnClick,this.averageCenter=Boolean(i.averageCenter)||!1,this.ignoreHidden=Boolean(i.ignoreHidden)||!1,this.enableRetinaIcons=Boolean(i.enableRetinaIcons)||!1,this.iconClass=i.iconClass||"google-cluster",this.imageSizes=i.imageSizes||ri,this.calculator=i.calculator||li,this.batchSize=i.batchSize||2e3,this.clusterClass=i.clusterClass||"cluster",this._setupStyles(),this.addMarkers(t,!0),this.setMap(e)}onAdd(){this.activeMap=this.getMap(),this.ready=!0,this.repaint(),this.listeners=[google.maps.event.addListener(this.getMap(),"zoom_changed",()=>{const e=this.getMap();this._resetViewport(!1),e.getZoom()!==(e.get("minZoom")||0)&&e.getZoom()!==e.get("maxZoom")||google.maps.event.trigger(this,"idle")}),google.maps.event.addListener(this.getMap(),"idle",()=>{this._redraw()})]}onRemove(){this.markers.filter(e=>e.getMap()!==this.activeMap).forEach(e=>{e.setMap(this.activeMap)}),this.clusters.forEach(e=>e.remove()),this.clusters=[],this.listeners.forEach(e=>google.maps.event.removeListener(e)),this.listeners=[],this.activeMap=null,this.ready=!1}_setupStyles(){this.styles.length||(this.styles=this.imageSizes.map((e,t)=>({class:`${this.iconClass} ${this.iconClass}--size-${t+1}`,height:e,width:e})))}fitMapToMarkers(){const e=this.getMarkers(),t=new google.maps.LatLngBounds;e.forEach(e=>t.extend(e.getPosition())),this.getMap().fitBounds(t)}getGridSize(){return this.gridSize}getMinimumClusterSize(){return this.minClusterSize}getMaxZoom(){return this.maxZoom}getStyles(){return this.styles}getTitle(){return this.title}getZoomOnClick(){return this.zoomOnClick}getAverageCenter(){return this.averageCenter}getEnableRetinaIcons(){return this.enableRetinaIcons}getCalculator(){return this.calculator}getClusterClass(){return this.clusterClass}getMarkers(){return this.markers}getTotalMarkers(){return this.markers.length}getClusters(){return this.clusters}getTotalClusters(){return this.clusters.length}addMarker(e,t){this._pushMarkerTo(e),t||this._redraw()}addMarkers(e,t){e.forEach(e=>this._pushMarkerTo(e)),t||this._redraw()}_pushMarkerTo(e){e.getDraggable()&&google.maps.event.addListener(e,"dragend",()=>{this.ready&&(this.isAdded=!1,this.repaint())}),e.isAdded=!1,this.markers.push(e)}removeMarker(e,t){const i=this._removeMarker(e);return!t&&i&&this.repaint(),i}removeMarkers(e,t){const i=e.reduce((e,t)=>{const i=this._removeMarker(t);return e||i},!1);return!t&&i&&this.repaint(),i}_removeMarker(e){const t=this.markers.findIndex(t=>t===e);return-1!==t&&(e.setMap(null),this.markers.splice(t,1),!0)}clearMarkers(){this._resetViewport(!0),this.markers=[]}repaint(){const e=this.clusters.slice();this.clusters=[],this._resetViewport(!1),this._redraw(),setTimeout(()=>{e.forEach(e=>e.remove())},0)}getExtendedBounds(e){const t=this.getProjection(),i=new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()),n=new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()),s=t.fromLatLngToDivPixel(i),a=t.fromLatLngToDivPixel(n);s.x+=this.gridSize,s.y-=this.gridSize,a.x-=this.gridSize,a.y+=this.gridSize;const o=t.fromDivPixelToLatLng(s),r=t.fromDivPixelToLatLng(a);return e.extend(o),e.extend(r),e}_redraw(){this._createClusters(0)}_resetViewport(e){this.clusters.forEach(e=>e.remove()),this.clusters=[],this.markers.forEach(t=>{t.isAdded=!1,e&&t.setMap(null)})}_distanceBetweenPoints(e,t){const i=(t.lat()-e.lat())*(Math.PI/180),n=(t.lng()-e.lng())*(Math.PI/180),s=Math.sin(i/2)*Math.sin(i/2)+Math.cos(e.lat()*(Math.PI/180))*Math.cos(t.lat()*(Math.PI/180))*Math.sin(n/2)*Math.sin(n/2);return 6371*(2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s)))}_isMarkerInBounds(e,t){return t.contains(e.getPosition())}_addToClosestCluster(e){let t=4e3,i=null;if(this.clusters.filter(e=>e.getCenter()).forEach(n=>{const s=this._distanceBetweenPoints(n.getCenter(),e.getPosition());s<t&&(t=s,i=n)}),i&&i.isMarkerInClusterBounds(e))i.addMarker(e);else{const t=new oi(this);t.addMarker(e),this.clusters.push(t)}}_createClusters(e){let t;if(!this.ready)return;0===e&&(google.maps.event.trigger(this,"clusteringbegin",this),void 0!==this.timerRefStatic&&(clearTimeout(this.timerRefStatic),delete this.timerRefStatic)),t=this.getMap().getZoom()>3?new google.maps.LatLngBounds(this.getMap().getBounds().getSouthWest(),this.getMap().getBounds().getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625));const i=this.getExtendedBounds(t),n=Math.min(e+this.batchSize,this.markers.length);for(let t=e;t<n;t++){const e=this.markers[t];!e.isAdded&&this._isMarkerInBounds(e,i)&&(!this.ignoreHidden||this.ignoreHidden&&e.getVisible())&&this._addToClosestCluster(e)}n<this.markers.length?this.timerRefStatic=setTimeout(()=>{this._createClusters(n)},0):(delete this.timerRefStatic,google.maps.event.trigger(this,"clusteringend",this))}extend(e,t){for(const i in t.prototype)e.prototype[i]=t.prototype[i]}}const di={[Yt]:{constructor:class extends si{constructor(){super(),this.scriptUrl="https://www.bing.com/api/maps/mapcontrol?callback={callback}&key={key}&setLang={language}",this.deepLinkUrl="https://www.bing.com/maps?rtp=~pos.{latitude}_{longitude}";const e=Object(l.a)("apply-flow.a11y.close");this.infoboxElementClass=".bing-marker",this.infoboxBorderPadding=20,this.infoboxTemplate=`<div class="bing-marker">\n            <a href="#" data-action="close" class="bing-marker__close" title="${e}"></a>\n            <div class="bing-marker__content">{content}</div>\n            </div>`}_onScriptLoaded(){Microsoft.Maps.ClusterLayer?super._onScriptLoaded():Microsoft.Maps.loadModule("Microsoft.Maps.Clustering",this._onScriptLoaded.bind(this))}createMap({element:e,center:t,zoom:i}){return new Microsoft.Maps.Map(e,{center:t,zoom:i,showLocateMeButton:!1,showMapTypeSelector:!1,disableScrollWheelZoom:!0,disableTouchInput:!0})}isProviderReady(){return"undefined"!=typeof Microsoft&&void 0!==Microsoft.Maps}createPosition({coordinates:{latitude:e,longitude:t}}){return new Microsoft.Maps.Location(e,t)}createMarker({map:e,coordinates:t,popup:i,content:n,label:s}){const a=this.createPosition({coordinates:t}),o=new Microsoft.Maps.Pushpin(a,{text:s});return Microsoft.Maps.Events.addHandler(o,"click",this.showPopup.bind(this,{map:e,popup:i,marker:o,content:n})),o}createPopup({map:e}){const t=new Microsoft.Maps.Infobox(e.getCenter(),{visible:!1});return t.setMap(e),Microsoft.Maps.Events.addHandler(t,"click",this._onPopupClick.bind(this)),t}_closePopup(e){e.setOptions({visible:!1})}_onPopupClick({target:e,originalEvent:t}){const{target:{dataset:{action:i,jobId:n}}}=t;"close"===i?(t.preventDefault(),this._closePopup(e)):n&&(t.preventDefault(),this._goToJobPreview(n))}_generatePopupContent(e){return this.infoboxTemplate.replace("{content}",e)}_getMapOffsetForPopup({map:e,marker:t}){const i=document.querySelector(this.infoboxElementClass);if(!i)return{};const n=this.infoboxBorderPadding,s=i.offsetHeight,a=i.offsetWidth/2,o=e.tryLocationToPixel(t.getLocation(),Microsoft.Maps.PixelReference.control),r=e.getWidth(),l=o.y-n-s,c=l<n?-l+n:0,d=o.x-a,u=-d+n,p=r-o.x-a;return{x:d<n?u:p>n?0:p-n,y:c}}showPopup({map:e,popup:t,marker:i,content:n}){t.setLocation(i.getLocation()),t.setOptions({htmlContent:this._generatePopupContent(n),visible:!0});const{x:s,y:a}=this._getMapOffsetForPopup({map:e,popup:t,marker:i});(s||a)&&e.setView({centerOffset:new Microsoft.Maps.Point(s,a),center:e.getCenter()})}createClusterLayer({map:e,markers:t}){const i=new Microsoft.Maps.ClusterLayer(t);return i.setOptions({gridSize:150}),Microsoft.Maps.Events.addHandler(i,"click",this._clusterClicked.bind(this,e)),e.layers.insert(i),i}updateClusterLayer({cluster:e,markers:t}){e.setPushpins(t)}_clusterClicked(e,t){if(t.target.containedPushpins){const i=t.target.containedPushpins.map(e=>e.getLocation()),n=Microsoft.Maps.LocationRect.fromLocations(i);e.setView({bounds:n,padding:100})}}setZoomLevel({map:e,zoom:t}){e.setView({zoom:t})}setCenter({map:e,coordinates:t}){e.setView({center:this.createPosition({coordinates:t})})}adjustBoundsForMultipleCoordinates({map:e,coordinates:t}){const i=t.map(e=>this.createPosition({coordinates:e})),n=Microsoft.Maps.LocationRect.fromLocations(i);e.setView({bounds:n})}clearMarkers({map:e}){e.entities.clear()}}},[Qt]:{constructor:class extends si{constructor(){super(),this.scriptUrl="https://maps.googleapis.com/maps/api/js?key={key}&callback={callback}&language={language}",this.deepLinkUrl="https://www.google.com/maps/dir/?api=1&destination={latitude},{longitude}"}createMap({element:e,center:t,zoom:i}){return new google.maps.Map(e,{center:t,zoom:i,disableDefaultUI:!0,zoomControl:!0,keyboardShortcuts:!0})}isProviderReady(){return"undefined"!=typeof google&&void 0!==google.maps}createPosition({coordinates:{latitude:e,longitude:t}}){return new google.maps.LatLng(e,t)}createMarker({map:e,coordinates:t,popup:i,content:n,label:s}){const a=this.createPosition({coordinates:t}),o={url:"data:image/png;base64,"+(s?"iVBORw0KGgoAAAANSUhEUgAAABsAAAArCAMAAAC+cAPKAAAAt1BMVEUAAAD/+vn+9PP4t7L++Pf/+fn//v71opv0nZb+8/H+7+797Ov839z6y8f+9/f70c7+8/L/9PT/8/P99vb//////////////////////////f30lIz2qKL61tP+9/b85OL+9fT/9vb+8vL+8/L+9PT+9vX98/P99/X/+/v////////////////////////qQzXsVUjqSDruZlrrUUTyjobwf3XvdGruaF3qRDfyj4fxg3nubWLsXFCPwDevAAAAL3RSTlMA99v284Nj/fz19PTz8/DwyLCsjlRTKBgRDPv7+fTz8Onl0r+2q6SXeGhKRDwzIQVM9JgAAAE9SURBVDjLddHXsoIwFIXhFUDsFaTYe9eEomB5/+c6yBGlJP/tN7Nn1mwk2XpPag1aUk+3kc3SSNsPmMMCv000K019RWY0iclK/0elmkvTubXSlxoezeY1PtivRZTHWnzWUlxazFUsAJpMeckaYBPGNUZs6G3Kr62j5wvM70EKBBZIaDGBsRYGjsCcAWYvgb1m6NwEdutgWxFYZYtzXWD1MyDd+CclAOqYa2MVUfMrh65zvDvUneK4+gFxq1HBRiv8Zypu4bMmPqmNnDVUfOsMMzTs4NdlwlLEJhek2jVT1twhk3T9TZOQ7VR1kmnVE3J1k39UushnEC8mjxgo1C3HVu6imFENIwqrBjgtH5E9luClNt/bVK6ZJKQhMcFt8aTPBfht7vS+EVipTMslge1lKu8Fdpyy6RGC1mSNVH8bz3g4ciL/BQAAAABJRU5ErkJggg==":"iVBORw0KGgoAAAANSUhEUgAAABsAAAArCAMAAAC+cAPKAAAAxlBMVEUAAAD/+fn++Pf4t7L+8O/+9vb+8/L/+fn1opv0nZb97Ov839z70c7+8/L/9PT/8/P99vb//v7//////////////////////////////fz6zMj0lIz2qKL61tP85OL+9fT/9vb+9vX+8vL+8/L+9PT+9vX98/P99/X/+/v//////v7////////////5ycXqQzWBFBHsU0e5LSSWHRjuZlrqSDryjobwf3XvdGruaF2bHxrsV0ryj4fxg3nubWLsXFDrT0LqSTwscuveAAAAL3RSTlMA9/P29fLcg/389PPwyLCsjmJUU0coGBEM+vP7+fTw6eXb0r+2q6SXeGhkPDMh87r0ZmwAAAFXSURBVDjLddHXsoIwFIXhFZq9K2LvXU9AimD3/V/qKBIFCd9d5p/MzgYwWrWkyC1ZKVU1RDXLJO94hm14Tp6UmwipCaJBGUMUavhISRYNs6TUJ+UMGmXkgliTWApFqeY/Q7BonCU0AZRFyiOWAY0Y3GYQDdU8Zfambu4pk6+i5LDDUX85sqNTguKxW/obu+kpkNk4M2gmGyijZdM3nQnOdguDW8K92wAFN2GeW8Aik/DOzALbbMJ+2S2guJTHVQCse9zWW+NpeOCkwxAv9awdS3a2Dt+0G2vdKd5UwYr9WRWBSu6n5Sr4KHQiqVPA1044hdJJ2CFk2Q619hIRo8N3tRGiNtIjSA9pgx/FDPv+RfxqkLuf7qSBmGLab+ki4hqy3+QGOCaXZ7pMwFP5e+1WAY9Kno2o4Bpf6XUMvvmZnufgS6VpOgW+lUjFFfjq/VO/jgQzMkPIPwDHeSPftAM3AAAAAElFTkSuQmCC"),size:new google.maps.Size(27,43),scaledSize:new google.maps.Size(27,43),labelOrigin:new google.maps.Point(14,15)},r=new google.maps.Marker({position:a,map:e,label:s,icon:o});return google.maps.event.addListener(r,"click",this.showPopup.bind(this,{map:e,marker:r,popup:i,content:n})),r}createPopup(){return new google.maps.InfoWindow}_onPopupClick(e){const{dataset:{jobId:t}}=e.target;t&&(e.preventDefault(),this._goToJobPreview(t))}_generatePopupContent(e){const t=document.createElement("div");return t.innerHTML=e,t.onclick=this._onPopupClick.bind(this),t}showPopup({map:e,marker:t,popup:i,content:n}){const s=this._generatePopupContent(n);i.setContent(s),i.open(e,t)}createClusterLayer({map:e,markers:t}){return new ci(e,t)}updateClusterLayer({cluster:e,markers:t}){e.clearMarkers(),e.addMarkers(t)}setZoomLevel({map:e,zoom:t}){e.setZoom(t)}setCenter({map:e,coordinates:t}){e.setCenter(this.createPosition({coordinates:t}))}adjustBoundsForMultipleCoordinates({map:e,coordinates:t}){const i=new google.maps.LatLngBounds;t.map(e=>this.createPosition({coordinates:e})).forEach(e=>i.extend(e)),e.fitBounds(i)}clearMarkers({markers:e}){e.filter(({marker:e})=>e).forEach(({marker:e})=>e.setMap(null))}}}};function ui(e){const{providerName:t}=c.a.getSettingByKey(ni.b)||{},i=di[e||t];return i?(i.instance||(i.instance=new i.constructor),i.instance):null}n.bindingHandlers.map={init(e,t){const{markers:i}=t(),n=ui();if(n&&i&&i.length){const t=new ii(n,e);t.showMap(),t.addMarkers(i),t.adjustBounds()}}};var pi=i(28);var hi=new class{constructor(){this.notifications=Object(n.observableArray)([]),this.showNotifications=Object(n.pureComputed)(()=>this.notifications().length>0)}push({type:e,message:t,delay:i=1500,autodismiss:s=!0}){setTimeout(()=>{const[i]=this.notifications().filter(i=>t===i.text&&e===i.type);if(i)return;const a={className:Object(n.observable)("cx-notifications__item--"+e),text:t,type:e};this.notifications.push(a),s&&setTimeout(()=>{this.remove(a)},1e4)},i)}remove(e){e.className(e.className()+" cx-notifications__item--dismiss"),setTimeout(()=>{this.notifications.remove(e)},400)}removeAll(){this.notifications().forEach(e=>this.remove(e))}};const mi=`${Object(l.a)("general.error-message-header")} ${Object(l.a)("general.error-message-hint")}`;var bi={success(e,t){hi.push({type:"success",message:e,delay:t})},error(e=mi,t,i){hi.push({type:"error",message:e,delay:t,autodismiss:i})},successAfterLoaded(e,t){Bt.a.loaded.addOnce(()=>this.success(e,t))},errorAfterLoaded(e,t){Bt.a.loaded.addOnce(()=>this.error(e,t))},dismissAll(){hi.removeAll()}};pi.a.error.add(()=>{const e=`${Object(l.a)("general.error-message-header")} ${Object(l.a)("general.error-message-hint")}`;bi.error(e,0)}),pi.a.cookiesDisabledError.add(()=>{const e=Object(l.a)("general.cookies.disabled-message");bi.error(e,0)});n.components.register("skip-navigation-link",{viewModel:class{constructor({classLink:e,ariaHidden:t=!0}){this.classLink=e||"main-skip",this.ariaHidden=t}},template:'<a\n    class="skip-navigation-link"\n    href="#"\n    data-bind="i18n: \'general.a11y.skip-navigation-link\', css: classLink,\nattr: { \'aria-hidden\': ariaHidden }"\n></a>\n'});s.a.bindingHandlers.bodyScrolledDown={init(){const e=document.body;document.addEventListener("scroll",(function(){(window.scrollY||window.pageYOffset)>50?e.classList.add("body--scrolled-down"):e.classList.remove("body--scrolled-down")}),{passive:!0})}};s.a.bindingHandlers.loadingIndicator={init(e){Bt.a.loaded.add(()=>{s.a.utils.toggleDomNodeCssClass(e,"app-loaded",!0)}),Bt.a.loading.add(()=>{s.a.utils.toggleDomNodeCssClass(e,"app-loaded",!1)})}};const fi={x:wi().x,y:wi().y};let gi=0,vi=0,_i=window.devicePixelRatio;function yi(e){gi=-.03*(e.clientX-fi.x),vi=-.03*(e.clientY-fi.y)}function xi(){const e=window.devicePixelRatio;e!==_i&&(_i=e,fi.x=wi().x,fi.y=wi().y)}function wi(){return{x:parseInt(document.body.clientWidth/2,10),y:parseInt(document.body.clientHeight/2,10)}}s.a.bindingHandlers.mouseParalax={init(e){let t=gi,i=vi,n=!0;Ct.hasPointingDevice&&(document.body.addEventListener("mousemove",yi),window.addEventListener("resize",xi),s.a.utils.domNodeDisposal.addDisposeCallback(e,()=>{n=!1,document.body.removeEventListener("mousemove",yi),window.removeEventListener("resize",xi)}),function s(){t=gi-.93*(gi-t),i=vi-.93*(vi-i),Math.abs(t-gi)+Math.abs(i-vi)>.1&&(e.style.transform=`translate3d(${t}px, ${i}px, 0)`),n&&window.requestAnimationFrame(s)}())}};var ki={mapCookiesToConfig:e=>({cookieMessageEnabled:e.isCookieConsentEnabled,popUpMessage:e.cookiePopupMessage,policyMessage:e.cookiePolicy,acceptButtonLabel:e.acceptButtonLabel,declineButtonEnabled:e.isDeclineButtonEnabled,declineButtonLabel:e.declineButtonLabel}),mapCookiesFromConfig:e=>({isCookieConsentEnabled:e.cookieMessageEnabled,cookiePopupMessage:e.popUpMessage,cookiePolicy:e.policyMessage,acceptButtonLabel:e.acceptButtonLabel,isDeclineButtonEnabled:e.declineButtonEnabled,declineButtonLabel:e.declineButtonLabel})},Ii=i(67);n.components.register("cookie-consent",{viewModel:class{constructor(){this.isPolicyDialogOpened=s.a.observable(!1),this.config=o.a.fromJS(ki.mapCookiesFromConfig(c.a.cookieConsent||{})),this.isCookiesBarVisible=s.a.observable(this._getCookiesBarVisibility())}openDetails(){this.isPolicyDialogOpened(!0)}accept(){this.isPolicyDialogOpened(!1),this.isCookiesBarVisible(!1),Ii.a.accept()}decline(){this.isPolicyDialogOpened(!1),this.isCookiesBarVisible(!1),Ii.a.decline()}_getCookiesBarVisibility(){return!!this.config.isCookieConsentEnabled()&&!Ii.a.hasUserAgreed()}},template:'\x3c!-- ko if: config.isCookieConsentEnabled --\x3e\n\n\x3c!-- ko if: isCookiesBarVisible --\x3e\n<div class="cookie-consent font-family-primary theme-color-1">\n    <div\n        class="cookie-consent__content"\n        data-bind="a11y.setInitialFocus:{ isVisible: isCookiesBarVisible, onInit: true, focusOn: \'.cookie-consent__abstract\' }"\n    >\n        <div class="cookie-consent__pulse"></div>\n        <div class="cookie-consent__pulse"></div>\n        <div class="cookie-consent__pulse"></div>\n\n        <div class="cookie-consent__abstract" tabindex="-1" role="dialog">\n            <span\n                class="cookie-consent__abstract-message text-color-primary"\n                data-bind="text: config.cookiePopupMessage"\n                role="dialog"\n                tabindex="0"\n            ></span>\n\n            <button\n                class="cookie-consent__read-more theme-color-1"\n                tabindex="0"\n                data-bind="click: openDetails, i18n: \'cookie-consent.learn-more\'"\n            ></button>\n        </div>\n\n        <div class="cookie-consent__actions text-color-primary">\n            <button\n                class="button cookie-consent__button"\n                data-bind="a11y.setFocusOnClick: { focusOn: \'.search-box-compact__field input\'},\n                click: accept, text: config.acceptButtonLabel"\n            ></button>\n\n            \x3c!-- ko if: config.isDeclineButtonEnabled --\x3e\n            <button\n                class="button cookie-consent__button"\n                data-bind="a11y.setFocusOnClick: { focusOn: \'.search-box-compact__field input\'},\n                click: decline, text: config.declineButtonLabel"\n            ></button>\n            \x3c!-- /ko --\x3e\n        </div>\n    </div>\n</div>\n\x3c!-- /ko --\x3e\n\n<minimal-dialog params="isVisible: isPolicyDialogOpened">\n    <dialog-body>\n        <div class="app-dialog__header">\n            <h1 class="heading" data-bind="i18n: \'cookie-consent.cookies-policy\'"></h1>\n        </div>\n\n        <div class="app-dialog__content" data-bind="html: config.cookiePolicy"></div>\n\n        <div class="app-dialog__footer">\n            <div class="app-dialog__buttons-bar font-family-secondary text-color-primary">\n                \x3c!-- ko if: config.isDeclineButtonEnabled --\x3e\n                <button class="button app-dialog__footer-button" data-bind="click: decline">\n                    <span class="button__label" data-bind="text: config.declineButtonLabel"></span>\n                </button>\n                \x3c!-- /ko --\x3e\n\n                <button class="button app-dialog__footer-button" data-bind="click: accept">\n                    <span class="button__label" data-bind="text: config.acceptButtonLabel"></span>\n                </button>\n            </div>\n        </div>\n    </dialog-body>\n</minimal-dialog>\n\n\x3c!-- /ko --\x3e\n'});var Ci=function(){this.enabled=s.a.observable(2===c.a.headerMode||4===c.a.headerMode),this.customHtml=s.a.observable(!1),c.a.theme&&this.customHtml(c.a.theme.brand.headerHtml),At.customHeaderUpdated.add((e,t)=>{this.enabled(e),this.customHtml(t),At.customHeaderHtmlUpdated.dispatch()})};n.components.register("custom-header",{viewModel:Ci,template:'\x3c!-- ko if: enabled --\x3e\n<header id="custom-header-container" class="app__custom-header">\n    \x3c!-- ko if: customHtml() !== false --\x3e\n    <div data-bind="html: customHtml"></div>\n    \x3c!-- /ko --\x3e\n\n    \x3c!-- ko if: customHtml() === false --\x3e\n    <div data-bind="template: { name: \'custom-header\' }"></div>\n    \x3c!-- /ko --\x3e\n</header>\n\x3c!-- /ko --\x3e\n'});n.components.register("custom-footer",{viewModel:class{constructor(){const{footerMode:e}=c.a;this.customFooterEnable=Object(n.observable)(2===e||4===e),this.customFooterContent=Object(n.observable)(!1),this._themeEditorEvent=At.customFooterUpdated.add((e,t)=>{this.customFooterEnable(e),this.customFooterContent(t)}),c.a.theme&&this.customFooterContent(c.a.theme.brand.footerHtml)}dispose(){this._themeEditorEvent.detach()}},template:'<footer class="app__custom-footer">\n    \x3c!-- ko if: customFooterEnable --\x3e\n\n    \x3c!-- ko if: customFooterContent() !== false --\x3e\n    <div data-bind="html: customFooterContent"></div>\n    \x3c!-- /ko --\x3e\n\n    \x3c!-- ko if: customFooterContent() === false --\x3e\n    <div data-bind="template: { name: \'custom-footer\' }"></div>\n    \x3c!-- /ko --\x3e\n\n    \x3c!-- /ko --\x3e\n</footer>\n'});var Si={LINKS_LIMIT:5,SUBLINKS_LIMIT:3,MOBILE_LINKS_LIMIT:5};function Ei(e){let t=e.url;return e.url&&"http"!==e.url.substring(0,4)&&(t=m.b.interpolate({lang:c.a.siteLang},"cc-page",{pageCode:e.url,pageTitle:e.text})),{text:e.text,url:t,visibleOnMobile:e.visibleOnMobile,name:e.name}}function Oi(e){const t=[];return e.forEach(e=>{const i=[];e.sublinks.forEach(e=>{i.push(Ei(e))});const n=Ei(e);Object.defineProperty(n,"sublinks",{value:i}),t.push(n)}),t}var Ai={getHeaderPageLinks:()=>Oi(c.a.links.header),getFooterPageLinks:()=>Oi(c.a.links.footer)};n.components.register("app-footer",{viewModel:class{constructor(){const{footerMode:e}=c.a;this.footerEnable=Object(n.observable)(1===e||4===e),this.footerLinks=Object(n.observableArray)(Ai.getFooterPageLinks()),this.footerMobileLinks=Object(n.pureComputed)(this._computeMobileLinks,this),this.addThisInlineFollow=Object(n.observable)(c.a.getSettingByKey("ADDTHIS_INLINE_FOLLOW_CODE")),this._themeEditorEvent=At.templateFooterUpdated.add(e=>{this.footerEnable(e)})}dispose(){this._themeEditorEvent.detach()}_computeMobileLinks(){const e=[],t=i=>{i.visibleOnMobile&&e.push(i),i.sublinks&&i.sublinks.forEach(t)};return this.footerLinks().forEach(t),e.slice(0,Si.MOBILE_LINKS_LIMIT)}},template:'\x3c!-- ko if: footerEnable --\x3e\n\n<div class="app-footer">\n    \x3c!-- ko if: footerMobileLinks().length --\x3e\n    <div class="app-footer__links app-footer__links--mobile">\n        <ul class="footer-links">\n            \x3c!-- ko foreach: { data: footerMobileLinks, as: \'link\' } --\x3e\n            <li class="footer-links__item">\n                <a class="footer-links__link" data-bind="text: link.text, attr: { href: link.url }"></a>\n            </li>\n            \x3c!-- /ko --\x3e\n        </ul>\n    </div>\n    \x3c!-- /ko --\x3e\n\n    \x3c!-- ko if: footerLinks().length --\x3e\n    <div class="app-footer__links app-footer__links--desktop">\n        <ul class="footer-links">\n            \x3c!-- ko foreach: footerLinks --\x3e\n            <li class="footer-links__item">\n                <a class="footer-links__link" data-bind="text: text, attr: { href: url }"></a>\n\n                \x3c!-- ko if: sublinks.length --\x3e\n                <div class="footer-links__subsection">\n                    <div class="footer-links__subsection-line"></div>\n\n                    <ul class="footer-links__sublist">\n                        \x3c!-- ko foreach: sublinks --\x3e\n                        <li class="footer-links__sublink">\n                            <a data-bind="text: text, attr: { href: url }"></a>\n                        </li>\n                        \x3c!-- /ko --\x3e\n                    </ul>\n                </div>\n\n                <div class="context-menu footer-links__popup background-color-dropdown text-color-primary">\n                    <ul class="context-menu__list">\n                        \x3c!-- ko foreach: sublinks --\x3e\n                        <li class="context-menu__item">\n                            <a class="context-menu__link" data-bind="text: text, attr: { href: url }"></a>\n                        </li>\n                        \x3c!-- /ko --\x3e\n                    </ul>\n                </div>\n\n                \x3c!-- /ko --\x3e\n            </li>\n            \x3c!-- /ko --\x3e\n        </ul>\n    </div>\n    \x3c!-- /ko --\x3e\n\n    \x3c!-- ko if: addThisInlineFollow --\x3e\n    <div class="app-footer__social">\n        <add-this-inline-tool params="inlineToolCode: addThisInlineFollow"></add-this-inline-tool>\n    </div>\n    \x3c!-- /ko --\x3e\n</div>\n\n\x3c!-- /ko --\x3e\n'});n.components.register("home-page",{viewModel:class{constructor(){const{template:{welcomeText:e}}=c.a;this.welcomeText=s.a.observable(e),At.welcomeTextUpdated.add(e=>this.welcomeText(e))}},template:'<h1 class="home-page__heading font-family-secondary theme-color-1" data-bind="text: welcomeText"></h1>\n\n<search-box-compact></search-box-compact>\n<search-categories></search-categories>\n'});const Pi=["playsinline"];function Ti(e,t){return Object.keys(t).forEach(i=>{const s=Object(n.unwrap)(t[i]);if(e[i]=s,"autoplay"===i&&!0===s&&(e.muted=!0,e.autoplay=!0),-1!==Pi.indexOf(i)){const t=!0===s?"":s;e.setAttribute(i,t)}}),e}function ji(e){const t=document.createElement("video");return e.unsupportedMessage&&t.appendChild(function(){const e=document.createElement("span");return e.textContent=Object(l.a)("general.unsupported-browser.title"),e}()),Ti(t,e.attributes)}n.bindingHandlers.videoCreator={update(e,t){const i=t(),n=e.querySelector("video");if(n)Ti(n,i.attributes);else{const t=ji(i);e.appendChild(t)}}};n.components.register("cc-video-background",{viewModel:class{constructor({videoUrl:e,videoWrapper:t,isFullscreen:i}){this.videoUrl=e,this.videoWrapper=t,this.isFullscreen=i}},template:"\x3c!-- ko if: videoUrl --\x3e\n<div\n    data-bind=\"css: {\n                    'video-background-wrapper': videoWrapper || isFullscreen,\n                    'video-background-wrapper--fullscreen': isFullscreen\n                },\n                videoCreator: {\n                    attributes: {\n                        src: videoUrl,\n                        muted: true,\n                        autoplay: true,\n                        loop: true,\n                        playsinline: true,\n                        className: 'video-background'\n                    }\n                }\"\n></div>\n\x3c!-- /ko --\x3e\n"});const Ri={display:"boxed",videoUrl:""};class Fi{constructor(e={}){this.title=e.title||"",this.sections=e.sections||[],this.params=Object.assign({},Ri,e.params)}}const Di="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var Li={encode(e){if(!e)return null;let t="";const i=[],n=[];let s=0;const a=function(e){const t=e.replace(/\r\n/g,"\n");let i="";for(let e=0;e<t.length;e++){const n=t.charCodeAt(e);n<128?i+=String.fromCharCode(n):n>127&&n<2048?(i+=String.fromCharCode(n>>6|192),i+=String.fromCharCode(63&n|128)):(i+=String.fromCharCode(n>>12|224),i+=String.fromCharCode(n>>6&63|128),i+=String.fromCharCode(63&n|128))}return i}(e);for(;s<a.length;)i[0]=a.charCodeAt(s++),i[1]=a.charCodeAt(s++),i[2]=a.charCodeAt(s++),n[0]=i[0]>>2,n[1]=(3&i[0])<<4|i[1]>>4,n[2]=(15&i[1])<<2|i[2]>>6,n[3]=63&i[2],isNaN(i[1])?(n[2]=64,n[3]=64):isNaN(i[2])&&(n[3]=64),t+=n.reduce((e,t)=>e+Di.charAt(t),"");return t},decode(e){if(!e)return null;let t="";const i=[],n=[];let s=0;const a=e.replace(/[^A-Za-z0-9+/=]/g,"");for(;s<a.length;)n[0]=Di.indexOf(a.charAt(s++)),n[1]=Di.indexOf(a.charAt(s++)),n[2]=Di.indexOf(a.charAt(s++)),n[3]=Di.indexOf(a.charAt(s++)),i[0]=n[0]<<2|n[1]>>4,i[1]=(15&n[1])<<4|n[2]>>2,i[2]=(3&n[2])<<6|n[3],t+=String.fromCharCode(i[0]),64!==n[2]&&(t+=String.fromCharCode(i[1])),64!==n[3]&&(t+=String.fromCharCode(i[2]));return function(e){let t="";const i=[0,0,0];let n=0;for(;n<e.length;)i[0]=e.charCodeAt(n),i[0]<128?(t+=String.fromCharCode(i[0]),n++):i[0]>191&&i[0]<224?(i[1]=e.charCodeAt(n+1),t+=String.fromCharCode((31&i[0])<<6|63&i[1]),n+=2):(i[1]=e.charCodeAt(n+1),i[2]=e.charCodeAt(n+2),t+=String.fromCharCode((15&i[0])<<12|(63&i[1])<<6|63&i[2]),n+=3);return t}(t)}};function Ni(e){return parseInt(e.elementOrder,10)}function Mi(e,t){return Ni(e)-Ni(t)}var Vi={sort:e=>e.sort(Mi)};const Bi=e=>{throw new Error("Not reachable state appeared: "+e)},qi=e=>"false"===e||"true"===e?"true"===e:e,Ui={borderRadius:null,borderWidth:null,backgroundColor:null,borderColor:null,iconColorLight:null,iconColorDark:null},Hi={cssClass:null,cssId:null,additionalOptionsUnit:"px",margin:null,marginTop:null,marginBottom:null,marginLeft:null,marginRight:null,padding:null,paddingTop:null,paddingBottom:null,paddingLeft:null,paddingRight:null},$i={fontFamily:null,fontSize:null,fontWeight:null,fontStyle:null,color:null},Ji=e=>{if(!e)return Hi;const t=JSON.parse(e);return{cssClass:t.cssClass||null,cssId:t.cssId||null,additionalOptionsUnit:t.additionalOptionsUnit||"px",margin:t.margin||null,marginTop:t.marginTop||null,marginBottom:t.marginBottom||null,marginLeft:t.marginLeft||null,marginRight:t.marginRight||null,padding:t.padding||null,paddingTop:t.paddingTop||null,paddingBottom:t.paddingBottom||null,paddingLeft:t.paddingLeft||null,paddingRight:t.paddingRight||null}};var zi=(e=[])=>e.reduce((e,t)=>{const{paramKey:i,paramValue:n}=t;switch(i){case"commonParams":return{...e,[i]:Ji(n)};case"margin":const t=n?(e=>{const[t,i,n,s]=e.split(" ");return{marginTop:t,marginRight:i,marginBottom:n,marginLeft:s}})(n):{};return{...e,...t,[i]:n};case"padding":const s=n?(e=>{const[t,i,n,s]=e.split(" ");return{paddingTop:t,paddingRight:i,paddingBottom:n,paddingLeft:s}})(n):{};return{...e,...s,[i]:n};default:return{...e,[i]:n?qi(n):null}}},{});const Wi={jobDisplayStyle:"list",width:1e3,widthUnit:"px",numberOfJobsDisplayed:25,hideMap:!1,hideTalentCommunitySignup:!1,displayAfterJobs:5,enableInfiniteScroll:!0,additionalInformationDisplayed:["description","location","postingDate","distance"]},Ki={contentParams:Wi,headerTypography:$i,headerTypographyOnHover:$i,subHeaderTypography:$i,subHeaderTypographyOnHover:$i,descriptionTypography:$i,tileStyles:Ui,tileStylesOnHover:Ui,tileHeaderStyles:Ui,tileHeaderStylesOnHover:Ui,commonParams:Hi},Gi={...Ki,headerTypographyOnHover:{...Ki.headerTypographyOnHover,color:"#fff"},subHeaderTypographyOnHover:{...Ki.subHeaderTypographyOnHover,color:"#fff"},tileHeaderStylesOnHover:{...Ki.tileHeaderStylesOnHover,backgroundColor:"#21699f"},tileStylesOnHover:{...Ki.tileStylesOnHover,backgroundColor:"#fff",borderColor:"transparent",iconColorLight:"var(--color-theme-1)"}},Yi=e=>{if(!e)return $i;const t=JSON.parse(e);return{color:t.color||null,fontFamily:t.fontFamily||null,fontSize:t.fontSize||null,fontStyle:t.fontStyle||null,fontWeight:t.fontWeight||null}},Qi=e=>{if(!e)return Ui;const t=JSON.parse(e);return{backgroundColor:t.backgroundColor||null,borderColor:t.borderColor||null,borderRadius:t.borderRadius||null,borderWidth:t.borderWidth||null,iconColorDark:t.iconColorDark||null,iconColorLight:t.iconColorLight||null}},Zi=e=>{if(!e)return Wi;const t=JSON.parse(e);return{additionalInformationDisplayed:t.additionalInformationDisplayed||Wi.additionalInformationDisplayed,displayAfterJobs:t.displayAfterJobs?parseInt(String(t.displayAfterJobs)):Wi.displayAfterJobs,enableInfiniteScroll:void 0===t.enableInfiniteScroll||null===t.enableInfiniteScroll?Wi.enableInfiniteScroll:Boolean(t.enableInfiniteScroll),hideMap:void 0===t.hideMap||null===t.hideMap?Wi.hideMap:Boolean(t.hideMap),hideTalentCommunitySignup:void 0===t.hideTalentCommunitySignup||null===t.hideTalentCommunitySignup?Wi.hideTalentCommunitySignup:Boolean(t.hideTalentCommunitySignup),jobDisplayStyle:t.jobDisplayStyle||Wi.jobDisplayStyle,numberOfJobsDisplayed:t.numberOfJobsDisplayed?parseInt(String(t.numberOfJobsDisplayed)):Wi.numberOfJobsDisplayed,width:t.width?parseInt(String(t.width)):Wi.width,widthUnit:t.widthUnit||Wi.widthUnit}},Xi={ruleColor:null,displayHorizontalRule:!1},en={filtersDisplayStyle:"horizontal",width:100,widthUnit:"%"},tn={contentParams:en,headerTypography:$i,subHeaderTypography:$i,subHeaderTypographySelected:$i,filtersTypography:$i,filtersTypographySelected:$i,clearFiltersTypography:$i,showHideFiltersTypography:$i,filterPillsTypography:$i,filterStyles:Ui,headerStyles:Xi,subHeaderStyles:Xi,filterStylesOnHover:Ui,filterPillStyles:Ui,commonParams:Hi},nn={...tn,subHeaderTypographySelected:{...tn.subHeaderTypographySelected,fontWeight:"normal",fontStyle:"normal",color:"#212121"},filtersTypographySelected:{...tn.filtersTypographySelected,fontWeight:"bold",fontStyle:"normal",color:"#212121"},filterStylesOnHover:{...tn.filterStylesOnHover,backgroundColor:"#fff",iconColorLight:"var(--color-theme-1)"}},sn=e=>{if(!e)return en;const t=JSON.parse(e);return{filtersDisplayStyle:t.filtersDisplayStyle||en.filtersDisplayStyle,width:t.width?parseInt(String(t.width)):en.width,widthUnit:t.widthUnit||en.widthUnit}},an={widthUnit:"px",heightUnit:"px",width:800,height:90,searchBarSticky:!1},on={searchBarContent:an,searchValuesTypography:$i,searchValuesTypographySelected:$i,headerTypography:$i,dropdownValuesTypography:$i,commonParams:Hi,searchButtonStyle:Ui,buttonHoverStyle:Ui,overallStyle:Ui,separators:Ui},rn={...on,searchValuesTypographySelected:{...on.searchValuesTypographySelected,fontWeight:"normal",fontStyle:"normal",color:"var(--color-primary)"},buttonHoverStyle:{...on.buttonHoverStyle,iconColorLight:"var(--color-theme-1)",backgroundColor:"transparent"}},ln=e=>{if(!e)return an;const t=JSON.parse(e);return{searchBarSticky:void 0===t.searchBarSticky||null===t.searchBarSticky?an.searchBarSticky:Boolean(t.searchBarSticky),width:t.width?parseInt(String(t.width)):an.width,widthUnit:t.widthUnit||an.widthUnit,heightUnit:t.heightUnit||an.heightUnit,height:t.height?parseInt(String(t.height)):an.height}},cn=e=>{const t=e.componentParams.find(e=>"type"===e.paramKey);if(!t)return console.error("Type of component wasn't identified on params mapping: "+JSON.stringify(e)),zi(e.componentParams);const i=t.paramValue;switch(i){case"cc-rule":case"cc-headline":case"cc-paragraph":case"cc-image":case"cc-video":case"cc-button":case"cc-space":case"cc-job-list":case"cc-custom-html":case"cc-talent-community-button":case"cc-linkedin-connections-widget":case"cc-minimal-search-categories":case"cc-minimal-scroll-indicator":case"cc-splash-classic-search":case"cc-splash-mohegan-view-all-jobs":case"cc-minimal-search-box-compact":return zi(e.componentParams);case"cc-search-bar":return e.componentParams.reduce((e,{paramKey:t,paramValue:i})=>{const n=t;switch(n){case"searchBarContent":return{...e,[t]:ln(i)};case"commonParams":return{...e,[t]:Ji(i)};case"headerTypography":case"searchValuesTypography":case"searchValuesTypographySelected":case"dropdownValuesTypography":return{...e,[t]:Yi(i)};case"searchButtonStyle":case"buttonHoverStyle":case"overallStyle":case"separators":return{...e,[t]:Qi(i)};case"type":return{...e,[t]:i};default:return Bi(n)}},{...on});case"cc-search-filters-panel":return(e=>e.reduce((e,{paramKey:t,paramValue:i})=>{const n=t;switch(n){case"contentParams":return{...e,[t]:sn(i)};case"commonParams":return{...e,[t]:Ji(i)};case"headerTypography":case"subHeaderTypography":case"subHeaderTypographySelected":case"filtersTypography":case"filtersTypographySelected":case"clearFiltersTypography":case"showHideFiltersTypography":case"filterPillsTypography":return{...e,[t]:Yi(i)};case"filterStyles":case"filterStylesOnHover":case"filterPillStyles":return{...e,[t]:Qi(i)};case"headerStyles":case"subHeaderStyles":return{...e,[t]:i?JSON.parse(i):null};case"type":return{...e,[t]:i};default:return Bi(n)}},{...tn}))(e.componentParams);case"cc-search-results":return(e=>e.reduce((e,{paramKey:t,paramValue:i})=>{const n=t;switch(n){case"contentParams":return{...e,[t]:Zi(i)};case"commonParams":return{...e,[t]:Ji(i)};case"headerTypography":case"headerTypographyOnHover":case"subHeaderTypography":case"subHeaderTypographyOnHover":case"descriptionTypography":return{...e,[t]:Yi(i)};case"tileStyles":case"tileStylesOnHover":case"tileHeaderStyles":case"tileHeaderStylesOnHover":return{...e,[t]:Qi(i)};case"type":return{...e,[t]:i};default:return Bi(n)}},{...Ki}))(e.componentParams);default:return Bi(i)}};function dn(e){return e.forEach(e=>{delete e.elementId}),e}var un={mapComponentsFromRest(e,t){if(!e||!e.length)return[];return Vi.sort(e).map(e=>this.mapComponentFromRest(e,t))},mapComponentFromRest(e,t){var i;const n=e.componentContent||e.content;return t.create({elementNumber:e.elementNumber,content:Li.decode(n),order:e.elementOrder,params:cn(e),translations:dn(null!==(i=e.componentTranslations)&&void 0!==i?i:[])})}};class pn{constructor(e){this.id=e.id,this.params=o.a.fromJS(e.params),this.order=Object(n.observable)(e.order)}get type(){return this.params.type().toLowerCase()}}const hn={"cc-headline":{},"cc-paragraph":{},"cc-rule":{width:1,align:"left",backgroundColor:"rgba(255, 255, 255, 0)",lineColor:"rgb(255, 0, 0)"},"cc-image":{desktopSrc:"",mobileSrc:"",desktopWidth:"",desktopAlt:"",mobileWidth:"",mobileAlt:"",align:"left",useDesktopSrcAsMobile:!0,linkUrl:"",openInNewTab:!0},"cc-space":{height:50},"cc-button":{buttonType:"button",buttonStyle:"primary",trackClicks:!1,destination:"external",externalURL:null,openInNewTab:!0,backgroundColor:null,align:"center"},"cc-video":{src:"",width:"",aspectRatio:"16:9",autoplay:!1,align:"left"},"cc-job-list":{criteria:JSON.stringify([]),limit:3,jobListType:"custom-criteria",template:"title-and-description",viewMoreLabel:Object(l.a)("custom-content.job-list-view-more")},"cc-talent-community-button":{label:Object(l.a)("custom-content.cc-talent-community-button-default-label"),align:"center"},"cc-linkedin-connections-widget":{},"cc-minimal-search-box-compact":{backgroundColor:"rgba(255, 255, 255, 0)",foregroundColor:"rgba(94, 113, 125, 0.5)",fontColor:"rgb(34, 34, 34)"},"cc-search-results":Ki,"cc-search-filters-panel":tn,"cc-search-bar":on},mn={cssId:"",cssClass:"",paddingTop:"",paddingRight:"",paddingBottom:"",paddingLeft:"",marginTop:"",marginRight:"",marginBottom:"",marginLeft:"",additionalOptionsUnit:"px"};Object.keys(hn).forEach(e=>{switch(e){case"cc-search-results":case"cc-search-filters-panel":case"cc-search-bar":break;default:Object.assign(hn[e],mn)}});const bn=Object.assign({},hn,{"cc-section":{column:"",backgroundColor:"rgba(255, 255, 255, 0)",backgroundImage:"",backgroundVideo:"",backgroundParallax:!1},"cc-row":{columnLayout:"1"},"cc-column":{backgroundColor:"rgba(255, 255, 255, 0)",backgroundImage:"",backgroundVideo:"",backgroundParallax:!1},"cc-custom-html":{paddingTop:"",paddingRight:"",paddingBottom:"",paddingLeft:"",marginTop:"",marginRight:"",marginBottom:"",marginLeft:"",additionalOptionsUnit:"px"}});var fn={create:e=>bn[e]||{}};const gn={"cc-section":{model:class extends pn{constructor(e){super(e),this.components=e.components,this.rows=e.rows}}},"cc-row":{model:class extends pn{constructor(e){super(e),this.columns=e.columns}}},"cc-column":{model:class extends pn{constructor(e){super(e),this.components=e.components,this.size=Object(n.observable)()}}},default:{model:class extends pn{constructor(e){super(e),this.content=e.content}}}};var vn={create(e){const{params:{type:t},order:i,content:n,rows:s,columns:a,components:o,elementNumber:r}=e,l=gn[t]||gn.default,c=fn.create(t);if(!t||!l)throw new Error("Cannot resolve component "+t);return new(0,l.model)({params:Object.assign({},c,e.params),order:i,content:n,rows:s,columns:a,components:o,id:r})},createEmptySection(){return this.create({params:{type:"cc-section"}})},createEmptyRow(){return this.create({params:{type:"cc-row"}})},createEmptyColumn(){return this.create({params:{type:"cc-column"}})}},_n={mapColumnsFromRest(e,t){return Vi.sort(e).map(e=>this.mapColumnFromRest(e,t))},mapColumnFromRest(e,t=vn){try{return t.create({elementNumber:e.elementNumber,params:zi(e.columnParams),order:e.elementOrder,components:un.mapComponentsFromRest(e.components,t)})}catch(e){return console.error(e),t.createEmptyColumn()}}},yn={mapRowsFromRest(e,t){if(!e)return[];return Vi.sort(e).map(e=>this.mapRowFromRest(e,t))},mapRowFromRest(e,t=vn){try{return t.create({elementNumber:e.elementNumber,params:zi(e.rowParams),order:e.elementOrder,columns:_n.mapColumnsFromRest(e.columns,t)})}catch(e){return console.error(e),t.createEmptyRow()}}},xn={mapSectionsFromRest(e,t){return Vi.sort(e).map(e=>this.mapSectionFromRest(e,t))},mapSectionFromRest(e,t=vn){try{return t.create({elementNumber:e.elementNumber,params:zi(e.sectionParams),order:e.elementOrder,components:un.mapComponentsFromRest(e.components||[],t),rows:yn.mapRowsFromRest(e.rows,t)})}catch(e){return console.error(e),t.createEmptySection()}}},wn={mapPagesFromRest(e){return e.items.map(e=>this.mapPageFromRest(e))},mapPageFromRest:e=>new Fi({title:e.title,sections:xn.mapSectionsFromRest(e.sections),params:zi(e.pageParams)})};const kn="/:lang:/sites/:siteCode:/page/:pageCode:?statusCode=:statusCode:&onlyData=:onlyData:";var In={get:e=>e?U.a.get(kn,{baseUrl:c.a.ceBaseUrl,params:{siteCode:c.a.siteNumber,lang:b.a.get(),onlyData:!0,pageCode:e,statusCode:"ORA_ACTIVE"}}).then(e=>wn.mapPageFromRest(e)):Promise.reject(),getDraft:e=>U.a.get(kn,{baseUrl:c.a.ceBaseSecuredUrl,params:{siteCode:c.a.siteNumber,lang:b.a.get(),onlyData:!0,pageCode:e,statusCode:"ORA_DRAFT"}}).then(e=>wn.mapPageFromRest(e)),getTitle(e){const t=c.a.siteNumber||h.a.routeParams().siteCode;return K.get(`/recruitingCESites/${t}/child/pages?q=StatusCode=ORA_ACTIVE&fields=Title,PageCode&onlyData=true`).then(t=>{const i=t.items.filter(t=>e===t.pageCode).pop();return i?i.title:"-"})},getPageByType(e){var t;const{pageCode:i}=null!==(t=c.a.templates[e])&&void 0!==t?t:{};return this.get(i)}};n.components.register("splash-page",{viewModel:class extends class{constructor(){var e;const{pageCode:t}=null!==(e=c.a.templates.SPLASH_PAGE)&&void 0!==e?e:{};this.splashPage=Object(n.observable)(null),this.isLoading=Object(n.observable)(!0),this.isPageDisplayBoxed=Object(n.observable)(!0),this.isPreview=Object(n.pureComputed)(()=>{var e;return null===(e=h.a.routeParams().query)||void 0===e?void 0:e.preview}),this.bodyClassName="video-fullscreen",this._loadPage(t)}_getPage(e){return e?this.isPreview()?In.getDraft(e):In.get(e):Promise.reject()}_loadPage(e){return this._getPage(e).then(e=>{this.splashPage(e),this.isPageDisplayBoxed("boxed"===e.params.display),this.isLoading(!1)}).catch(()=>{this.isLoading(!1)})}}{constructor(){super(),this.parallaxEnabled=Object(n.observable)(this._isParallaxEnabled()),this._themeEditorEvent=At.themeSettingsUpdated.add(({parallaxEnabled:e})=>{this.parallaxEnabled(e)})}dispose(){this._themeEditorEvent.detach()}_isParallaxEnabled(){return"true"===c.a.getSettingByKey("PARALLAX_ENABLED")}},template:'\x3c!-- ko ifnot: isLoading --\x3e\n<div class="home-page home-page--animated" data-bind="css: { \'home-page--default\': !splashPage() }">\n    \x3c!-- ko ifnot: splashPage --\x3e\n    \x3c!-- ko component: \'home-page\' --\x3e\x3c!-- /ko --\x3e\n    \x3c!-- /ko --\x3e\n\n    \x3c!-- ko if: splashPage --\x3e\n    <cc-video-background\n        params="videoUrl: splashPage().params.videoUrl, videoWrapper: false, isFullscreen: true"\n    ></cc-video-background>\n    \x3c!-- ko component: { name: \'cc-page\', params: {page: splashPage(), classModifier: \'splash-page\'}} --\x3e\x3c!-- /ko --\x3e\n    \x3c!-- /ko --\x3e\n</div>\n\n<div class="home-page__background">\n    \x3c!-- ko if: parallaxEnabled --\x3e\n    <div class="home-page__background-inner default-bg" data-bind="mouseParalax, frontImageBackground"></div>\n    \x3c!-- /ko --\x3e\n    \x3c!-- ko ifnot: parallaxEnabled --\x3e\n    <div class="home-page__background-inner default-bg" data-bind="frontImageBackground"></div>\n    \x3c!-- /ko --\x3e\n</div>\n\x3c!-- /ko --\x3e\n'});function Cn(e){return e?new Date(e).toISOString():void 0}function Sn(e){return(t=e.geographyId,W.get("/recruitingCESearchAutoSuggestions?expand=all&onlyData=true&finder=findByLocId;string="+t).then(({items:e})=>{return(t=e.shift())?{"@type":"Place",address:{"@type":"PostalAddress",addressLocality:t.city,addressRegion:t.state,addressCountry:t.country}}:{};var t})).then(t=>({"@context":"http://schema.org","@type":"JobPosting",title:e.title,datePosted:Cn(e.datePosted),validThrough:Cn(e.validThrough),employmentType:e.employmentType,educationRequirements:e.educationRequirements,url:window.location.href+"?utm_medium=search+engine&utm_source=google",description:e.description,hiringOrganization:{"@type":"Organization",name:c.a.siteName,sameAs:c.a.ceBaseUrl},identifier:{"@type":"PropertyValue",name:c.a.siteName,value:e.id},jobLocation:t}));var t}lt("job-details-content",'\x3c!-- ko ifnot: loaded --\x3e\n<spinner></spinner>\n\x3c!-- /ko --\x3e\n\n\x3c!-- ko if: loaded --\x3e\n\n\x3c!-- ko ifnot: job --\x3e\n\x3c!-- ko template: \'job-expired\' --\x3e\x3c!-- /ko --\x3e\n\x3c!-- /ko --\x3e\n\n\x3c!-- ko if: job --\x3e\n<div class="job-details" data-bind="i18nLang: job().lang">\n    \x3c!-- ko if: isGJSEnabled --\x3e\n    <div class="googleJobSearch" data-bind="html: googleJobSearchMarkup"></div>\n    \x3c!-- /ko --\x3e\n\n    <div class="job-details__header">\n        <h2 class="heading job-details__title" data-bind="text: job().title"></h2>\n        <div class="job-details__subtitle text-color-secondary">\n            <span data-bind="text: job().primaryLocation"></span>\n\n            \x3c!-- ko if: showSecondaryLocations --\x3e\n            <i18n params="key: \'search.job-item.secondary-locations\'">\n                <span\n                    data-i18n-token="locationsCount"\n                    data-bind="text: $parent.job().secondaryLocations.length"\n                ></span>\n            </i18n>\n            \x3c!-- /ko --\x3e\n        </div>\n\n        <div class="job-details__header-line background-color-secondary"></div>\n    </div>\n\n    <div class="job-details__description">\n        \x3c!-- ko if: job().description --\x3e\n        <div class="job-details__section">\n            <h2\n                class="job-details__description-header text-color-secondary font-family-secondary"\n                data-bind="i18n: \'job-details.job-description-title\'"\n            ></h2>\n            <div class="basic-formatter" data-bind="html: job().description"></div>\n        </div>\n        \x3c!-- /ko --\x3e\n\n        \x3c!-- ko if: job().responsibilities --\x3e\n        <div class="job-details__section">\n            <h2\n                class="job-details__description-header text-color-secondary font-family-secondary"\n                data-bind="i18n: \'job-details.job-responsibilities-title\'"\n            ></h2>\n            <div class="basic-formatter" data-bind="html: job().responsibilities"></div>\n        </div>\n        \x3c!-- /ko --\x3e\n\n        \x3c!-- ko if: job().qualifications --\x3e\n        <div class="job-details__section">\n            <h2\n                class="job-details__description-header text-color-secondary font-family-secondary"\n                data-bind="i18n: \'job-details.job-qualifications-title\'"\n            ></h2>\n            <div class="basic-formatter" data-bind="html: job().qualifications"></div>\n        </div>\n        \x3c!-- /ko --\x3e\n\n        \x3c!-- ko if: job().skills --\x3e\n        <div class="job-details__section">\n            <h2\n                class="job-details__description-header text-color-secondary font-family-secondary"\n                data-bind="i18n: \'job-details.job-skills-title\'"\n            ></h2>\n\n            <div class="job-details__skill-section" data-bind="foreach: { data: job().skills , as: \'skill\'} ">\n                <h3 data-bind="text: skill.sectionName"></h3>\n\n                <div class="job-details__skills" data-bind="foreach: {data: skill.skills, as: \'name\'}">\n                    <span class="job-details__skill-text" data-bind="text: name"></span>\n                </div>\n            </div>\n        </div>\n        \x3c!-- /ko --\x3e\n\n        \x3c!-- ko if: job().corporateDescription --\x3e\n        <div class="job-details__section">\n            <h2\n                class="job-details__description-header text-color-secondary font-family-secondary"\n                data-bind="i18n: \'job-details.employer-description-title\'"\n            ></h2>\n            <div class="basic-formatter" data-bind="html: job().corporateDescription"></div>\n        </div>\n        \x3c!-- /ko --\x3e\n\n        \x3c!-- ko if: job().organizationDescription --\x3e\n        <div class="job-details__section">\n            <h2\n                class="job-details__description-header text-color-secondary font-family-secondary"\n                data-bind="i18n: \'job-details.organization-description-title\'"\n            ></h2>\n            <div class="basic-formatter" data-bind="html: job().organizationDescription"></div>\n        </div>\n        \x3c!-- /ko --\x3e\n\n        <div class="job-details__apply">\n            <apply-now-button\n                params="jobId: job().id, applyInProgress: applyNowClicked, overlayVisible: isDetailsOpened"\n            ></apply-now-button>\n        </div>\n\n        \x3c!-- ko if: isAddThisEnabled() && addThisRelatedPost() --\x3e\n        <div class="job-details__section">\n            <add-this-inline-tool\n                params="inlineToolCode: addThisRelatedPost, attributes: addThisAttributes"\n            ></add-this-inline-tool>\n        </div>\n        \x3c!-- /ko --\x3e\n    </div>\n\n    \x3c!-- ko component: { name: \'job-details-summary\', params: { job: job } } --\x3e\n    \x3c!-- /ko --\x3e\n\n    \x3c!-- ko component: { name: \'media-slider\', params: { slides: job().media, className: \'job-details__media-slider\' } } --\x3e\n    \x3c!-- /ko --\x3e\n\n    \x3c!-- ko generateGoogleJobSearchTags: job --\x3e\n    \x3c!-- /ko --\x3e\n\n    \x3c!-- ko component: { \n        name: \'search-similar\', \n        params: {\n            requisitionId: requisitionId()\n        }\n    } --\x3e\n    \x3c!-- /ko --\x3e\n</div>\n\x3c!-- /ko --\x3e\n\n\x3c!-- /ko --\x3e\n'),lt("job-details-header",'\x3c!-- ko if: loaded --\x3e\n<div class="app-dialog__bar job-actions text-color-secondary" data-bind="i18nLang: jobLang">\n    \x3c!-- ko if: job --\x3e\n    \x3c!-- ko if: showCopyLink() || (isAddThisEnabled() && addThisInlineSharing()) --\x3e\n    <div class="job-actions__section" data-bind="i18nLang: job().lang ">\n        <share-widget\n            params="\n                jobId: job().id,\n                isAddThisEnabled: isAddThisEnabled,\n                addThisInlineSharing: addThisInlineSharing,\n                addThisAttributes: addThisAttributes,\n                showCopyLink: showCopyLink"\n        ></share-widget>\n    </div>\n    \x3c!-- /ko --\x3e\n\n    <div class="job-actions__section">\n        <button\n            class="favourite-star job-actions__favorited"\n            data-bind="\n                    click: toggleFavourite, css: { \'favourite-star--active\': isFavourite },\n                    i18nAttr: { title: !isFavourite() ? \'favourite.a11y.pin-job\' : \'favourite.a11y.unpin-job\' }"\n        ></button>\n    </div>\n\n    \x3c!-- /ko --\x3e\n    <div class="job-actions__section">\n        <button\n            class="app-dialog__close"\n            id="dialogCloseButton"\n            data-bind="click: close,\n                attr: {\'title\': goBackLabel},\n                css: { \'job-fullpreview__close--has-return-route\': !isPreviousRouteStored }"\n        >\n            <span class="app-dialog__close-label">Esc</span>\n        </button>\n    </div>\n</div>\n\x3c!-- /ko --\x3e\n'),lt("job-expired",'<div class="job-details">\n    <div class="job-details__expired error-404">\n        <div class="job-details__expired-content error-404__content">\n            <div class="error-404__image"></div>\n\n            <div\n                class="job-details__expired-header error-404__header"\n                data-bind="i18n: \'general.error-job-expired.header\'"\n            ></div>\n\n            <div class="job-details__expired-buttons error-404__buttons">\n                <i18n params="key: \'general.error-job-expired.description\'">\n                    <a\n                        class="\n                            button button--small\n                            job-details__view-all-jobs\n                            text-color-primary\n                            font-family-secondary\n                        "\n                        href="#"\n                        data-i18n-token="browseLink"\n                        data-bind="i18n: \'search.view-all-jobs\', route: \'search\', routeParams: {}, routeConfig: { inherit: false },\n                       a11y.skipTo: { elementsFocused: \'.job-details__view-all-jobs\', skipToElement: \'.skip-navigation-link-dialog--active\' }"\n                    ></a>\n                </i18n>\n            </div>\n        </div>\n    </div>\n</div>\n');var En={generateMarkup(e){const t=document.createElement("div"),i=document.createElement("script");return i.type="application/ld+json",t.appendChild(i),Sn(e).then(e=>(i.text=JSON.stringify(e),t.innerHTML))},convertJobToMarkup:Sn};function On({value:e}){return Array.isArray(e)?e.length:e}s.a.bindingHandlers.generateGoogleJobSearchTags={init(e,t){const i=t(),n=document.createElement("script");n.type="application/ld+json",En.convertJobToMarkup(i()).then(t=>{n.text=JSON.stringify(t),s.a.virtualElements.prepend(e,n)})}},s.a.virtualElements.allowedBindings.generateGoogleJobSearchTags=!0;const An={generate(e){const{lang:t}=e,i=An._getLocationValue(e),n=An._getLocationLabel(i,t),s=[{id:"id",value:e.id,name:Object(l.a)("job-details.id-label",null,t)},{id:"category",value:e.category,name:Object(l.a)("job-details.category-label",null,t)},{id:"locations",value:i,name:n},{id:"postedDate",value:e.postedDate,name:Object(l.a)("job-details.posting-date-label",null,t)},{id:"postedEndDate",value:e.postedEndDate,name:Object(l.a)("job-details.closing-date-label",null,t)},{id:"studyLevel",value:e.studyLevel,name:Object(l.a)("job-details.job-study-level-label",null,t)},{id:"jobSchedule",value:e.jobSchedule,name:Object(l.a)("job-details.job-schedule-label",null,t)},{id:"jobShift",value:e.jobShift,name:Object(l.a)("job-details.job-shift-label",null,t)},{id:"hiringManager",value:e.hiringManager,name:Object(l.a)("job-details.hiring-manager-label",null,t)},{id:"recruitingOrganisation",value:e.recruitingOrganisation,name:Object(l.a)("job-details.recruiting-organisation-label",null,t)},{id:"bonusAmount",value:e.bonusAmount,name:Object(l.a)("job-details.bonus-amount-label",null,t)},{id:"domesticTravelRequired",value:e.domesticTravelRequired,name:Object(l.a)("job-details.domestic-travel-required-label",null,t)},{id:"internationalTravelRequired",value:e.internationalTravelRequired,name:Object(l.a)("job-details.international-travel-required-label",null,t)}];return s.push(...function({requisitionFlexFields:e}){return e.map(e=>Object.assign({},e,{id:"flexField"}))}(e)),s.filter(On)},_getLocationLabel:(e,t)=>e.length?Object(l.a)("job-details.locations-label",null,t):Object(l.a)("job-details.location-label",null,t),_getLocationValue(e){var t;return(null===(t=e.workLocations)||void 0===t?void 0:t.length)?e.workLocations:[e.primaryLocation].concat(e.secondaryLocations)}};var Pn=An;const Tn={id:void 0,type:void 0,url:void 0,thumbUrl:void 0,title:void 0,markers:void 0,priority:3};var jn=function(e){const t={copy:["markers"]};o.a.fromJS(Tn,t,this),e&&o.a.fromJS(e,t,this)};function Rn(){const e=Object(pt.a)(c.a.getSettingByKey("MAPS_ENABLED"));return function(){const{providerName:e}=c.a.getSettingByKey(ni.b)||{};return Boolean(e)}()&&e}function Fn(e,t){return e.priority-t.priority}var Dn={mapFromRest(e,t=[]){const i=e.sort(Fn).map(e=>new jn(e));return Rn()&&t.length&&i.unshift(function(e){return new jn({type:"Map",priority:-1,markers:e})}(t)),i}},Ln=i(39);function Nn(e,t){if(e.country<t.country)return-1;if(e.country>t.country)return 1;const i=e.region1||e.region2,n=t.region1||t.region2;return i<n||i>n||e.townOrCity<t.townOrCity?-1:e.townOrCity>t.townOrCity?1:0}function Mn({name:e}){return e}function Vn(e){if(!e)return null;switch(c.a.getSettingByKey(Ln.a)||Ln.b.default){case Ln.b.full:return function(e){const t=[],i=function(e){const t=[];return t.push(e.building),t.push(e.addressLine1),t.filter(e=>e).join(" ")}(e);return t.push(i),t.push(e.townOrCity),t.push(e.region2||e.region3),t.push(e.postalCode),t.push(e.country),t.filter(e=>e).join(", ")}(e);case Ln.b.zipCode:return e.postalCode;case Ln.b.name:return e.locationName;default:return null}}function Bn(e,{latitude:t,longitude:i}){return{address:e,coordinates:new Gt({latitude:t,longitude:i})}}var qn={mapLocationToString:e=>e.name,mapLocationCountry:e=>e.countryCode,mapWorkLocationsFromRest:(e,t)=>[...e,...t.sort(Nn)].map(e=>Bn(Vn(e),e)).filter(({address:e})=>e),mapRecruitingLocationsFromRest:({primaryLocation:e,primaryLocationCoordinates:t,secondaryLocations:i})=>[function(e,t){const[i]=t&&t.length?t:[{}];return Bn(e,i)}(e,t),...i.map(e=>Bn(Mn(e),e))]};const Un=new Proxy({Date:Hn,DateTime:$n},{get:(e,t)=>t in e?e[t]:e=>e});function Hn(e,t){return e.formatDate(t)}function $n(e,t){return e.formatDateTime(t)}function Jn(e,t){return Number(e.sequenceNumber)-Number(t.sequenceNumber)}function zn(e,t){return Un.Date=Hn.bind(null,t),Un.DateTime=$n.bind(null,t),e.sort(Jn).map(e=>function(e){return{name:e.prompt,type:e.controlType,value:Un[e.controlType](e.value),sequenceNumber:e.sequenceNumber}}(e))}class Wn{constructor({coordinates:e,popupContent:t,markerObject:i,label:n=""}){this.coordinates=e,this.popupContent=t,this.markerObject=i,this.label=n}setMarkerObject(e){this.markerObject=e}validate(){return this.coordinates.validate()}}class Kn extends Wn{constructor({coordinates:e,address:t,markerObject:i}){super({coordinates:e,markerObject:i}),this.address=t,this.popupContent=this._generatePopupContent()}_generatePopupContent(){const e=ui();if(!e)return"";const t=e.generateDirectionsDeepLink(this.coordinates);return`<div class="address-marker font-family-primary">\n            <p class="address-marker__address text-color-primary">${this.address}</p>\n            <a href="${t}" target="_blank" class="address-marker__link theme-color-1">${Object(l.a)("job-details.show-directions")}</a>\n            </div>`}}function Gn(e,t){const{coordinates:{latitude:i,longitude:n}}=e,{coordinates:{latitude:s,longitude:a}}=t;return i===s&&n===a}function Yn(e,t){return e.some(Gn.bind(null,t))||e.push(t),e}var Qn={mapMarkersFromLocations:(e,t)=>(e&&e.length?e:t).map(({coordinates:e,address:t})=>new Kn({coordinates:e,address:t})).filter(e=>e.validate()).reduce(Yn,[])},Zn={mapFromRest(e){if(!e||!e.length)return"";const t=new Map;e.forEach(e=>{const{sectionName:i,skill:n}=e;t.has(i)||t.set(i,[]),t.get(i).push(n)});const i=[];return t.forEach((e,t)=>{const n={sectionName:t,skills:e};i.push(n)}),i}};function Xn(e){return"Y"===e?Object(l.a)("general.yes"):"N"===e?Object(l.a)("general.no"):null}function es(e){e.lang=e.contentLocale,delete e.contentLocale;const t=new Ie(e.lang);return e.postedDate=t.formatDateTime(e.externalPostedStartDate),e.postedEndDate=t.formatDateTime(e.externalPostedEndDate),e.openingDate=t.formatDateTime(e.externalOpeningDate),e.closingDate=t.formatDateTime(e.externalClosingDate),e.datePosted=e.externalPostedStartDate,e.validThrough=e.externalPostedEndDate,e.description=e.externalDescriptionStr||"",e.shortDescription=e.shortDescriptionStr||"",e.organizationDescription=e.organizationDescriptionStr,e.corporateDescription=e.corporateDescriptionStr,e.employmentType=e.jobSchedule,e.educationRequirements=e.studyLevel,e.qualifications=e.externalQualificationsStr||e.externalQualStr||"",e.responsibilities=e.externalResponsibilitiesStr||e.externalRespStr||"",e.isConfidential=e.applyWhenNotPostedFlag,delete e.applyWhenNotPostedFlag,e.contact={name:e.externalContactName,email:e.externalContactEmail},e.externalBonusAmount&&e.externalBonusCurrencyCode&&(e.bonusAmount=ye.currency.format(e.externalBonusAmount,e.externalBonusCurrencyCode)),e.domesticTravelRequired=Xn(e.domesticTravelRequired),e.internationalTravelRequired=Xn(e.internationalTravelRequired),e}var ts={mapJobFromRest(e){let t=e;t=es(t);const i=new Ie(t.lang),n=qn.mapWorkLocationsFromRest(t.workLocation,t.otherWorkLocations),s=qn.mapRecruitingLocationsFromRest(t),a=Qn.mapMarkersFromLocations(n,s);return t.secondaryLocations=t.secondaryLocations.map(qn.mapLocationToString),t.workLocations=n.map(({address:e})=>e),t.media=Dn.mapFromRest(t.media,a),t.requisitionFlexFields=zn(t.requisitionFlexFields,i),t.skills=Zn.mapFromRest(t.skills),delete t.workLocation,delete t.otherWorkLocations,t},mapLightJobFromRest:es};function is(e,t,i){return{value:{locationId:e,locationType:t},name:i}}var ns={mapLocationsFromRest:e=>function(e){const t=[],{primaryLocation:i,secondaryLocations:n,workLocation:s,otherWorkLocations:a,geographyNodeId:o}=e,r=s.length+a.length,l=(""!==i?1:0)+n.length;return r>=1?t.concat(s.map(({locationId:e,locationName:t})=>is(e,"W",t))).concat(a.map(({locationId:e,locationName:t})=>is(e,"W",t))):l>1?t.concat(is(o,"P",i)).concat(n.map(({geographyNodeId:e,name:t})=>is(e,"P",t))):1===l?t.concat(is(o,"P",i)):t}(e)};class ss{constructor(){this.items=s.a.observableArray()}init(e){this.type=e.type,this.name=e.name,this.items(e.items.map(t=>{const i=(n=t.name,a=40,n.length<=a?n:n.substring(0,Math.min(a,n.length))+"...");var n,a;const o=i.lastIndexOf(" ");return{text:t.name,textParts:{main:i.substring(0,o)+" ",last:i.substring(o)},value:t.id,totalCount:t.totalCount,selected:s.a.observable(-1!==e.selectedIds.indexOf(t.id)),default:t.default}}).sort((e,t)=>t.totalCount-e.totalCount)),this.selectedItems=s.a.pureComputed(()=>this.items().filter(e=>e.selected())),this.selectedIds=s.a.pureComputed(()=>this.selectedItems().map(e=>e.value))}}const as=Object(l.a)("facets.default-option-label");function os(e){const[t]=e.split("|");return t}function rs(e,t){if(!e)return[];const i=e.split("||").find(e=>os(e)===t);if(!i)return[];const[,n]=i.split("|");return n?n.split(";"):[]}function ls(e,t,i){var n;const s=function(e,t,i){const n=`${t}|${i.join(";")}`;if(!e)return n;const s=e.split("||");return s.map(os).includes(t)?s.map(e=>{const[s]=e.split("|");return s===t?i.length?n:null:e}).filter(e=>e).join("||"):`${e}||${n}`}((n=e)?n.substring(1,n.length-1).replace(/\\"/g,'"'):n,t,i).replace(/"/g,'\\"');return s?`"${s}"`:null}var cs={TYPES:{LOCATIONS:ss,WORK_LOCATIONS:ss,TITLES:ss,CATEGORIES:ss,ORGANIZATIONS:ss,POSTING_DATES:class extends ss{init(e){super.init(e),this.items().length&&this.items.unshift({default:!0,text:as,textParts:{main:as},selected:s.a.observable(!this.selectedIds().length)})}},FLEX_FIELDS:class extends ss{init(e){super.init(e),this.title=e.title,this.paramKey="selectedFlexFieldsFacets",this.paramValueBuilder=ls}}},typeToModel(e){return this.TYPES[e]||this.TYPES.FLEX_FIELDS},create(e){const t=new(this.typeToModel(e.type));return t.init(e),t}};const ds={LOCATIONS:!0,WORK_LOCATIONS:!1,TITLES:!0,CATEGORIES:!0,ORGANIZATIONS:!1,POSTING_DATES:!0},us=function(){const e=e=>"true"===e;return Object.keys(cs.TYPES).reduce((t,i)=>{const n=c.a.getSettingByKey(i+"_FACET_ENABLED");return Object.assign(t,{[i]:n?e(n):ds[i]})},{})}();function ps({id:e,name:t,totalCount:i}){return{id:""+e,name:t?t.replace(/\s*>/g,","):"",totalCount:i}}var hs={mapFacetsFromRest(e){const t=e.facets.split(";").filter(e=>function(e){return us[e]}(e)).map(t=>function(e,t){const i=e,n=t.toLowerCase().replace(/_(\w)/g,(e,t)=>t.toUpperCase()),s=function(e){return e+"Facet"}(n),a=(i[s]||[]).map(ps),o=a.map(e=>e.id),r=function(e){return`selected${e[0].toUpperCase()}${e.slice(1)}Facet`}(n),l=function(e,t){return(e?e.split(";"):[]).filter(e=>-1!==t.indexOf(e))}(i[r],o),c=cs.create({type:t,name:n,items:a,selectedIds:l});return delete i[s],delete i[r],c}(e,t));return t.push(...function({flexFieldsFacet:e,selectedFlexFieldsFacets:t}){return(e||[]).map(e=>{var i,n;const s=e.label,a=e.name,o=null!==(i=null===(n=e.values)||void 0===n?void 0:n.map(ps))&&void 0!==i?i:[];return cs.create({type:a,name:"flexFields",title:s,items:o,selectedIds:rs(t,a)})}).filter(Boolean)}(e)),t}};const ms=Object.keys(cs.TYPES).join(";");function bs(e){return e.limit*(e.offset||0)}function fs(e){const t=Object.assign({},e);return delete t.mode,delete t.zipcode,t}function gs(e,t){t.lang=t.contentLocale,t.radiusUnit=e,delete t.contentLocale;const i=new Ie(c.a.siteLang);return t.shortDescription=t.shortDescriptionStr,t.postedDate=i.formatDate(t.postedDate),t.secondaryLocations=t.secondaryLocations.map(qn.mapLocationToString),t}var vs={mapLocationParamsToRest(e){delete e.locationLevel;const t=null!=e.latitude&&null!=e.longitude;return(e.locationId||t)&&delete e.location,e.location&&(e.location=e.location.replace(/,/g," >")),e},mapSearchParamsToRest(e,t,i,n=ms){(null==e?void 0:e.themePreview)&&delete e.themePreview;const a=s.a.utils.extend({siteNumber:t,facetsList:n,limit:i},fs(e));return this.mapLocationParamsToRest(a),a.offset=bs(a),a.keyword&&(a.keyword=function(e){return`"${e.keyword.replace(/"/g,'\\"')}"`}(a)),a},mapSearchAIJobsParamsToRest(e,t,i,n,a){const o=s.a.utils.extend({requisitionId:t,siteNumber:n,candidateNumber:i,limit:a},fs(e));return o.offset=bs(o),o},mapSearchResultFromRest:gs,mapSearchResultsFromRest:function({items:e}){const[t]=e,i=t.offset+t.limit;return t.hasMore=i<t.totalJobsCount,t.facets=hs.mapFacetsFromRest(t),t.distanceUnit=t.radiusUnit,t.requisitionList=(t.requisitionList||[]).map(e=>gs(t.radiusUnit,e)),t}};class _s extends Wn{constructor({coordinates:e,jobId:t,jobTitle:i,address:n}){super({coordinates:e}),this.jobs=[{id:t,title:i,address:n}],this.popupContent=this._generatePopupContent()}addJob({id:e,title:t,address:i}){this.jobs.push({id:e,title:t,address:i}),this._recalculate()}_recalculate(){this.label=this.jobs.length>1?String(this.jobs.length):"",this.popupContent=this._generatePopupContent()}_generatePopupContent(){return`<ul class="search-marker font-family-primary">\n            ${this.jobs.reduce((e,{id:t,title:i,address:n})=>{const s=m.b.interpolate({},"job-details",{jobId:t});return e+(Ct.hasPointingDevice?(({id:e,url:t,title:i,address:n})=>`<li><a href="${t}" class="search-marker__link" data-job-id="${e}">\n    <span class="search-marker__job text-color-primary">\n        ${i}\n        <span class="search-marker__address text-color-secondary">${n}</span>\n    </span>\n    <span class="search-marker__icon"></span>\n    </a></li>`)({id:t,url:s,title:i,address:n}):(({id:e,title:t,address:i})=>`<li class="search-marker__link" data-job-id="${e}">\n    <span class="search-marker__job text-color-primary">\n        ${t}\n        <span class="search-marker__address text-color-secondary">${i}</span>\n    </span>\n    <span class="search-marker__icon"></span>\n    </li>`)({id:t,title:i,address:n}))},"")}\n            </ul>`}}const ys="WORK_LOCATION";function xs(e){return e.locationType===ys?Vn(e):Mn(e)}function ws({locationCoordinates:e,requisitionNumber:t,requisitionTitle:i}){return e.map(e=>({coordinates:new Gt(e),address:xs(e),jobId:t,jobTitle:i})).filter(({address:e,coordinates:t})=>e&&t.validate()).map(e=>new _s(e))}var ks={mapJobsFromRest({items:e}){const[{requisitionLocationsCoordinates:t}]=e;return t.map(ws).flat()}},Is=i(5);function Cs(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class Ss{constructor(){Cs(this,"jobsBaseUrl","/recruitingCEJobRequisitions?onlyData=true"),Cs(this,"paramsDelimiter",","),Cs(this,"urlSuffix",";:findParams:")}searchJobsAndFacets(e){const t=`${this.jobsBaseUrl}&expand=requisitionList.secondaryLocations,flexFieldsFacet.values&finder=findReqs${this.urlSuffix}`,i={...this._getDefaultHttpConfig(),params:{findParams:vs.mapSearchParamsToRest(e,c.a.siteNumber,24)}};return U.a.get(t,i).then(vs.mapSearchResultsFromRest)}searchJobs(e){const t=`${this.jobsBaseUrl}&expand=requisitionList.secondaryLocations&finder=findReqs${this.urlSuffix}`,i={...this._getDefaultHttpConfig(),params:{findParams:vs.mapSearchParamsToRest(e,c.a.siteNumber,24,"NONE")}};return U.a.get(t,i).then(vs.mapSearchResultsFromRest)}searchMarkersChunk(e){const t=`${this.jobsBaseUrl}&expand=requisitionLocationsCoordinates.locationCoordinates&finder=findReqs${this.urlSuffix}`,i={...this._getDefaultHttpConfig(),params:{findParams:vs.mapSearchParamsToRest(e,c.a.siteNumber,200,"NONE")}};return U.a.get(t,i).then(ks.mapJobsFromRest)}searchMarkers(e,t){const i=[],n=t/200;let s=0;for(;s<n;){const t=Object.assign({},e);t.limit=200,t.offset=s,i.push(this.searchMarkersChunk(t)),s+=1}return Promise.all(i).then(e=>e.flat())}searchSimilarJobs(e,t){const i=`${this.jobsBaseUrl}&expand=requisitionList.secondaryLocations&finder=findSimilarRequisitions${this.urlSuffix}`,n=this._getCandidateNumber(),s={...this._getDefaultHttpConfig(),params:{findParams:vs.mapSearchAIJobsParamsToRest(e,t,n,c.a.siteNumber,4)}};return U.a.get(i,s).then(vs.mapSearchResultsFromRest)}searchJobsToCandidate(e,t){const i=this._getCandidateNumber(),n=`${this.jobsBaseUrl}&expand=requisitionList.secondaryLocations&finder=findSimilarRequisitionsByCandidate${this.urlSuffix}`;e.limit||(e.limit=4);const s={...this._getDefaultHttpConfig(),params:{findParams:vs.mapSearchAIJobsParamsToRest(e,t,i,c.a.siteNumber,e.limit)}};return U.a.get(n,s).then(vs.mapSearchResultsFromRest)}searchFacets(e){const t=`${this.jobsBaseUrl}&expand=flexFieldsFacet.values&finder=findReqs${this.urlSuffix}`,i={...this._getDefaultHttpConfig(),params:{findParams:vs.mapSearchParamsToRest(e,c.a.siteNumber,24)}};return U.a.get(t,i).then(vs.mapSearchResultsFromRest)}_getCandidateNumber(){return Is.a.getCandidateNumber()}_getDefaultHttpConfig(){return{paramsDelimiter:this.paramsDelimiter}}}function Es(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Os(e,t){var i=t.get(e);if(!i)throw new TypeError("attempted to get private field on non-instance");return i.get?i.get.call(e):i.value}var As=new WeakMap;class Ps extends Ss{constructor(...e){super(...e),Es(this,"jobsBaseUrl","/indexSearch/recruitingCEJobRequisitions?onlyData=true"),Es(this,"paramsDelimiter","&"),Es(this,"urlSuffix","&:findParams:"),As.set(this,{writable:!0,value:{jobsBaseUrl:"/recruitingCEJobRequisitions?onlyData=true",paramsDelimiter:",",urlSuffix:";:findParams:"}})}searchSimilarJobs(e,t){const{jobsBaseUrl:i,paramsDelimiter:n,urlSuffix:s}=Os(this,As),a=`${i}&expand=requisitionList.secondaryLocations&finder=findSimilarRequisitions${s}`,o=this._getCandidateNumber();return U.a.get(a,{params:{findParams:vs.mapSearchAIJobsParamsToRest(e,t,o,c.a.siteNumber,4)},paramsDelimiter:n}).then(vs.mapSearchResultsFromRest)}searchJobsToCandidate(e,t){const{jobsBaseUrl:i,paramsDelimiter:n,urlSuffix:s}=Os(this,As),a=this._getCandidateNumber(),o=`${i}&expand=requisitionList.secondaryLocations&finder=findSimilarRequisitionsByCandidate${s}`;return e.limit||(e.limit=4),U.a.get(o,{params:{findParams:vs.mapSearchAIJobsParamsToRest(e,t,a,c.a.siteNumber,e.limit)},paramsDelimiter:n}).then(vs.mapSearchResultsFromRest)}_getDefaultHttpConfig(){return{paramsDelimiter:this.paramsDelimiter,baseUrl:(c.a.apiBaseUrl||"")+"/hcmRestApi"}}}var Ts="true"===c.a.getSettingByKey("ORA_IRC_CE_USE_JERSEY_ENDPOINT_FOR_REQ_SEARCH")&&"true"===c.a.getSettingByKey("IRC_ELASTIC_SEARCH_ENABLED")?new Ps:new Ss;function js(e,t={}){return{credentials:"same-origin",cache:t.reloadCache?"reload":"default",statusCodes:{401:()=>Promise.reject(),404:()=>Promise.reject("job-expired")},params:{findParams:{Id:`"${e}"`,siteNumber:c.a.siteNumber}},paramsDelimiter:","}}function Rs(e,t){const i=["onlyData=true","finder=ById;:findParams:"];(null==t?void 0:t.expand)&&i.unshift("expand=all");const n=["/recruitingCEJobRequisitionDetails",i.join("&")].join("?");return U.a.get(n,js(e,{reloadCache:null==t?void 0:t.reloadCache}))}var Fs={getJob:e=>Rs(e,{expand:!0}).then(({items:e})=>{const[t]=e;return t||Promise.reject("job-expired")}).then(ts.mapJobFromRest),getLightJob:e=>Rs(e,{reloadCache:!0}).then(({items:e})=>{const[t]=e;return t||Promise.reject("job-expired")}).then(ts.mapLightJobFromRest),getJobs(e){if(!e.length)return Promise.resolve({items:[]});const t={id:"Id="+e.join(" or "),fields:"Id,Title,PrimaryLocation,RequisitionId",limit:500};return U.a.get("/recruitingCEJobRequisitionDetails?onlyData=true&finder=ById;:id:&fields=:fields:&limit=:limit:",{params:t})},getJobPreview:e=>U.a.get("/recruitingCEJobRequisitionDetailsPreviews?expand=all&onlyData=true&finder=ById;:findParams:",js(e)).then(({items:e})=>ts.mapJobFromRest(e.shift())),getJobTemplatePreview:e=>U.a.get("/recruitingCERequisitionTemplateDetailsPreviews?expand=all&onlyData=true&finder=ById;:findParams:",js(e)).then(({items:e})=>ts.mapJobFromRest(e.shift())),getJobPreferredLocations:e=>Rs(e,{expand:!0}).then(({items:e})=>ns.mapLocationsFromRest(e.shift())),isJobPosted(e){const t={keyword:`"${e}"`};return Ts.searchJobs(t).then(e=>{const[t]=e.requisitionList;return Boolean(t)}).catch(!1)}},Ds={generate:(e,t,i)=>m.b.interpolate({lang:t,context:m.a.PUBLIC},"job-details",{jobId:e,query:i},{inherit:!1,encode:!0})},Ls=i(27),Ns=i(89);const Ms=Object(n.observableArray)();function Vs(){Ms.subscribe(e=>J.a.store("favourite-jobs-ids",e.map(e=>e.id)))}function Bs(e){const t=e.map(e=>Fs.getJob(e));Promise.all(t).then(Ms).then(Vs)}Bs(J.a.restore("favourite-jobs-ids")||[]),Ns.a.favouriteJobsSet.add(Bs);const qs={getFavourites:()=>Ms,hasFavourites:()=>Object(n.pureComputed)(()=>Ms().length),addFavourite(e){Ms.unshift(e),Ls.b.trackAddRequisitionToFavourites(e)},removeFavourite(e){Ms.remove(t=>t.id===e.id),Ls.b.trackRemoveRequisitionToFavourites(e)},toggleFavourite(e){qs.isFavourite(e)()?qs.removeFavourite(e):qs.addFavourite(e)},isFavourite:({id:e})=>Object(n.pureComputed)(()=>Ms().some(t=>t.id.toLowerCase()===e.toLowerCase()))};var Us=qs;const Hs=[];var $s={scrollTo(e=0,t=0){requestAnimationFrame(()=>{window.scrollTo(t,e)})},store(){const e=window.scrollY||window.pageYOffset;Hs.push(e),document.querySelector(".app__viewport").style.top=`-${e}px`},restore(){const e=Hs.pop();e&&(document.querySelector(".app__viewport").style.top="",this.scrollTo(e))}};var Js=i(14);class zs{constructor(){this.isPreviousRouteStored=!0,this.isDetailsOpened=Object(n.observable)(!0),this.job=Object(n.observable)(),this.isFavourite=Us.isFavourite({id:h.a.routeParams().jobId}),this.loaded=Object(n.observable)(!1),this.applyNowClicked=Object(n.observable)(!1),this.googleJobSearchMarkup=Object(n.observable)(),this.isAddThisEnabled=Object(n.observable)(c.a.getSettingByKey("ADDTHIS_PROFILE_ID")),this.addThisInlineSharing=Object(n.observable)(c.a.getSettingByKey("ADDTHIS_INLINE_SHARE_CODE")),this.addThisRelatedPost=Object(n.observable)(c.a.getSettingByKey("ADDTHIS_RELATED_POST_CODE")),this.addThisAttributes=Object(n.observable)({}),this.isGJSEnabled=Object(n.observable)(c.a.gjsEnabled),this.isJobExpired=Object(n.pureComputed)(()=>h.a.routeParams().isExpired),this.showSecondaryLocations=Object(n.pureComputed)(()=>{const e=this.job();return e.secondaryLocations&&e.secondaryLocations.length>0}),this.jobLang=Object(n.pureComputed)(()=>{const e=this.job();return e?e.lang:"en"}),this.requisitionId=Object(n.observable)(),this.afterDialogClose=this.afterDialogClose.bind(this),this.goBackLabel=Object(l.a)("job-details.a11y.back-button-label"),this.routeParamsSubscription=h.a.routeParams.subscribe(()=>{this.loaded(!1),this.job(null),this.loadJob(),$s.scrollTo(0)}),this.showCopyLink=Object(n.observable)(!1),this.loadJob()}loadJob(){const{jobId:e}=h.a.routeParams();this._checkIfExpired().then(()=>this._getJob(e)).then(this._onLoadedSuccess.bind(this)).then(this._handleConfidential.bind(this)).then(this._setCopyLinkVisibility.bind(this)).then(this._updateAddThisAttributes.bind(this)).then(this._generateGoogleJobSearchStr.bind(this)).catch(e=>console.error(e)).then(()=>this.loaded(!0)).then(()=>Js.i[Js.f].dispatch())}_checkIfExpired(){return this.isJobExpired()?Promise.reject():Promise.resolve()}afterDialogClose(){"job-preview"===h.a.route().id&&this._redirectToMainPage()}close(){this.isDetailsOpened(!1)}toggleFavourite(){Us.toggleFavourite(this.job())}dispose(){this.routeParamsSubscription.dispose()}_getJob(e){switch(h.a.route().id){case"job-formatting-preview":return Fs.getJobPreview(e);case"job-template-preview":return Fs.getJobTemplatePreview(e);default:return Fs.getJob(e)}}_setCopyLinkVisibility(){(function({routeId:e,jobId:t,isAddThisEnabled:i}){return i?Promise.resolve(!1):"job-formatting-preview"===e?Promise.resolve(!0):Fs.isJobPosted(t)})({routeId:h.a.route().id,isAddThisEnabled:this.isAddThisEnabled(),jobId:this.job().id}).then(this.showCopyLink)}_onLoadedSuccess(e){this.job(e),this.requisitionId(e.requisitionId),Ls.b.trackJobView(e.id),Bt.a.pageTitleUpdate.dispatch(e.title)}_updateAddThisAttributes(){const{id:e,lang:t,title:i,shortDescription:n,description:s}=this.job();this.addThisAttributes({"data-title":$e.sanitize(i),"data-description":$e.sanitize(n||s),"data-url":Ds.generate(e,t,{utm_medium:"jobshare"}),"data-media":this._getMediaForAddThis()})}_getMediaForAddThis(){const e=o.a.toJS(this.job().media),[t]=e.filter(e=>"image"===e.type);return t?t.url:null}_redirectToMainPage(){const{query:e}=h.a.routeParams();h.a.go("search",{query:e},{inherit:!1})}async _handleConfidential(){this.loaded(!1),this.job().isConfidential&&(this.isGJSEnabled(!1),await function({routeId:e,jobId:t,isEnabledGlobally:i}){return i?"job-formatting-preview"===e?Promise.resolve(!1):Fs.isJobPosted(t):Promise.resolve(!1)}({routeId:h.a.route().id,isEnabledGlobally:this.isAddThisEnabled(),jobId:this.job().id}).then(this.isAddThisEnabled)),this.loaded(!0)}_generateGoogleJobSearchStr(){return this.isGJSEnabled()?En.generateMarkup(this.job()).then(e=>this.googleJobSearchMarkup(e)):""}}var Ws={store(){const e={id:h.a.route().id,params:h.a.routeParams()},t=J.a.restore("previousRoute"),i=t?[...t,e]:[e];J.a.store("previousRoute",i)},moveBackOrFallbackTo(...e){const t=J.a.restore("previousRoute");if(!t)return e.length?h.a.go(...e):h.a.go("home-page");const i=t.pop();return t.length?J.a.store("previousRoute",t):J.a.remove("previousRoute"),h.a.go(i.id,i.params)},isPreviousRouteStored:()=>Boolean(J.a.restore("previousRoute"))};var Ks="<minimal-dialog params=\"isVisible: isDetailsOpened, afterClose: afterDialogClose\">\n    <dialog-bar> \x3c!-- ko template: 'job-details-header' --\x3e\x3c!-- /ko --\x3e </dialog-bar>\n\n    <dialog-body> \x3c!-- ko template: 'job-details-content' --\x3e\x3c!-- /ko --\x3e </dialog-body>\n</minimal-dialog>\n";n.components.register("job-details",{viewModel:zs,template:Ks}),n.components.register("job-details-fullscreen",{viewModel:class extends zs{constructor(){super(),this.isPreviousRouteStored=Ws.isPreviousRouteStored()}close(){Ws.moveBackOrFallbackTo("search")}},template:"<div class=\"app-dialog__main background-color-dialog job-fullpreview__container\">\n    \x3c!-- ko template: 'job-details-header' --\x3e\x3c!-- /ko --\x3e\n\n    <div>\x3c!-- ko template: 'job-details-content' --\x3e\x3c!-- /ko --\x3e</div>\n</div>\n"}),n.components.register("job-details-css",{viewModel:class extends zs{constructor(){super(),this.goBackLabel=Object(l.a)("job-details.a11y.back-to-my-profile-button-label")}_redirectToMainPage(){h.a.go("candidate-self-service")}afterDialogClose(){"candidate-self-service.job-preview"===h.a.route().id&&this._redirectToMainPage()}},template:Ks}),n.components.register("job-details-summary",{viewModel:class{constructor({job:e}){const t=Pn.generate(e());this.attributes={locations:t.filter(e=>"locations"===e.id),miscellaneous:t.filter(e=>"locations"!==e.id)}}},template:'<div class="job-meta">\n    <div class="job-meta__inner">\n        \x3c!-- ko if: attributes.miscellaneous.length --\x3e\n        <ul class="job-meta__list">\n            \x3c!-- ko foreach: attributes.miscellaneous --\x3e\n            \x3c!-- ko component: { name: \'job-meta-item\', params: $data } --\x3e\x3c!-- /ko --\x3e\n            \x3c!-- /ko --\x3e\n        </ul>\n        \x3c!-- /ko --\x3e\n\n        \x3c!-- ko if: attributes.locations.length --\x3e\n        <ul class="job-meta__list">\n            \x3c!-- ko foreach: attributes.locations --\x3e\n            <li class="job-meta__item">\n                \x3c!-- ko component: { name: \'job-meta-item\', params: $data } --\x3e\x3c!-- /ko --\x3e\n            </li>\n            \x3c!-- /ko --\x3e\n        </ul>\n        \x3c!-- /ko --\x3e\n    </div>\n</div>\n'});const{body:Gs}=document;var Ys={isVisible:Object(n.observable)(!1),open(){this.isVisible(!0),$s.store(),Gs.classList.add("body--menu-opened")},close(){this.isVisible(!1),$s.restore(),Gs.classList.remove("body--menu-opened")}};var Qs=new class{constructor(){var e,t,i;e=this,t="isSignedIn",i=Object(n.observable)(Is.a.isCandidateVerified()),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,L.a.userSessionChanged.add(()=>{this.isSignedIn(Is.a.isCandidateVerified())}),L.a.userSessionRemoved.add(()=>{this.isSignedIn(!1)})}};n.components.register("app-menu",{viewModel:class{constructor(){var e,t,i;e=this,t="isSignedIn",i=Qs.isSignedIn,t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,this.isVisible=Ys.isVisible,this.links=Ai.getHeaderPageLinks(),this.showLanguageSelector=c.a.languages.length>1,this.classSkipTo="app-menu"}close(){Ys.close()}onLinkClicked(e,t){return"A"===t.target.tagName&&this.close(),!0}dispose(){this.isVisible=null}decideSectionToSkipTo(){const e=document.querySelector(".app-menu__item"),t=document.querySelector(".language-select"),i=document.querySelector(".app-menu__miscellaneous-item");return e?".app-menu__content":t?".language-select":i?".app-menu__content":".app-menu__close"}},template:'<div\n    class="app-menu font-family-secondary"\n    role="menubar"\n    data-bind="boolAttr: {\'aria-hidden\': !isVisible()},\n                a11y.keysHandler: {keys: \'esc\', handler: close},\n                a11y.setInitialFocus: {isVisible: isVisible, delay: 600, focusOn: \'.app-menu__close\'},\n                a11y.trapFocus"\n>\n    <div class="app-menu__wrapper background-color-dialog">\n        <div\n            class="app-menu__header"\n            data-bind="a11y.skipTo: { elementsContainer: decideSectionToSkipTo(),\n         skipToElement: \'.\'+classSkipTo, updateSkip: isVisible()}"\n        >\n            <skip-navigation-link params="{ classLink: classSkipTo }"></skip-navigation-link>\n\n            \x3c!-- ko if: showLanguageSelector --\x3e\n            <language-select></language-select>\n            \x3c!-- /ko --\x3e\n            <button\n                class="app-menu__close"\n                data-bind="\n                    click: close,\n                    i18nAttr: { title: \'general.a11y.close-menu\' }"\n            ></button>\n        </div>\n        <div class="app-menu__content">\n            <ul class="app-menu__links" role="menu" data-bind="click: onLinkClicked.bind($component)">\n                \x3c!-- ko foreach: {data: links, as: \'link\'} --\x3e\n                <li class="app-menu__item">\n                    <a data-bind="attr: { href: link.url }, text: link.text"></a>\n\n                    \x3c!-- ko if: link.sublinks.length --\x3e\n                    <div class="app-menu__sublinks-wrapper">\n                        <div class="app-menu__sublinks-line background-color-secondary"></div>\n                        <ul class="app-menu__sublinks text-color-secondary" role="menu">\n                            \x3c!-- ko foreach: {data: link.sublinks, as: \'sublink\'} --\x3e\n                            <li class="app-menu__subitem">\n                                <a data-bind="attr: { href: sublink.url }, text: sublink.text"></a>\n                            </li>\n                            \x3c!-- /ko --\x3e\n                        </ul>\n                    </div>\n                    \x3c!-- /ko --\x3e\n                </li>\n                \x3c!-- /ko --\x3e\n            </ul>\n\n            \x3c!-- ko ifnot: isSignedIn --\x3e\n            <div class="app-menu__miscellaneous">\n                <div class="app-menu__miscellaneous-line background-color-secondary"></div>\n\n                <ul class="app-menu__miscellaneous-list text-color-secondary">\n                    <li class="app-menu__miscellaneous-item">\n                        <internal-user-login-button></internal-user-login-button>\n                    </li>\n                </ul>\n            </div>\n            \x3c!-- /ko --\x3e\n        </div>\n    </div>\n\n    <div class="app-menu__overlay" data-bind="click: close"></div>\n</div>\n'});n.components.register("app-menu-toggle",{viewModel:class{constructor(){this.isVisible=Ys.isVisible}open(){Ys.open()}},template:'<button\n    class="app-toggle-menu"\n    data-bind="\n        click: open,\n        attr: {\'aria-expanded\': isVisible},\n        i18nAttr: { title: \'general.a11y.open-menu\' }\n    "\n>\n    <i class="app-toggle-menu__strap"></i>\n    <i class="app-toggle-menu__strap"></i>\n    <i class="app-toggle-menu__strap"></i>\n</button>\n'});const Zs="IRC_CANDIDATE_RESUME";var Xs={mapResumeFromRest(e){const t=e.items[0]||{};return{sourceAttachmentId:t.attachmentId,fileName:t.attachmentName,mimeType:t.mimeType,categoryId:Zs,fileContents:t.attachmentContents,isReferral:!0}},mapUpdateHitCount(e){const t=e;return t.referralId&&(t.referralId=""+t.referralId),t}};var ea={get(){const e=J.a.restore("referrer");return"no-referrer"===e?null:e},store(){this.get()||J.a.store("referrer",document.referrer||"no-referrer")}};var ta={get:e=>W.get("/recruitingCEReferrals/"+e),getResume:e=>W.get(`/recruitingCEReferrals/${e}/child/attachments`).then(Xs.mapResumeFromRest),getReferralId(e){const t=this.getHitCountResponse(e),i=J.a.restore("referralId");if(i&&t&&t.referralId===i)return i},captureReferralId:e=>e.referralId?(J.a.store("referralId",e.referralId),e):Promise.reject("referral-removed"),restoreReferralId:()=>J.a.restore("referralId"),updateReferralHitCount(e,t){return this._updateHitCount({referralId:e,requisitionNumber:t,source:ea.get()})},updateShareHitCount(e,t){return this._updateHitCount({shareId:e,requisitionNumber:t,source:ea.get()})},_updateHitCount:e=>W.post("/recruitingCEReferralHits",e,{statusCodes:{500:e=>Promise.reject(e)},credentials:"same-origin"}).then(Xs.mapUpdateHitCount.bind(Xs)).then(e=>(J.a.store("referral",e),L.a.hitCounterUpdated.dispatch(),e)).catch(e=>{console.error(e)}),getHitCountResponse(e){const t=J.a.restore("referral");if(t&&t.requisitionNumber===e)return t},destroyHitCountResponse(e){this.getHitCountResponse(e)&&(J.a.remove("referralId"),J.a.remove("referral"),L.a.hitCounterUpdated.dispatch())}},ia={refreshIceRouteParams:new Ot.a};n.components.register("internal-user-login-button",{viewModel:class{constructor(){this.iceRouteName=s.a.observable(),this.iceRouteParams=s.a.observable(),this.iceUrl=s.a.pureComputed(()=>this._getIceUrl()),this._requisitionNumber=s.a.pureComputed(()=>h.a.routeParams().jobId),this._updateIceRoute(),this._subscription=this._requisitionNumber.subscribe(this._updateIceRoute.bind(this)),this._signal=ia.refreshIceRouteParams.add(this._updateIceRoute.bind(this))}_updateIceRoute(){const e=this._requisitionNumber(),t=ta.getHitCountResponse(e)||{};this._updateIceRouteName(e,t),this._updateIceRouteParams(t)}_updateIceRouteName(e,t){let i="ice-search";e&&(i=t.referralId?"ice-referred-job-details":t.shareId?"ice-shared-job-details":"ice-job-details"),this.iceRouteName(i)}_updateIceRouteParams(e){this.iceRouteParams({referralId:e.referralId,shareId:e.shareId})}_getIceUrl(){return h.a.interpolate(this.iceRouteName(),this.iceRouteParams())}dispose(){this._subscription.dispose(),this._signal.detach()}},template:"<a\n    data-bind=\"\n        i18n: 'general.employee-login-button',\n        attr: {\n            'href': iceUrl\n        }\"\n>\n</a>\n"});i(106);const na=[],sa=document.body;var aa={add(e){na.push(e),sa.classList.add("body--dialog-opened")},remove(e){const t=na.indexOf(e);-1!==t&&(na.splice(t,1),na.length||($s.restore(),sa.classList.remove("body--dialog-opened")))}};s.a.bindingHandlers.isDialogVisible={init(e,t){const{isVisible:i,afterClose:n}=t();function a(t){if(t)$s.store(),window.scrollTo(0,0),aa.add(e),ut()(e).ojDialog(),ut()(e).ojDialog("open");else try{ut()(e).ojDialog("close")}catch(e){}finally{aa.remove(e)}}function o(){aa.remove(e),"function"==typeof n&&n()}ut()(e).on("ojbeforeclose",o),a(i());const r=i.subscribe(a);s.a.utils.domNodeDisposal.addDisposeCallback(e,()=>{r.dispose(),ut()(e).off("ojbeforeclose",o)})}};class oa{constructor(e){this.baseClass=e.baseClass||"",this.isVisible=e.isVisible,this.afterClose=e.afterClose,this.focusCallback=e.focusCallback,this.skipToLinkClass=Object(n.pureComputed)(()=>"skip-navigation-link-dialog"+(this.isVisible()?"--active":"")),this.nodes={}}close(){this.isVisible(!1)}}var ra={createViewModel(e,t){const i=new oa(e);return t.templateNodes.filter(e=>e.tagName).forEach(e=>{const t=e.tagName.toLowerCase();i.nodes[t]=e.childNodes}),i}};n.components.register("minimal-dialog",{viewModel:ra,template:"<div\n    data-bind=\"ojComponent: {\n                    component: 'ojDialog',\n                    initialVisibility: 'hide',\n                    resizeBehavior: 'none',\n                    dragAffordance: 'none',\n                    cancelBehavior: 'none',\n                    focus: focusCallback,\n                    rootAttributes: {\n                        class: 'app-dialog font-family-primary ' + baseClass\n                    }\n                },\n                a11y.keysHandler: {keys: 'esc', handler: close},\n                isDialogVisible: {\n                    isVisible: isVisible,\n                    afterClose: afterClose\n                }\"\n>\n    <div class=\"oj-dialog-header app-dialog__hide-header\"></div>\n\n    <div class=\"app-dialog__wrapper\" data-bind=\"css: {'app-dialog__wrapper--active': isVisible}\">\n        <div\n            class=\"oj-dialog-body app-dialog__main background-color-dialog\"\n            data-bind=\"css: baseClass + '__main',\n            a11y.setInitialFocus: {isVisible: isVisible, focusOn: '.app-dialog__content', delay: 1000 }\"\n        >\n            <skip-navigation-link\n                params=\"{ classLink: skipToLinkClass() }\"\n                data-bind=\"a11y.skipTo:{ elementsContainer: '.app-dialog__content, .app-dialog__footer',\n              skipToElement: '.'+skipToLinkClass(), updateSkip: isVisible() }\"\n            ></skip-navigation-link>\n\n            \x3c!-- ko if: !nodes['dialog-bar'] --\x3e\n            <div class=\"app-dialog__bar text-color-secondary\">\n                <button\n                    class=\"app-dialog__close\"\n                    data-bind=\"click: close, i18nAttr: {'title': 'apply-flow.a11y.close'}\"\n                >\n                    <span class=\"app-dialog__close-label\">Esc</span>\n                </button>\n            </div>\n            \x3c!-- /ko --\x3e\n\n            \x3c!-- ko template: { nodes: nodes['dialog-bar'], data: $parent } --\x3e\x3c!-- /ko --\x3e\n            \x3c!-- ko template: { nodes: nodes['dialog-body'], data: $parent } --\x3e\x3c!-- /ko --\x3e\n        </div>\n    </div>\n\n    <div class=\"app-dialog__background\"></div>\n</div>\n"});i(140);const la=Boolean(window.frameElement&&"preview-frame"===window.frameElement.id);n.components.register("language-select",{viewModel:class{constructor(){this.activeLang=s.a.observable(c.a.siteLang),this.options=c.a.languages,this.isDisabled=la,this.ariaLabel=Object(l.a)("general.change-site-language"),this.optionsKeys={value:"code",label:"label"}}changeLanguage(e,{activeLang:t}){b.a.set(t())}},template:'<div class="language-select">\n    <oj-select-one\n        :aria-label="[[ariaLabel]]"\n        class="language-select__select"\n        disabled="[[isDisabled]]"\n        value="{{activeLang}}"\n        options="[[options]]"\n        on-value-changed="[[changeLanguage]]"\n        options-keys="[[optionsKeys]]"\n        picker-attributes="[[{ \'class\': \'input-row__listbox language-select__listbox background-color-dropdown\' }]]"\n    >\n    </oj-select-one>\n</div>\n'});n.components.register("spinner",{viewModel:class{constructor(e){this.className=e.className}},template:'<div class="minimal-spinner text-color-secondary" data-bind="css: className"></div>\n'});n.components.register("favourite-jobs",{viewModel:class{constructor(){this.hasFavourites=Us.hasFavourites(),this.favouriteJobs=Us.getFavourites(),this.isFavouritesListOpened=s.a.observable(!1)}removeFavourite(e){Us.removeFavourite(e)}toggleList(){this.isFavouritesListOpened(!this.isFavouritesListOpened())}closeList(){this.isFavouritesListOpened(!1)}openJobPreview(e){h.a.go("job-preview",{jobId:e.id})}generateJobUrl(e){return m.b.interpolate({},"job-details",{jobId:e.id})}},template:'\x3c!-- ko if: hasFavourites --\x3e\n\n<div\n    class="header-menu"\n    data-bind="css: { \'header-menu--active\': isFavouritesListOpened },\n        clickOutside: { action: closeList, when: isFavouritesListOpened }"\n>\n    <button\n        class="favourite-jobs__toggle"\n        data-bind="\n            click: toggleList,\n            i18nAttr: { title: \'favourite.navbar-btn\' },\n            css: { \'theme-color-1\': isFavouritesListOpened }\n        "\n    ></button>\n\n    <div class="favourite-jobs__dropdown-container">\n        <div\n            class="header-menu__dropdown favourite-jobs__dropdown"\n            data-bind="a11y.setInitialFocus: { isVisible: isFavouritesListOpened, delay: 400 }"\n        >\n            <ul class="favourite-jobs__list">\n                \x3c!-- ko foreach: { data: favouriteJobs, as: \'favouriteJob\' } --\x3e\n                <li class="favourite-jobs__item">\n                    <div class="favourite-jobs__item-description">\n                        <a\n                            class="favourite-jobs__link"\n                            data-bind="\n                            click: $parent.openJobPreview,\n                            attr: {\'href\': $parent.generateJobUrl(favouriteJob) }\n                        "\n                        >\n                            <div class="favourite-jobs__title" data-bind="text: favouriteJob.title"></div>\n\n                            <div\n                                class="favourite-jobs__subtitle text-color-secondary"\n                                data-bind="text: favouriteJob.primaryLocation"\n                            ></div>\n                        </a>\n                    </div>\n\n                    <button\n                        class="favourite-jobs__item-toggle text-color-favourite"\n                        data-bind="\n                        click: $parent.removeFavourite,\n                        i18nAttr: { title: \'favourite.a11y.unpin-job\' }\n                    "\n                    ></button>\n                </li>\n                \x3c!-- /ko --\x3e\n            </ul>\n        </div>\n    </div>\n</div>\n\n\x3c!-- /ko --\x3e\n'}),n.bindingHandlers.copyToClipboard={init(e,t){const{inputSelector:i,afterCallback:s}=t(),a=document.querySelector(i);function o(){a.focus(),a.setSelectionRange(0,a.value.length),document.execCommand("copy"),a.setSelectionRange(0,0),e.focus(),s()}e.addEventListener("click",o),n.utils.domNodeDisposal.addDisposeCallback(e,()=>{e.removeEventListener("click",o)})}};class ca{constructor(e,t){this.lang=t,this.jobLink=Ds.generate(e,t,{utm_medium:"jobshare"}),this.afterCopy=this.afterCopy.bind(this)}afterCopy(){bi.success(Object(l.a)("job-details.link-copied-label",null,this.lang),0)}}n.components.register("copy-link",{viewModel:{createViewModel(e,t){const i=Object(n.contextFor)(t.element);return new ca(e,i.$lang)}},template:'<input\n    type="text"\n    tabindex="-1"\n    readonly\n    class="share-widget__job-link"\n    data-bind="value: jobLink, i18nAttr: { \'aria-label\': \'job-details.copy-link-button\' }"\n/>\n\n<button\n    class="share-widget__action"\n    data-bind="hasFocus:true,\n        i18nAttr: {title: \'job-details.copy-link-button\'},\n        copyToClipboard: {\n            inputSelector: \'.share-widget__job-link\',\n            afterCallback: afterCopy\n        }"\n>\n    <i class="copy-link__icon"></i>\n</button>\n'});n.components.register("share-widget",{viewModel:class{constructor({jobId:e,isAddThisEnabled:t,addThisInlineSharing:i,addThisAttributes:s,showCopyLink:a}){this.isActive=Object(n.observable)(!1),this.isAddThisEnabled=t,this.addThisInlineSharing=i,this.addThisAttributes=s,this.showCopyLink=a,this.jobId=e}show(e,t){t.stopPropagation(),this.isActive(!0)}hide(e,t){t.stopPropagation(),this.isActive(!1)}toggleVisibility(e,t){return this.isActive()?this.hide(e,t):this.show(e,t)}},template:'<div class="share-widget">\n    \x3c!-- ko if: isAddThisEnabled --\x3e\n    <div data-bind="event: { mouseover: show, mouseout: hide }">\n        <button\n            class="share-widget__action"\n            data-bind="click: toggleVisibility,\n                i18nAttr: { title: \'job-details.share-this-job-link\' },\n                attr: { \'aria-expanded\': isActive },\n                event:{ touchstart: show }"\n        >\n            <i class="icon-share"></i>\n        </button>\n\n        <div class="share-widget__container" data-bind="css: { \'share-widget__container--active\': isActive }">\n            <button class="share-widget__close" data-bind="click: hide, event: { touchstart: hide }">\n                <i class="icon-close-thin"></i>\n            </button>\n\n            <div class="share-widget__addthis-widget">\n                <add-this-inline-tool\n                    params="inlineToolCode: addThisInlineSharing, attributes: addThisAttributes"\n                >\n                </add-this-inline-tool>\n            </div>\n\n            <div class="share-widget__line"></div>\n        </div>\n    </div>\n    \x3c!-- /ko --\x3e\n\n    \x3c!-- ko if: showCopyLink --\x3e\n    \x3c!-- ko component: {name: \'copy-link\', params: jobId()} --\x3e\x3c!-- /ko --\x3e\n    \x3c!-- /ko --\x3e\n</div>\n'});n.components.register("notifications",{viewModel:{instance:hi},template:'<div\n    class="notifications font-family-primary"\n    data-bind="css: { \'notifications--active\': showNotifications }"\n>\n    <ul class="notification__list">\n        \x3c!-- ko foreach: notifications --\x3e\n        <li role="alert" class="notifications__item text-color-primary" data-bind="css: className">\n            <span class="notifications__item-icon" aria-hidden="true"></span>\n\n            <div class="notifications__item-message" data-bind="html: text"></div>\n\n            <button\n                class="notifications__remove-item"\n                data-bind="click: $parent.remove.bind($parent, $data), i18nAttr: {\'aria-label\': \'apply-flow.a11y.close\'}"\n            ></button>\n        </li>\n        \x3c!-- /ko --\x3e\n    </ul>\n</div>\n'});n.components.register("company-logo",{viewModel:class{constructor(){this.logoMobile=s.a.observable(c.a.images?c.a.images.mobileLogoImageUrl:null),this.logoDesktop=s.a.observable(c.a.images?c.a.images.logoImageUrl:null),this._logoImageUrlSub=At.logoImageUrl.add(e=>this.logoDesktop(e)),this._mobileLogoImageUrlSub=At.mobileLogoImageUrl.add(e=>this.logoMobile(e))}dispose(){this._logoImageUrlSub.detach(),this._mobileLogoImageUrlSub.detach()}},template:'\x3c!-- ko if: logoMobile --\x3e\n<a\n    class="app-header__logo app-header__logo--mobile"\n    data-bind="route: \'home-page\',\n    i18nAttr: { title: \'general.a11y.go-to-home-page\' }"\n>\n    <img class="app-header__logo-image" data-bind="attr: {\'src\': logoMobile}" alt="" />\n</a>\n\x3c!-- /ko --\x3e\n\n\x3c!-- ko if: logoDesktop --\x3e\n<a\n    class="app-header__logo app-header__logo--desktop"\n    data-bind="route: \'home-page\',\n    i18nAttr: { title: \'general.a11y.go-to-home-page\' }"\n>\n    <img class="app-header__logo-image" data-bind="attr: {\'src\': logoDesktop}" alt="" />\n</a>\n\x3c!-- /ko --\x3e\n'});var da='<div class="scroll-suggest text-color-secondary">\n    <div class="scroll-suggest__mouse">\n        <div class="scroll-suggest__dot theme-color-1"></div>\n    </div>\n\n    <div class="scroll-suggest__arrows theme-color-1">\n        <div class="scroll-suggest__arrow"></div>\n        <div class="scroll-suggest__arrow"></div>\n    </div>\n</div>\n';n.components.register("scroll-indicator",{template:da}),n.components.register("cc-minimal-scroll-indicator",{template:da});n.components.register("indeterminate-progress-bar",{template:'<div class="indeterminate-progress-bar">\n    <div class="indeterminate-progress-bar__background background-color-secondary"></div>\n    <div class="indeterminate-progress-bar__line background-color-1" role="progressbar"></div>\n</div>\n'});const ua={title:void 0,firstName:void 0,middleNames:void 0,lastName:void 0,suffix:void 0,phone:{type:"mobile",countryCode:void 0,areaCode:void 0,number:void 0},email:void 0,retypeEmail:void 0,retypePhone:{type:"mobile",countryCode:void 0,areaCode:void 0,number:void 0},emailPreferredFlag:void 0,phonePreferredFlag:void 0,emailVerifiedFlag:void 0,phoneVerifiedFlag:void 0,isVerified:void 0,verificationMethod:void 0,preNameAdjunct:void 0,knownAs:void 0,previousLastName:void 0,honors:void 0,militaryRank:void 0,namInformation1:void 0,namInformation2:void 0,namInformation3:void 0,namInformation4:void 0,namInformation5:void 0,namInformation6:void 0,namInformation7:void 0,namInformation8:void 0,namInformation9:void 0,namInformation10:void 0,namInformation11:void 0,namInformation12:void 0,namInformation13:void 0,namInformation14:void 0,namInformation15:void 0,namInformation16:void 0,namInformation17:void 0,namInformation18:void 0,namInformation19:void 0,namInformation20:void 0,namInformation21:void 0,namInformation22:void 0,namInformation23:void 0,namInformation24:void 0,namInformation25:void 0,namInformation26:void 0,namInformation27:void 0,namInformation28:void 0,namInformation29:void 0,namInformation30:void 0,displayName:void 0,listName:void 0,exWorker:void 0,cwkCandidate:void 0};class pa{constructor(e){o.a.fromJS(ua,{},this),e&&o.a.fromJS(e,{},this),this.phoneNumber=s.a.pureComputed({read:this._getPhoneNumber,write:this._setPhoneNumber,owner:this.phone}),this.retypePhoneNumber=s.a.pureComputed({read:this._getPhoneNumber,write:this._setPhoneNumber,owner:this.retypePhone})}_getPhoneNumber(){return{countryCode:this.countryCode()||"",areaCode:this.areaCode()||"",number:this.number()||""}}_setPhoneNumber(e){return this.countryCode(e.countryCode||""),this.areaCode(e.areaCode||""),this.number(e.number||""),this}}const ha={country:void 0,region1:void 0,region2:void 0,region3:void 0,city:void 0,addressLine1:void 0,addressLine2:void 0,addressLine3:void 0,addressLine4:void 0,addressLine5:void 0,postalCode:void 0,longPostalCode:void 0,building:void 0,floorNumber:void 0,addlAddressAttribute1:void 0,addlAddressAttribute2:void 0,addlAddressAttribute3:void 0,addlAddressAttribute4:void 0,addlAddressAttribute5:void 0};var ma=function(e){o.a.fromJS(ha,{},this),e&&o.a.fromJS(e,{},this)};function ba(e){o.a.fromJS({id:void 0,fileName:"",fileSize:0,fileContents:void 0,categoryId:void 0,blockId:void 0,url:void 0,sourceAttachmentId:void 0,action:"CREATE",isReferral:!1,isResume:!1,isCoverLetter:!1,isMiscellaneous:!1,isCancelled:!1,appDraftId:void 0},{},this),o.a.fromJS(e,{ignore:["mimeType"]},this),this.getMimeType=()=>e.mimeType,this.isResume(this.categoryId()===Zs),this.isCoverLetter("IRC_CANDIDATE_COVERLETTER"===this.categoryId()),this.isMiscellaneous("MISC"===this.categoryId())}function fa(e={}){o.a.fromJS({id:void 0,url:void 0,description:void 0,type:void 0,action:void 0},{},this),o.a.fromJS(e,{},this)}let ga=0;var va={next:()=>++ga};class _a{constructor(e,t){(null==t?void 0:t.id)||(e.id=va.next()),o.a.fromJS(e,{},this),t&&o.a.fromJS(t,{},this),e.id=null}isNew(){return"CREATE"===this.action()}clear(e,t){const i=Object.create(e);["id","action","contentTypeId",t].forEach(e=>{i[e]=s.a.unwrap(this[e])}),o.a.fromJS(i,this)}fill(e){o.a.fromJS(e,this)}getSnapshot(){return o.a.toJS(this)}}const ya={id:null,action:"CREATE",flowVersionId:null,sectionId:null,contentTypeId:null,contentItemId:null,languageId:null,language:null,writingLevelId:null,speakingLevelId:null,readingLevelId:null,nativeSpeakerFlag:null,ableToTranslateFlag:null,ableToTeachFlag:null,evaluatedOn:null,evaluationType:null,evaluationLocation:null,comments:null,readingModelId:null,writingModelId:null,speakingModelId:null};class xa extends _a{constructor(e){super(ya,e)}clear(){super.clear(ya,"languageId")}}const wa={id:null,action:"CREATE",flowVersionId:null,sectionId:null,contentTypeId:null,contentItemId:null,workPreferenceId:null,natTravelFlag:null,natTravelFrequency:null,natTravelRequiredFlag:null,intlTravelFlag:null,intlTravelFrequency:null,intlTravelRequiredFlag:null,relocateFlag:null,allLocationsFlag:null,preferredLocationId1:null,preferredLocationId2:null,preferredLocationId3:null,preferredLocationId4:null,excludedLocationId1:null,excludedLocationId2:null,excludedLocationId3:null,excludedLocationId4:null,relocateDuration:null,relocationReason:null,comments:null,tempAssignFlag:null,partAssignFlag:null,flexibleWorkFlag:null,minimumPay:null,currencyCode:null,payFrequency:null,payRange:null,fullTimeEquivalent:null,workDays:null,workHours:null,workMonths:null,workYears:null};class ka extends _a{constructor(e){super(wa,e)}clear(){super.clear(wa,"workPreferenceId")}}const Ia={id:null,action:"CREATE",flowVersionId:null,sectionId:null,contentTypeId:null,contentItemId:null,certificationId:null,certificationName:null,stateProvinceCode:null,countryCode:null,issuedBy:null,certificationNumber:null,issueDate:null,originalIssueYear:null,expirationDate:null,renewalDate:null,lastRenewalDate:null,renewalInprogressFlag:null,renewalRequiredFlag:null,actualCompletionDate:null,status:null,verifiedFlag:null,comments:null,educationalEstablishmentId:null,educationalEstablishment:null,completedTrainingUnits:null,restrictions:null,totalAmount:null,completedAmount:null,certificationUrl:null,title:null};class Ca extends _a{constructor(e){super(Ia,e)}clear(){super.clear(Ia,"certificationId")}}const Sa={id:null,action:"CREATE",flowVersionId:null,sectionId:null,contentTypeId:null,contentItemId:null,previousEmploymentId:null,employerName:null,jobTitle:null,startDate:null,endDate:null,responsibilities:null,employerCity:null,stateProvinceCode:null,countryCode:null,currentJobFlag:null,fullTimeCode:null,internalFlag:null,businessType:null,employerPhone:null,department:null,jobFamilyId:null,jobFunction:null,otherJobFunction:null,achievements:null,directReports:null,startingPosition:null,supervisorName:null,supervisorTitle:null,supervisorEmail:null,supervisorPhone:null,contactSupervisorFlag:null,leavingReason:null,additionalInformation:null,startCompensation:null,endCompensation:null,otherCompensation:null,companyUrl:null};class Ea extends _a{constructor(e){super(Sa,e)}clear(){super.clear(Sa,"previousEmploymentId")}}const Oa={id:null,action:"CREATE",flowVersionId:null,sectionId:null,contentTypeId:null,contentItemId:null,educationId:null,degreeName:null,major:null,educationalEstablishmentId:null,educationalEstablishment:null,startDate:null,endDate:null,stateProvinceCode:null,countryCode:null,city:null,averageGrade:null,yearAcquired:null,gpa:null,graduatedFlag:null,trmnlDegDiscpFlag:null,dateAcquired:null,educator:null,minor:null,projectedCompletionDate:null,fee:null,completedAmount:null,totalAmount:null,comments:null,reimbursements:null,completedTraningUnits:null,status:null,feeCurrency:null,tuitionMethod:null,eduLevelCompletedFlag:null,awardingBody:null,title:null,highestEduLevel:null,areaOfStudy:null,department:null,duration:null,durationUnits:null,academicStanding:null,partTimeFlag:null,description:null,activitySummary:null,educationUrl:null,educationLevel:null};class Aa extends _a{constructor(e){super(Oa,e)}clear(){super.clear(Oa,"educationId")}}const Pa={id:null,skillId:null,action:"CREATE",skills:null,dateAchieved:null,yearsOfExperience:null,projectName:null,speciality:null,comments:null,description:null,contentTypeId:null,flowVersionId:null,sectionId:null};class Ta extends _a{constructor(e){super(Pa,e)}clear(){super.clear(Pa,"skillId")}}class ja{constructor(e){const t={questionId:void 0,answer:void 0,isHidden:!1,type:void 0};e&&Object.assign(t,e),o.a.fromJS(t,{},this)}bindFormElementVisibility(e){this.isHidden=e}}const Ra={questions:{key:({questionId:e})=>Object(n.unwrap)(e),create:({data:e})=>e instanceof ja?e:new ja(e)}};class Fa{constructor(e={}){const t={blockCode:e.blockCode,readWriteServiceUrl:void 0,requisitionNumber:void 0,questionnaireId:void 0,questionnaireVersionNumber:void 0,questions:[]};e&&Object.assign(t,e),o.a.fromJS(t,Ra,this)}}var Da=function(e){this.id=s.a.observable(),this.value=s.a.observable(),o.a.fromJS(e,{include:"value"},this)};const La={id:null,itemId:null,action:"CREATE",issueDate:null,expirationDate:null,placeOfIssue:null,country:null,nationalIdtype:null,nationalId:null,readOnly:!1};class Na extends _a{constructor(e){super(La,e)}}class Ma{constructor(e,t,i,s={}){this.id=t,this.link=i,this.attributes=e.reduce((e,t)=>(t.attributes.readonly||(e[t.name]=Object(n.observable)(s[t.name])),e),{})}updateIdAndLink({id:e,link:t}){this.id=e,this.link=t}}class Va{constructor({name:e,link:t,formElements:i,rows:s=[],removedRows:a=[]}){this.name=e,this.link=t,this.formElements=i,this.rows=Object(n.observableArray)(),this.removedRows=a,this._fillWithCandidateData(s)}get firstRow(){return this.rows()[0]}addRow(e,t,i){const n=new Ma(this.formElements,e,t,i);return this.rows.push(n),n}isEmpty(){return!this.rows().length}remove(e){const[t]=this.rows().filter(t=>t.attributes===e);return this.rows.remove(t),t.id&&this.removedRows.push(t),t}updateIdsAndLinks({link:e,rows:t}){this.link=e,this.rows().forEach((e,i)=>e.updateIdAndLink(t[i]))}_fillWithCandidateData(e){e.forEach(e=>this.addRow(e.id,e.link,e.attributes))}}let Ba;const qa={set(e){Ba=e},clear(){Ba=null}};function Ua(e,t){Ba&&e&&Ba.addRemovedProfileItem(e,t)}function Ha(e){Ba&&e&&Ba.clearRemovedProfileItems(e)}n.extenders.stashRemoved=function(e,{collectionName:t,uidPropertyName:i}){const n=e,s=i;let a=[];n.subscribe(e=>{e.forEach(e=>{const i=e.value,n=a.some(e=>e[s]()===i[s]());i[s]()&&!n&&"deleted"===e.status&&(a.push(i),Ua(t,i))})},null,"arrayChange"),n.markAsDeleted=e=>{a.push(e),Ua(t,e)},n.getRemovedItems=()=>a.filter(e=>"CREATE"!==e.action()).filter(e=>n().every(t=>t[s]()!==e[s]())).map(e=>(e.action("DELETE"),e)),n.clearRemovedItems=()=>{a=[],Ha(t)},n.clearItems=()=>{n([]),a=[],Ha(t)},n.pushRemovedItems=e=>{a.push(...e)}};class $a{constructor(e,t){this.collectionName=e,this.uidPropertyName=t||"id"}}const Ja={103:"licensesAndCertificates",106:"education",109:"languages"},za={attachments:{key:e=>s.a.unwrap(e.id),create(e){let t=e.data;return t instanceof ba==!1&&(t=new ba(t)),t}},linkedSites:{key:e=>s.a.unwrap(e.id),create(e){let t=e.data;return t instanceof fa==!1&&(t=new fa(t)),t}},education:{key(e){const t=s.a.unwrap(e.id);return`${s.a.unwrap(e.contentTypeId)}-${s.a.unwrap(e.educationId)}-${t}`},create(e){let t=e.data;return t instanceof Aa==!1&&(t=new Aa(t)),t}},experience:{key(e){const t=s.a.unwrap(e.id);return`${s.a.unwrap(e.contentTypeId)}-${s.a.unwrap(e.previousEmploymentId)}-${t}`},create(e){let t=e.data;return t instanceof Ea==!1&&(t=new Ea(t)),t}},languages:{key(e){const t=s.a.unwrap(e.id);return`${s.a.unwrap(e.contentTypeId)}-${s.a.unwrap(e.languageId)}-${t}`},create(e){let t=e.data;return t instanceof xa==!1&&(t=new xa(t)),t}},licensesAndCertificates:{key(e){const t=s.a.unwrap(e.id);return`${s.a.unwrap(e.contentTypeId)}-${s.a.unwrap(e.certificationId)}-${t}`},create(e){let t=e.data;return t instanceof Ca==!1&&(t=new Ca(t)),t}},workPreferences:{key(e){const t=s.a.unwrap(e.id);return`${s.a.unwrap(e.contentTypeId)}-${s.a.unwrap(e.workPreferenceId)}-${t}`},create(e){let t=e.data;return t instanceof ka==!1&&(t=new ka(t)),t}},skills:{key(e){const t=s.a.unwrap(e.id),i=s.a.unwrap(e.skillId);return`${s.a.unwrap(e.contentTypeId)}-${i}-${t}`},create(e){let t=e.data;return t instanceof Ta==!1&&(t=new Ta(t)),t}},questionnaires:{key:e=>s.a.unwrap(e.questionnaireId),create(e){let t=e.data;return t instanceof Fa==!1&&(t=new Fa(t)),t}},regulatoryResponses:{key:e=>s.a.unwrap(e.id),create(e){let t=e.data;return t instanceof Da==!1&&(t=new Da(t)),t}},personalIdentifyingInformationItems:{create:({data:e})=>e instanceof Na?e:new Na(e)},extraInformation:{key:e=>s.a.unwrap(e.name),create:({data:e})=>e instanceof Va?e:new Va(e)}},Wa={id:void 0,basicInformation:new pa,address:new ma,dateOfBirth:void 0,isDateOfBirthInProfile:!1,attachments:[],linkedSites:[],profileItems:[],personalIdentifyingInformationItems:[],education:[],experience:[],languages:[],licensesAndCertificates:[],workPreferences:[],extraInformation:[],skills:[],questionnaires:[],regulatoryResponses:[],preferences:{},subscribeToJobAlert:!1,hasEmptySitePreferences:!1,isNew(){return!this.id()},clear(){this.attachments.clearItems(),this.linkedSites.clearItems(),this.profileItems.clearItems(),this.education.clearItems(),this.experience.clearItems(),this.languages.clearItems(),this.licensesAndCertificates.clearItems(),this.workPreferences.clearItems(),this.questionnaires([]),this.regulatoryResponses([]),this.personalIdentifyingInformationItems.clearItems(),this.extraInformation([]),this.skills.clearItems(),this.dateOfBirth(),this.hasEmptySitePreferences(!1),this.subscribeToJobAlert(!1)},clearAfterImport(){this.attachments([]),this.linkedSites([]),this.profileItems([]),this.education([]),this.experience([]),this.languages([]),this.licensesAndCertificates([]),this.workPreferences([]),this.skills([])},filterProfileItems(e){return this.profileItems().filter(t=>t.contentTypeId()===e).concat(this[Ja[e]]()).filter(e=>e.contentItemId).map(e=>e.contentItemId())}},Ka=o.a.fromJS(Wa,za);Ka.attachments.extend({stashRemoved:new $a("attachments")}),Ka.linkedSites.extend({stashRemoved:new $a("linkedSites")}),Ka.profileItems.extend({stashRemoved:new $a("profileItems","profileItemId")}),Ka.personalIdentifyingInformationItems.extend({stashRemoved:new $a("personalIdentifyingInformationItems")}),Ka.education.extend({stashRemoved:new $a("education","educationId")}),Ka.experience.extend({stashRemoved:new $a("experience","previousEmploymentId")}),Ka.languages.extend({stashRemoved:new $a("languages","languageId")}),Ka.licensesAndCertificates.extend({stashRemoved:new $a("licensesAndCertificates","certificationId")}),Ka.workPreferences.extend({stashRemoved:new $a("workPreferences","workPreferenceId")}),Ka.skills.extend({stashRemoved:new $a("skills","skillId")});var Ga=Ka,Ya=i(15);function Qa(e){const{emailPreferredFlag:t,phonePreferredFlag:i}=e;return t?Ya.EMAIL:i?Ya.SMS:void 0}var Za={mapFromRest:e=>new pa({title:e.title,firstName:e.firstName,middleNames:e.middleNames,lastName:e.lastName,suffix:e.suffix,phone:{type:"mobile",countryCode:e.mobilePhoneCountryCode,areaCode:e.mobilePhoneAreaCode,number:e.mobilePhoneNumber},email:e.email,emailPreferredFlag:e.emailPreferredFlag,phonePreferredFlag:e.phonePreferredFlag,emailVerifiedFlag:e.emailVerifiedFlag,phoneVerifiedFlag:e.phoneVerifiedFlag,isVerified:e.emailVerifiedFlag||e.phoneVerifiedFlag,preNameAdjunct:e.preNameAdjunct,knownAs:e.knownAs,previousLastName:e.previousLastName,honors:e.honors,militaryRank:e.militaryRank,namInformation1:e.namInformation1,namInformation2:e.namInformation2,namInformation3:e.namInformation3,namInformation4:e.namInformation4,namInformation5:e.namInformation5,namInformation6:e.namInformation6,namInformation7:e.namInformation7,namInformation8:e.namInformation8,namInformation9:e.namInformation9,namInformation10:e.namInformation10,namInformation11:e.namInformation11,namInformation12:e.namInformation12,namInformation13:e.namInformation13,namInformation14:e.namInformation14,namInformation15:e.namInformation15,namInformation16:e.namInformation16,namInformation17:e.namInformation17,namInformation18:e.namInformation18,namInformation19:e.namInformation19,namInformation20:e.namInformation20,namInformation21:e.namInformation21,namInformation22:e.namInformation22,namInformation23:e.namInformation23,namInformation24:e.namInformation24,namInformation25:e.namInformation25,namInformation26:e.namInformation26,namInformation27:e.namInformation27,namInformation28:e.namInformation28,namInformation29:e.namInformation29,namInformation30:e.namInformation30,displayName:e.displayName,listName:e.listName,exWorker:e.exWorkerFlag,cwkCandidate:e.cwkCandidateFlag,verificationMethod:Qa(e)}),mapToRest(e,t){const i=o.a.toJS(e),n=Intl.DateTimeFormat().resolvedOptions().timeZone;return t&&function(e){const{verificationMethod:t}=e;t===Ya.EMAIL&&(e.emailPreferredFlag="Y",e.phonePreferredFlag="N"),t===Ya.SMS&&(e.phonePreferredFlag="Y",e.emailPreferredFlag="N")}(i),i.mobilePhoneCountryCode=i.phone.countryCode,i.mobilePhoneAreaCode=i.phone.areaCode,i.mobilePhoneNumber=i.phone.number,delete i.phone,delete i.exWorker,delete i.cwkCandidate,delete i.verificationMethod,delete i.isVerified,delete i.retypeEmail,delete i.retypePhone,{...i,preferredTimezone:n}}},Xa={mapFromRest:e=>new ma({country:e.country,region1:e.region1,region2:e.region2,region3:e.region3,city:e.city,addressLine1:e.addressLine1,addressLine2:e.addressLine2,addressLine3:e.addressLine3,addressLine4:e.addressLine4,addressLine5:e.addressLine5,postalCode:e.postalCode,longPostalCode:e.longPostalCode,building:e.building,floorNumber:e.floorNumber,addlAddressAttribute1:e.addlAddressAttribute1,addlAddressAttribute2:e.addlAddressAttribute2,addlAddressAttribute3:e.addlAddressAttribute3,addlAddressAttribute4:e.addlAddressAttribute4,addlAddressAttribute5:e.addlAddressAttribute5}),mapToRest:e=>o.a.toJS(e)};function eo(e){return"document"===e.type}function to(e){const{id:t}=o.a.toJS(e);return{sourceAttachmentId:t}}var io={ATTACHMENT_TYPE:"document",mapFileAttachmentsToRest(e){return e.map(e=>this.mapFileAttachmentToRest(e))},mapFileAttachmentToRest(e){const{id:t,categoryId:i,fileName:n,fileContents:s}=o.a.toJS(e);return{id:t,type:"document",category:i||"MISC",attachment:n,fileContents:s}},mapDraftFileAttachmentToRest(e){const{id:t,categoryId:i,fileName:n,fileContents:s}=o.a.toJS(e);return{action:"draft",id:t,type:"document",category:i||"MISC",attachment:n,fileContents:s}},mapDraftFileAttachmentFromRest:({appdraftId:e,category:t,attachment:i,id:n,fileContents:s,isReferral:a})=>new ba({appDraftId:e,type:"document",categoryId:t||"MISC",fileName:i,id:n,action:"",fileContents:s,isReferral:a}),mapCreateDraftFileAttachmentFromRest(e){const t=this.mapDraftFileAttachmentFromRest(e);return t.fileContents(void 0),t},mapDraftFileAttachmentsFromRest(e){return(e.items||[]).filter(eo).map(this.mapDraftFileAttachmentFromRest)},mapFileAttachmentsFromRest(e){return(e.items||[]).filter(eo).map(this.mapFileAttachmentFromRest)},mapFileAttachmentFromRest:({id:e,sourceAttachmentId:t,attachment:i,fileContents:n,category:s,isReferral:a})=>new ba({id:e,sourceAttachmentId:t,fileName:i,fileContents:n,categoryId:"MISC"===s?"":s,action:"",isReferral:a}),mapDraftAttachmentsToSubmit(e,t){const i=t.map(to);return{candidateNumber:e.id(),email:e.basicInformation.email(),lastName:e.basicInformation.lastName(),attachments:i,action:"savedraft"}},mapCopyDraftAttachment(e){const{id:t,categoryId:i,fileName:n,sourceAttachmentId:s,isReferral:a}=o.a.toJS(e);return{action:"copyFromReferral",sourceAttachmentId:a?s:t,type:"document",category:i||"MISC",attachment:n}},mapMiscAttachmentsToRest:e=>e.filter(({isMiscellaneous:e})=>e).map(({id:e})=>e).join(",")};function no(e){return e.attachment}function so(e){return e&&"URL"===e.type}var ao={ATTACHMENT_TYPE:"URL",mapSiteLinksToRest(e){return e.map(this.mapSiteLinkToRest).filter(no)},mapSiteLinkToRest(e){const t=o.a.toJS(e);return{type:"URL",attachment:(t.url||"").trim(),category:"IRC_CANDIDATE_SOCIAL",description:t.description}},mapSiteLinksFromRest(e){return(e.items||[]).filter(so).map(this.mapSiteLinkFromRest)},mapSiteLinkFromRest(e){const t=e||{};return new fa({id:t.id,url:t.attachment,categoryId:t.category,description:t.description})}};var oo=103,ro=106,lo=109,co=117,uo=129,po=134;const ho={[oo]:Ca,[ro]:Aa,[lo]:xa,[co]:ka,[uo]:Ea,[po]:Ta};var mo={getModel:e=>ho[e]};const bo={106:{mapToRest:e=>(e.educationalEstablishmentId&&(e.educationalEstablishment=null),e)}};function fo(e,t,i){return Object.keys(e).filter(e=>t.indexOf(e)>-1).filter(t=>void 0!==e[t]).forEach(t=>{e[t]=i(e[t])}),e}function go(e){return Object.keys(e).filter(e=>e.indexOf("Flag")>-1).filter(t=>"boolean"==typeof e[t]).forEach(t=>e[t]=e[t]?"Y":"N"),e}var vo={mapProfileItemsFromRest(e,t,i){return(e.items||[]).map(e=>this.mapProfileItemFromRest(e,t,i))},mapProfileItemsFromImport(e=[]){return e.map(this.mapProfileItemFromImport.bind(this))},mapProfileItemFromImport(e){let t=e;delete t.profileId,t.profileItemId=null,t=go(t);return new(mo.getModel(t.contentTypeId))(t)},mapProfileItemFromRest(e,t,i){let n=e;n.action="UPDATE",n=fo(n,i.clob,Li.decode),n=go(n);return new(mo.getModel(t))(Object.assign(n,{contentTypeId:t}))},mapToRest(e,t){let i=e;"CREATE"===i.action()&&i[t.primaryKey](null),i.contentTypeId(parseInt(i.contentTypeId(),10)),i=o.a.toJS(i,{ignore:["id","action","isNew"]}),i=function(e){const t=e;return Object.keys(t).filter(e=>e.indexOf("itemText")>-1&&-1===e.indexOf("Flag")).forEach(e=>{t[e]&&(t[e]=t[e].toString())}),t}(i),i=function(e){return Object.keys(e).filter(t=>"string"==typeof e[t]).forEach(t=>e[t]=e[t].trim()),e}(i);const n=bo[i.contentTypeId];return n&&(i=n.mapToRest(i)),i=function(e,t){return Object.keys(e).forEach(i=>{-1===t.indexOf(i)&&delete e[i]}),e}(i,t.all),i=function(e,t){return e[t]||delete e[t],e}(i,t.primaryKey),i=fo(i,t.clob,Li.encode),i=function(e){return Object.keys(e).filter(e=>e.indexOf("Flag")>-1).filter(t=>"string"==typeof e[t]).forEach(t=>e[t]="Y"===e[t]),e}(i),function(e){const t=e;return Object.keys(t).filter(e=>e.indexOf("Date")>-1).forEach(e=>{t[e]||delete t[e]}),t}(i)}},_o=i(20);function yo(e){e.id(void 0)}function xo(e){e.basicInformation.verificationMethod(Ga.basicInformation.verificationMethod()),e.basicInformation.verificationMethod()===Ya.SMS&&function(e){const{countryCode:t,areaCode:i,number:n}=o.a.toJS(Ga.basicInformation.phone);e.basicInformation.phone.countryCode(t),e.basicInformation.phone.areaCode(i),e.basicInformation.phone.number(n)}(e),e.basicInformation.phonePreferredFlag(Ga.basicInformation.phonePreferredFlag()),e.basicInformation.emailPreferredFlag(Ga.basicInformation.emailPreferredFlag()),e.basicInformation.emailVerifiedFlag(Ga.basicInformation.emailVerifiedFlag()),e.basicInformation.phoneVerifiedFlag(Ga.basicInformation.phoneVerifiedFlag()),e.basicInformation.isVerified(Ga.basicInformation.isVerified())}var wo={mapCandidateToRest(e){const t=o.a.toJS(e);_o.a.isKnownUnverifiedCandidate()&&(t.id=_o.a.getUnverifiedCandidateId());const i={candidateNumber:t.id},n=Za.mapToRest(t.basicInformation,e.isNew()),a=Xa.mapToRest(t.address);return s.a.utils.extend(i,n),s.a.utils.extend(i,a),i},mapCandidateFromRest(e){const t=function(e){const t=(e.licensesAndCertifications||[]).concat(e.workPreferences||[]).concat(e.educations||[]).concat(e.workExperiences||[]).concat(e.languages||[]);return{id:e.candidateNumber,basicInformation:Za.mapFromRest(e),address:Xa.mapFromRest(e),profileItems:t,dateOfBirth:e.dateOfBirth,isDateOfBirthInProfile:Boolean(e.dateOfBirth)}}(e);return t.profileItems=vo.mapProfileItemsFromRest({items:t.profileItems}),t},mapCandidateFromImport(e){const t={id:e.candidateNumber,basicInformation:Za.mapFromRest(e),address:Xa.mapFromRest(e)};Ba||(e.attachments=e.attachments.map(e=>{return delete(t=e).id,t;var t})),xo(t);const i=Ba?io.mapDraftFileAttachmentsFromRest.bind(io):io.mapFileAttachmentsFromRest.bind(io);return t.attachments=i({items:e.attachments}),t.linkedSites=ao.mapSiteLinksFromRest({items:e.attachments}),t.linkedSites.forEach(yo),t.licensesAndCertificates=vo.mapProfileItemsFromImport(e.licensesAndCertifications),t.workPreferences=vo.mapProfileItemsFromImport(e.workPreferences),t.education=vo.mapProfileItemsFromImport(e.educations),t.experience=vo.mapProfileItemsFromImport(e.workExperiences),t.languages=vo.mapProfileItemsFromImport(e.languages),t.skills=vo.mapProfileItemsFromImport(e.skills),t}},ko={create(e){const t=Object.assign(e,{siteNumber:c.a.siteNumber});return U.a.post("/recruitingCESourceTrackings",t)}};let Io=J.a.restore("source-tracking-utm"),Co=J.a.restore("source-tracking-pst");function So(){const{query:e}=h.a.routeParams(),t=e||{};let i={source:t.utm_source,sourceMedium:t.utm_medium,campaignCode:t.utm_campaign,campaignPostId:t.utm_post_id,referrerHeader:ea.get(),sourceInternalInfo:t.utm_internal_info};return i=Object.keys(i).filter(e=>void 0!==i[e]).reduce((e,t)=>(e[t]=i[t],e),{}),i}function Eo(e){return Co&&s.a.utils.extend(e,{parentSourceTrackingId:Co}),ko.create(e).then(e=>{var t;return(t=e.sourceTrackingId)&&!Co&&(Co=t,J.a.store("source-tracking-pst",t)),e}).catch(e=>console.error(e))}var Oo={LEVEL:{JOB_APPLICATION:"JOB_APPLICATION"},storeUtmParams:function(){const e=So();Io=e,J.a.store("source-tracking-utm",e)},create(e){J.a.store("source-tracking-last-job",e.requisitionNumber);const t=Io||So();return Eo(s.a.utils.extend(e,t))},createWithoutStorage(e){const t=So(),i=s.a.utils.extend(e,t);return ko.create(i).catch(e=>console.error(e))},shouldTraceSource:e=>J.a.restore("source-tracking-last-job")!==e},Ao=i(10),Po=i(25),To=i(30);function jo(e){const t=ta.getHitCountResponse(e)||{},i={sourceLevel:Oo.LEVEL.JOB_APPLICATION,requisitionNumber:e,referralId:t.referralId,shareId:t.shareId};return Oo.create(i)}var Ro={get claimedLastName(){return this._claimedLastName},createToken(e){return this._claimedLastName=null,jo(e.jobId).then(t=>Is.a.create({...e,sourceTrace:t})).then(e=>!1!==e.cookieMatchedFlag||e.challengeFlag?e.challengeFlag?Promise.reject(Ao.b):e.accessCode?Object(To.e)():Promise.reject("token-verification"):Promise.reject(Po.f))},verifyLastName(e){return this._claimedLastName=null,Is.a.create(e).then(e=>e.challengeFlag?Promise.reject(Ao.b):Object(To.e)()).catch(t=>(t===Po.c&&(this._lastName=e.lastName),Promise.reject(t)))},claimPhoneNumber({candidate:e}){return Is.a.claimPhoneNumber({candidate:e}).then(e=>e.challengeFlag?(this._claimedLastName=this._lastName,Promise.reject(Ao.b)):e)},resendToken:e=>jo(e.jobId).then(t=>Is.a.create({...e,sourceTrace:t}))};const Fo={103:"licensesAndCertificates",106:"education",109:"languages",117:"workPreferences",129:"experience",134:"skills"},Do={103:"certificationId",106:"educationId",109:"languageId",117:"workPreferenceId",129:"previousEmploymentId",134:"skillId"};function Lo(e){if(e)for(const t of e)t.id=va.next()}function No(e,t){return Promise.resolve(o.a.fromJS(t||{},e))}var Mo={save(e){const t=wo.mapCandidateToRest(e);return U.a.post("/recruitingCECandidates",t,{statusCodes:{400({response:e}){let t;return e.includes("ORA_IRC_CAND_EXISTS")&&(t="candidate-exists"),Promise.reject(t)}}}).then(wo.mapCandidateFromRest).then(t=>(e.id(t.id),Ls.b.trackCandidateNumber(t.id),t.basicInformation.isVerified()&&Is.a.setCandidateNumber(t.id),e))},get:e=>e?U.a.get(`/recruitingCECandidates/${e}?onlyData=true`).then(wo.mapCandidateFromRest):Promise.reject("candidateId is required"),create(e){if(!e)return Promise.reject();const t=e.verificationMethod||function(e){return e.phone?Ya.SMS:Ya.EMAIL}(e);return function(e,t){return t===Ya.EMAIL?Promise.resolve({email:e.email}):re.extractCountryCode(e.phone).then(t=>({mobilePhoneCountryCode:t,mobilePhoneAreaCode:"",mobilePhoneNumber:e.phone.replace(re.LEADING_CHARS_REGEX,"").slice(t.length),email:e.email}))}(e,t).then(wo.mapCandidateFromRest.bind(wo)).then(e=>(e.basicInformation.verificationMethod(t),function(e){Ro.claimedLastName&&e.basicInformation.lastName(Ro.claimedLastName)}(e),e))},clear:e=>Promise.resolve(e.clear()),loadForToken(e,t){return this.clear(e).then(this.get.bind(this,t.candidateNumber)).catch(this.get.bind(this,_o.a.getUnverifiedCandidateId())).catch(this.create.bind(this,t)).then(No.bind(null,e))},loadFromDraft:(e,{candidate:t,removedProfileItemsMap:i})=>e===t?Promise.reject():(function(e){Object.values(Fo).forEach(t=>Lo(e[t])),Lo(e.personalIdentifyingInformationItems)}(t),No(e,t).then(()=>function(e,t){Object.keys(t).forEach(i=>{const n=t[i];e[i].pushRemovedItems(n)})}(e,i))),getSnapshot(e){const t=o.a.toJS(e);return i=t,JSON.parse(JSON.stringify(i));var i}};var Vo=new WeakMap;class Bo{constructor(){var e,t,i;e=this,t="isSignedIn",i=Qs.isSignedIn,t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,Vo.set(this,{writable:!0,value:this.isSignedIn.subscribe(this._signInStatusChanged.bind(this))}),this.isSignedIn()&&this.fetchData()}async fetchData(){if(!Is.a.isCandidateVerified())return;if(this.header())return;const e=Is.a.get();await Mo.loadForToken(Ga,e).catch(()=>{console.error("Unable to create candidate model.")})}dispose(){(function(e,t){var i=t.get(e);if(!i)throw new TypeError("attempted to get private field on non-instance");return i.get?i.get.call(e):i.value})(this,Vo).dispose()}get header(){const{firstName:e,lastName:t}=Ga.basicInformation;return Object(n.pureComputed)(()=>{var i;return null!==(i=e())&&void 0!==i?i:t()})}get title(){const{firstName:e,lastName:t}=Ga.basicInformation;return Object(n.pureComputed)(()=>[e(),t()].join(" ").trim())}get subtitle(){const{email:e,phoneNumber:t,verificationMethod:i}=Ga.basicInformation;return Object(n.pureComputed)(()=>i()===Ya.SMS?Fe.createPhone(t()).asFormattedString():e())}_signInStatusChanged(e){e&&this.fetchData()}}var qo=i(43);function Uo(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const Ho="candidate-self-service.sign-in";n.components.register("user-menu",{viewModel:class{constructor(){Uo(this,"isOpened",Object(n.observable)(!1)),Uo(this,"model",new Bo),Uo(this,"showUserData",Object(n.pureComputed)(this._shouldShowUserData.bind(this))),Uo(this,"url",m.b.interpolate({},Ho))}toggleOpen(){this.isOpened(!this.isOpened())}menuClicked(){this.showUserData()?this.toggleOpen():(h.a.route().id!==Ho&&Ws.store(),h.a.go(Ho))}dispose(){this.model.dispose()}signOut(){this.isOpened(!1),qo.a.signOut().then(()=>this.model.isSignedIn(!1)).catch(e=>{console.error(e),bi.error()})}goToCss(){Is.a.isCandidateVerified()?h.a.go("candidate-self-service"):(this.model.isSignedIn(!1),this.isOpened(!1),bi.error(Object(l.a)("general.session-expired")))}_shouldShowUserData(){return this.model.isSignedIn()&&this.model.header()}closeMenu(){this.isOpened(!1)}},template:'<div\n    class="header-menu user-menu__container"\n    data-bind="css: { \'header-menu--active\': isOpened } , clickOutside: { action: closeMenu, when: isOpened}"\n>\n    <a\n        class="user-menu__header"\n        data-bind="click: menuClicked, css: {\'theme-color-1\': isOpened},\n            i18nAttr: {\'title\': \'candidate-self-service.header-button-title\'}, attr: {href: url}"\n    >\n        \x3c!-- ko ifnot: showUserData --\x3e\n        <span class="user-menu__icon"></span>\n        \x3c!-- /ko --\x3e\n        \x3c!-- ko if: showUserData --\x3e\n        <span class="user-menu__header-text" data-bind="text: model.header"></span>\n        <span class="user-menu__header-arrow"></span>\n        \x3c!-- /ko --\x3e\n    </a>\n\n    <div\n        class="header-menu__dropdown user-menu__dropdown"\n        data-bind="a11y.setInitialFocus: { isVisible: isOpened, delay: 400 }"\n    >\n        <ul>\n            <li class="user-menu__title-item" data-bind="text: model.title"></li>\n            <li\n                dir="ltr"\n                class="user-menu__subtitle-item text-color-secondary"\n                data-bind="attr:{title: model.subtitle}, text: model.subtitle"\n            ></li>\n            <li>\n                <hr class="user-menu__separator" />\n            </li>\n            <li class="user-menu__action-item">\n                <button\n                    data-bind="click: goToCss,\n                    i18n: \'candidate-self-service.user-menu.my-profile\'"\n                ></button>\n            </li>\n            <li class="user-menu__action-item">\n                <button\n                    data-bind="i18n: \'candidate-self-service.sign-out\',\n                    click: signOut"\n                ></button>\n            </li>\n        </ul>\n    </div>\n</div>\n'});const $o=/([a-z-]*): ([a-z(),.0-9#'\s]*)(\s+![a-z]*)?\s?; \/\* ([a-zA-Z]*) \*\//gm;n.bindingHandlers.applyStyles={update(e,t){const i=t();let n=e.textContent;n=n.replace($o,(function(...e){const[,t,,n,s]=e;return`${t}: ${i[s]()}${n||""}; /* ${s} */`.trim()})),e.textContent=n}};var Jo=function(e,t,i){let n;return(...s)=>{const a=(...t)=>{n=null,i||e.apply(this,t)},o=i&&!n;clearTimeout(n),n=setTimeout(()=>{a(...s)},t),o&&e.apply(this,s)}};n.bindingHandlers.sticky={init(e,t){const{isEnabled:i,className:s,isReady:a}=t();if(!i)return;const o=e.style.left,r=e.style.width;let l,c,d,u;const p=document.createElement("div"),h=()=>e.classList.contains(s),m=()=>{Ct.isSmall()||h()||(e.parentNode.prepend(p),e.classList.add(s),e.style.width=d+"px",e.style.left=c+"px")},b=()=>{h()&&(e.parentNode.removeChild(p),e.classList.remove(s),e.style.width=r,e.style.left=o)},f=()=>{let t=e.getBoundingClientRect();if(u=t.height,!h())return l=t.top,c=t.left,void(d=t.width);b(),t=e.getBoundingClientRect(),c=t.left,d=t.width,m()},g=Jo(f,50),v=()=>{window.scrollY>=l?m():b()};a.subscribeOnce(()=>{f(),p.style.background="transparent",p.style.height=u+"px",p.style.width=d+"px"}),window.addEventListener("scroll",v),window.addEventListener("resize",g),n.utils.domNodeDisposal.addDisposeCallback(e,()=>{document.removeEventListener("scroll",v),document.removeEventListener("resize",g)})}},s.a.bindingHandlers.clickOutside={init(e,t,i,n){const{action:a,when:o,excludeElement:r}=t(),l=a.bind(n),c=document.querySelector(r);function d(t){c&&c.contains(t.target)||!e.contains(t.target)&&o()&&l()}document.body.addEventListener("click",d,!0),s.a.utils.domNodeDisposal.addDisposeCallback(e,()=>{document.body.removeEventListener("click",d,!0)})}};class zo{constructor({facet:e,adminMode:t}){this.facet=e,this.title=e.title||Object(l.a)(`facets.${this.facet.name.toLowerCase()}-title`),this.isVerticalStyle=!1,this.adminMode=t}}var Wo='\x3c!-- ko if: facet.items().length --\x3e\n<li class="search-filters__section" data-bind="css: { \'search-filters__section--admin-mode\': adminMode }">\n    <div\n        class="search-filters__header font-family-secondary text-color-secondary"\n        data-bind="text: title, attr: {title: title}"\n    ></div>\n\n    <ul class="search-filters__list">\n        \x3c!-- ko foreach: { data: facet.items, as: \'item\' } --\x3e\n        \x3c!-- ko component: { name: \'search-facet-item\', params: { facet: facet, item: item, isVerticalStyle: $parent.isVerticalStyle }} --\x3e\x3c!-- /ko --\x3e\n        \x3c!-- /ko --\x3e\n    </ul>\n</li>\n\x3c!-- /ko --\x3e\n';n.components.register("search-categories-facet",{viewModel:zo,template:Wo}),n.components.register("search-organizations-facet",{viewModel:zo,template:Wo}),n.components.register("search-locations-facet",{viewModel:zo,template:Wo}),n.components.register("search-postingDates-facet",{viewModel:class extends zo{toggleItem(e){this.facet.items().forEach(t=>{t.selected(e===t)})}},template:Wo}),n.components.register("search-titles-facet",{viewModel:zo,template:Wo}),n.components.register("search-workLocations-facet",{viewModel:zo,template:Wo}),n.components.register("search-flexFields-facet",{viewModel:zo,template:Wo});class Ko extends zo{constructor({...e}){super({...e}),this.isOpen=Object(n.observable)(this._hasSelectedItems()),this.isVerticalStyle=!0}toggleOpen(){this.isOpen(!this.isOpen())}_hasSelectedItems(){return this.facet.selectedItems().some(e=>!e.default)}}var Go='\x3c!-- ko if: facet.items().length --\x3e\n<li\n    class="search-filters__section search-filters__section--vertical"\n    data-bind="css: { \'search-filters__section--admin-mode\': adminMode }"\n>\n    <button\n        class="\n            search-filters__header\n            font-family-secondary\n            text-color-secondary\n            search-filters__header--vertical\n        "\n        data-bind="click: toggleOpen,\n                       css: { \'search-filters__header--open\': isOpen }, attr: { \'aria-expanded\': isOpen }"\n    >\n        <span class="search-filters__header-content" data-bind=" text: title, attr: {title: title}"> </span>\n    </button>\n\n    <ul\n        class="search-filters__list search-filters__list--vertical"\n        data-bind="css: { \'search-filters__list--open\': isOpen }"\n    >\n        \x3c!-- ko foreach: { data: facet.items, as: \'item\' } --\x3e\n        \x3c!-- ko component: { name: \'search-facet-item\', params: { facet: facet, item: item, isVerticalStyle: $parent.isVerticalStyle }} --\x3e\x3c!-- /ko --\x3e\n        \x3c!-- /ko --\x3e\n    </ul>\n</li>\n\x3c!-- /ko --\x3e\n';n.components.register("search-categories-facet-vertical",{viewModel:Ko,template:Go}),n.components.register("search-organizations-facet-vertical",{viewModel:Ko,template:Go}),n.components.register("search-locations-facet-vertical",{viewModel:Ko,template:Go}),n.components.register("search-postingDates-facet-vertical",{viewModel:class extends Ko{toggleItem(e){this.facet.items().forEach(t=>{t.selected(e===t)})}},template:Go}),n.components.register("search-titles-facet-vertical",{viewModel:Ko,template:Go}),n.components.register("search-workLocations-facet-vertical",{viewModel:Ko,template:Go}),n.components.register("search-flexFields-facet-vertical",{viewModel:Ko,template:Go});const Yo=[{code:"RELEVANCY",order:"ASC",name:Object(l.a)("search.sort-options.relevancy")},{code:"POSTING_DATES",order:"DESC",name:Object(l.a)("job-details.posting-date-label")},{code:"DISTANCE",order:"ASC",name:Object(l.a)("admin.site-editor.content-editor.additional-information-preview-distance")}],Qo={BLIND:"POSTING_DATES",KEYWORD:"RELEVANCY",FILTERS:"RELEVANCY",LOCATION_ONLY:"POSTING_DATES",LOCATION_DISTANCE_COUNTRY_STATE:"POSTING_DATES",LOCATION_DISTANCE_OTHERS:"DISTANCE"},Zo=e=>{const{location:t,zipcode:i,latitude:n}=e;return Boolean(t||i||n)},Xo=()=>Object(pt.a)(c.a.getSettingByKey("DISTANCE_CALCULATION_ENABLED")),er=e=>{if((e=>Boolean(e.keyword))(e))return"KEYWORD";if((e=>Boolean(e.lastSelectedFacet))(e))return"FILTERS";if(Xo()&&Zo(e)){const t=null==e?void 0:e.locationLevel;return"state"===t||"country"===t?"LOCATION_DISTANCE_COUNTRY_STATE":"LOCATION_DISTANCE_OTHERS"}return!Xo()&&Zo(e)?"LOCATION_ONLY":"BLIND"},tr=e=>{var t;if(!e)return null;const i=er(e);return null!==(t=Yo.find(({code:e})=>e===Qo[i]))&&void 0!==t?t:null};function ir(e){const t=e.toLowerCase().replace(/_(\w)/g,(e,t)=>t.toUpperCase());return`selected${t[0].toUpperCase()}${t.slice(1)}Facet`}const nr=e=>e?"RELEVANCY"===e.code?e.code:`${e.code}_${e.order||"DESC"}`:null;class sr{constructor(e){this._params=s.a.utils.extend({},e||{})}build(){const e=function(e){const t=s.a.utils.extend({},e);(function(e){if(null!=e.latitude&&null!=e.longitude)return!0;return e.location&&e.locationLevel===sr.LOCATION_LEVEL.CITY})(t)||(delete t.radius,delete t.radiusUnit);return t}(this._params);return Object.keys(e).filter(e=>!function(e){return 0===e.indexOf("utm_")}(e)).filter(e=>!function(e){return"src"===e}(e)).sort().reduce((t,i)=>{const n=t,s=e[i];return s&&(n[i]=s),n},{})}withKeyword(e){return this._params.keyword=e,this}withoutKeyword(){return delete this._params.keyword,this}withLocation(e){return e?(this._params.locationId=e.locationId,this._params.location=e.label,this._params.locationLevel=e.level,e.isGeolocation?(this._params.latitude=e.latitude,this._params.longitude=e.longitude):(this._params.latitude=null,this._params.longitude=null)):(this._params.locationId=null,this._params.location=null,this._params.locationLevel=null,this._params.latitude=null,this._params.longitude=null),this}withoutLocation(){return delete this._params.locationId,delete this._params.location,delete this._params.locationLevel,delete this._params.latitude,delete this._params.longitude,this}withRadius(e){return this._params.radius=String(e),this}withoutRadius(){return delete this._params.radius,delete this._params.radiusUnit,this}withRadiusUnit(e){return this._params.radiusUnit=e,this}withZipcode(e){return this._params.workLocationZipCode=e,this}withoutZipcode(){return delete this._params.workLocationZipCode,this}withZipcodeKeyword(e){return this._params.zipcode=e,this}withoutZipcodeKeyword(){return delete this._params.zipcode,this}withCountryCode(e){return this._params.workLocationCountryCode=e,this}withoutCountryCode(){return delete this._params.workLocationCountryCode,this}withMode(e){return this._params.mode=e,this}withOffset(e){return this._params.offset=e,this}withoutOffset(){return this._params.offset=null,this}withLimit(e){return this._params.limit=e,this}withSortOption(e){return this._params.sortBy=nr(e),this}withoutSortOption(){return this._params.sortBy=null,this}setDefaultSortOption(){if(this._params.sortBy)return;const e=tr(this._params);e&&this.withSortOption(e)}withFacet(e){const t=e.paramKey||ir(e.type),i=e.paramValueBuilder?e.paramValueBuilder(this._params[t],e.type,e.selectedIds):(n=e.selectedIds)&&n.length?n.join(";"):null;var n;return this._params[t]=i,this._params.lastSelectedFacet=i?e.type:(()=>{const e=Object.keys(sr.FACET_TYPES).map(e=>sr.FACET_TYPES[e]);return s.a.utils.arrayFirst(e,e=>{const t=ir(e);return this._params[t]})})(),this}withoutFacets(){return delete this._params.lastSelectedFacet,Object.keys(this._params).forEach(e=>{e.indexOf("selected")>=0&&e.indexOf("Facet")>0&&delete this._params[e]}),this}static create(e){return new sr(e)}}sr.LOCATION_LEVEL={STATE:"state",CITY:"city",COUNTRY:"country"},sr.RADIUS_UNIT={KM:"KM",MI:"MI"},sr.SORT_OPTIONS={TITLES:"TITLES",POSTING_DATES:"POSTING_DATES",RELEVANCY:"RELEVANCY"},sr.SORT_ORDER={ASC:"ASC",DESC:"DESC"},sr.FACET_TYPES={TITLES:"TITLES",CATEGORIES:"CATEGORIES",LOCATIONS:"LOCATIONS",ORGANIZATIONS:"ORGANIZATIONS",POSTING_DATES:"POSTINGDATES"};n.components.register("search-facet-item",{viewModel:class{constructor({facet:e,item:t,isVerticalStyle:i}){this.isVerticalStyle=i,this.item=t,this.facet=e}toggleItem(e){e.selected(!e.selected())}setOption(e){this.toggleItem(e);const{query:t}=h.a.routeParams(),i=new sr(t).withFacet(Object(n.toJS)(this.facet)).build();h.a.go("search",{query:i},{inherit:!1})}},template:'<li\n    class="search-filters__filter"\n    data-bind="css: { \'search-filters__filter--active\': item.selected, \'search-filters____filter--vertical\': isVerticalStyle }"\n>\n    <button\n        type="button"\n        class="search-filters__set-filter"\n        data-bind="click: $component.setOption.bind($component, item),\n            attr: {\'aria-pressed\': item.selected, \'title\': item.text}"\n    >\n        \x3c!-- ko text: item.textParts.main --\x3e\x3c!-- /ko --\x3e\n        \x3c!-- ko text: item.textParts.last --\x3e\x3c!-- /ko --\x3e\n        \x3c!-- ko if: item.totalCount --\x3e\n        (\x3c!-- ko text: item.totalCount --\x3e\x3c!-- /ko --\x3e)&lrm;\n        \x3c!-- /ko --\x3e\n    </button>\n</li>\n'});class ar{constructor(){this.queryBuilder=sr.create(),this.loading=Object(n.observable)(!0),this.appending=Object(n.observable)(!1),this.initialized=Object(n.observable)(!1),this.totalCount=Object(n.observable)(0),this.hasMore=Object(n.observable)(!1),this.filters=Object(n.observableArray)(),this.requisitions=Object(n.observableArray)(),this.offset=Object(n.observable)(0),this.distanceUnit=null,this.sortBy=Object(n.observable)()}}const or=new ar,rr=new ar;n.components.register("search-sorting-item",{viewModel:class{constructor({selectedSortOption:e,item:t,isVerticalStyle:i}){this.isVerticalStyle=i,this.item=t,this.selectedSortOption=e}setOption(e){this.selectedSortOption(e),or.queryBuilder.withSortOption(e),h.a.go("search",{query:or.queryBuilder.build()},{inherit:!0})}},template:'<li\n    class="search-filters__filter"\n    data-bind="css: {\'search-filters__filter--active\': selectedSortOption() === option}"\n>\n    <button\n        type="button"\n        class="search-filters__set-filter"\n        data-bind="click: $component.setOption.bind($component, option),\n             attr: {\'aria-pressed\': selectedSortOption() === option}"\n    >\n        \x3c!-- ko text: option.text --\x3e\x3c!-- /ko --\x3e\n    </button>\n</li>\n'});const lr=()=>{if(!c.a.tcOptInEnabled)return!1;const{showAtSearchResults:e}=c.a.talentCommunitySignUp;return Boolean(e)};class cr{constructor(e){this.searchResultsModel=e,this.talentCommunityTilePosition=5}setTalentCommunityTilePosition(e){this.talentCommunityTilePosition=e}searchJobs(e){return this._searchJobs(this._removeUiParams(e))}loadMoreJobs(e){return this._loadMoreJobs(this._removeUiParams(e))}isLocationSearch(e){const{query:t}=h.a.routeParams(),{workLocationZipCode:i,latitude:n,locationLevel:s}=e||t||{};return"city"===s||i||n}_handleSearchResult({requisitionList:e,totalJobsCount:t,hasMore:i,facets:n,distanceUnit:s,sortBy:a}){var o,r;this.searchResultsModel.requisitions((o=e,r=this.talentCommunityTilePosition,lr()&&o.length?(o.splice(r,0,{id:"CE_TALENT_COMMUNITY_TILE"}),o):o)),this.searchResultsModel.totalCount(t),this.searchResultsModel.hasMore(i),this.searchResultsModel.filters(n),this.searchResultsModel.initialized(!0),this.searchResultsModel.loading(!1),this.searchResultsModel.appending(!1),this.searchResultsModel.distanceUnit=s,this.searchResultsModel.sortBy(a)}_handleSearchError(e){console.error(e),this.searchResultsModel.loading(!1),this.searchResultsModel.appending(!1)}_performSearch(e){return Ts.searchJobsAndFacets(e)}_loadMoreJobs(e,t){this.searchResultsModel.appending(!0),this.searchResultsModel.offset(this.searchResultsModel.offset()+1);const i=Object.assign({},e,{offset:this.searchResultsModel.offset()});return this._performSearch(i,t).then(({requisitionList:e,hasMore:t,facets:i})=>{this.searchResultsModel.requisitions.push(...e),this.searchResultsModel.hasMore(t),this.searchResultsModel.filters(i),this.searchResultsModel.appending(!1)}).catch(this._handleSearchError.bind(this))}_searchJobs(e,t){return this.searchResultsModel.loading(!0),this.searchResultsModel.offset(0),this._performSearch(e,t).then(this._handleSearchResult.bind(this)).catch(this._handleSearchError.bind(this))}_removeUiParams(e){const t=Object.assign({},e);return delete t.mode,delete t.zipcode,t}getMarkers(e){const t=this.searchResultsModel.totalCount(),i=this._removeUiParams(e);return Ts.searchMarkers(i,t).then(e=>e.reduce(this._groupMarkers,[]))}_groupMarkers(e,t){const i=e.find(({coordinates:e})=>JSON.stringify(e)===JSON.stringify(t.coordinates));if(i){const[e]=t.jobs;i.addJob(e)}else e.push(t);return e}}const dr=new cr(or);class ur{constructor(){this.sortOptions=Object(n.observable)(this._getOptions()),this.selectedSortOption=Object(n.observable)(),this._routeParamsSub=h.a.routeParams.subscribe(({query:e})=>{this.sortOptions(this._getOptions(e)),this._setSortOptionFromRouting()},this),this._setSortOptionFromRouting()}_resolveSortOption(e){var t;const i=e||nr(tr(null===(t=h.a.routeParams())||void 0===t?void 0:t.query))||"RELEVANCY",[n]=this.sortOptions().filter(e=>i===e.value);this.selectedSortOption(n)}_getOptions(e){const t="true"===c.a.getSettingByKey("DISTANCE_CALCULATION_ENABLED");return Yo.map(({name:e,code:t,order:i})=>({text:e,value:"RELEVANCY"===t?t:`${t}_${i}`,code:t,order:i})).filter(({code:i})=>"DISTANCE"!==i||t&&dr.isLocationSearch(e))}_setSortOptionFromRouting(){const{sortBy:e}=h.a.routeParams().query||{};this._resolveSortOption(e)}dispose(){this._routeParamsSub.dispose()}}n.components.register("search-sorting",{viewModel:ur,template:"<li class=\"search-filters__section\">\n    <div\n        class=\"search-filters__header text-color-secondary\"\n        data-bind=\"i18n: 'search.sort-by-title', i18nAttr: {'title': 'search.sort-by-title'}\"\n    ></div>\n\n    <ul class=\"search-filters__list\">\n        \x3c!-- ko foreach: {data: sortOptions, as: 'option'} --\x3e\n        \x3c!-- ko component: { name: 'search-sorting-item', params: { selectedSortOption: $parent.selectedSortOption, option: option, isVerticalStyle: $parent.isVerticalStyle }} --\x3e\x3c!-- /ko --\x3e\n        \x3c!-- /ko --\x3e\n    </ul>\n</li>\n"});n.components.register("search-sorting-vertical",{viewModel:class extends ur{constructor(){super(),this.isOpen=Object(n.observable)(!1)}toggleOpen(){this.isOpen(!this.isOpen())}},template:"<li class=\"search-filters__section search-filters__section--vertical\">\n    <button\n        class=\"search-filters__header text-color-secondary search-filters__header--vertical\"\n        data-bind=\"click: toggleOpen,\n                    css: { 'search-filters__header--open': isOpen },  attr: { 'aria-expanded': isOpen }\"\n    >\n        <span\n            class=\"search-filters__header-content\"\n            data-bind=\" i18n: 'search.sort-by-title', i18nAttr: {'title': 'search.sort-by-title'}\"\n        >\n        </span>\n    </button>\n\n    <ul\n        class=\"search-filters__list search-filters__list--vertical\"\n        data-bind=\"css: { 'search-filters__list--open': isOpen }\"\n    >\n        \x3c!-- ko foreach: {data: sortOptions, as: 'option'} --\x3e\n        \x3c!-- ko component: { name: 'search-sorting-item', params: { selectedSortOption: $parent.selectedSortOption, option: option, isVerticalStyle: $parent.isVerticalStyle }} --\x3e\x3c!-- /ko --\x3e\n        \x3c!-- /ko --\x3e\n    </ul>\n</li>\n"});n.components.register("search-filters",{viewModel:class{constructor({hide:e,clear:t,selectedFiltersCount:i,layout:s,className:a,filters:o,isVerticalStyle:r,adminMode:l}){this.filters=o,this.hide=e,this.clear=t,this.selectedFiltersCount=i,this.layout=s||{},this.className=a,this.isVerticalStyle=r||Object(n.observable)(!1),this.adminMode=l,this.styleType=Object(n.pureComputed)(()=>this.isVerticalStyle()?"-vertical":""),this.filterPresentInUrl=Object(n.pureComputed)(()=>{var e;return Boolean(null===(e=h.a.routeParams().query)||void 0===e?void 0:e.lastSelectedFacet)})}dispose(){this.filters=null}},template:'<div\n    class="search-filters"\n    data-bind="class: className, css: { \'search-filters--vertical\': isVerticalStyle }"\n>\n    <ul class="search-filters__sections font-family-primary">\n        \x3c!-- ko component: { name: \'search-sorting\' + styleType() } --\x3e\x3c!-- /ko --\x3e\n\n        \x3c!-- ko foreach: { data: filters, as: \'facet\' } --\x3e\n        \x3c!-- ko component: { name: \'search-\' + facet.name + \'-facet\' + $parent.styleType(), params: { facet: facet, adminMode: $parent.adminMode }} --\x3e\x3c!-- /ko --\x3e\n        \x3c!-- /ko --\x3e\n    </ul>\n\n    \x3c!-- ko if: layout.closeSection --\x3e\n    <div class="search-filters__close-section">\n        <div class="search-filters__close-section-line background-color-secondary"></div>\n\n        <div class="search-jobs__misc search-filters__misc font-family-secondary">\n            <button\n                class="search-jobs__toggle-filters"\n                type="button"\n                data-bind="i18n: \'search.close-filters\', click: hide"\n            ></button>\n\n            \x3c!-- ko if: selectedFiltersCount() > 0 || filterPresentInUrl() --\x3e\n            <div class="search-jobs__misc-spacer background-color-secondary"></div>\n\n            <a\n                href=""\n                class="search-jobs__clear-filter text-color-secondary"\n                data-bind="i18n: \'search.clear-all-filters\', click: clear"\n            ></a>\n            \x3c!-- /ko --\x3e\n        </div>\n    </div>\n    \x3c!-- /ko --\x3e\n</div>\n'});var pr={get:e=>e.reduce((e,{selectedItems:t})=>[...e,...t()],[]).filter(e=>!e.default)};const hr=(e,t)=>{switch(e){case"color":return`color: ${t};`;case"fontFamily":return`font-family: ${t};`;case"fontSize":return`font-size: ${t};`;case"fontStyle":return`font-style: ${t};`;case"fontWeight":return`font-weight: ${t};`;case"backgroundColor":return`background-color: ${t};`;case"borderColor":return`border-color: ${t};`;case"borderRadius":return`border-radius: ${t}px;`;case"borderWidth":return`border-width: ${t}px; border-style: solid;`;case"maxWidth":return`max-width: ${t};`;case"display":return`display: ${t};`;case"maxHeight":return`max-height: ${t};`;default:return Bi(e)}},mr=e=>null===e||0===e.trim().length,br=(e,t)=>t.trim().length?`${e} { ${t} }`:"",fr=({selector:e,width:t,widthUnit:i})=>t<0?"":br(e,hr("maxWidth",`${t}${i}`)),gr=({selector:e,color:t})=>t?br(e,hr("color",t)):"",vr=({selector:e,typography:t})=>{const i=(e=>Object.keys(e).map(t=>{const i=e[t]();if(!i||mr(i))return null;switch(t){case"color":case"fontFamily":case"fontSize":case"fontStyle":case"fontWeight":return hr(t,i);default:return Bi(t)}}).filter(e=>!!e).join("\r\n"))(t);return br(e,i)},_r=({selector:e,stylingBox:t,lightIconSelector:i,darkIconSelector:n})=>{const s=(e=>Object.keys(e).map(t=>{const i=e[t]();if(null===i)return null;switch(t){case"backgroundColor":case"borderColor":case"borderRadius":case"borderWidth":return hr(t,String(i));case"iconColorDark":case"iconColorLight":return null;default:return Bi(t)}}).filter(e=>!!e).join("\r\n"))(t),a=i?gr({selector:i,color:t.iconColorLight()}):"",o=n?gr({selector:n,color:t.iconColorDark()}):"";return[br(e,s),a,o].join("\r\n")},yr=e=>{const t=Object.entries(e).map(([e,t])=>[e,Object(n.observable)(t)]);return Object.fromEntries(t)},xr=e=>{const t=Object.entries(e).map(([e,t])=>[e,yr(t)]);return Object.fromEntries(t)};function wr(e){return br("@media all and (max-width: 767px)",e)}function kr(e){return br("@media all and (min-width: 768px)",e)}const Ir="[dir=rtl]",Cr=({colorSelector:e,displaySelector:t,styling:i})=>[(({selector:e,value:t})=>t?br(e,hr("backgroundColor",t)):"")({selector:e,value:i.ruleColor()}),(({selector:e,value:t})=>br(e,hr("display",t?"block":"none")))({selector:t,value:i.displayHorizontalRule()})].join("\r\n"),Sr=e=>{switch(e.type){case"replaceNonExistingParamsWithDefault":return({paramKey:t,baseValue:i,modifierValue:n})=>mr(n)&&!mr(i)?e.defaultParams[t]:n;default:return Bi(e.type)}},Er=({sourceParams:e,targetParams:t,mergeParamsValue:i})=>{const s=(e=>{const t={...e};return Object.keys(e).forEach(i=>{const s=e[i]();t[i]=Object(n.observable)(s)}),t})(t);return Object.keys(e).forEach(n=>{const a=e[n](),o=t[n]();s[n](i({paramKey:n,baseValue:a,modifierValue:o}))}),s},Or={container:".search-jobs, .background-color-dialog.search-filters-dialog__main",icon:".search-filters__header::after",iconHover:".search-filters__header:hover::after",header:".search-jobs__filters-header",headerLine:".search-jobs .search-jobs__filters-header::after",subHeader:".search-filters__header",subHeaderSelected:".search-filters__header--open",subHeaderHover:".search-jobs .search-filters__header:hover",filters:".search-filters__filter .search-filters__set-filter",filtersSelected:".search-filters__filter--active .search-filters__set-filter",clearFilters:".search-jobs .search-jobs__clear-filter, .search-jobs .search-jobs__counter, .search-jobs__clear-filter",showHideFilters:".search-jobs__toggle-filters",filterPills:".search-breadcrumbs .search-breadcrumbs__breadcrumb",filterPillLabel:".search-breadcrumb__label",filterPillsIcon:".search-breadcrumb__unselect",miscSpacer:".search-jobs .search-jobs__misc-spacer",sectionLine:".search-jobs .search-filters__close-section-line",subHeaderLine:".search-filters__section .search-filters__header::before"},Ar={...Or,iconHover:Or.iconHover+",\n        .search-jobs .search-filters__section--admin-mode.search-filters__section--vertical:nth-child(2) .search-filters__header::after",subHeaderHover:Or.subHeaderHover+",\n        .search-jobs .search-filters__section--admin-mode.search-filters__section--vertical:nth-child(2) .search-filters__header"};class Pr{constructor({params:e}){var t,i,s;s=Or,(i="selectors")in(t=this)?Object.defineProperty(t,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[i]=s,this.loading=or.loading,this.totalCount=or.totalCount,this.filters=or.filters,this.filtersOpened=Object(n.observable)(!1),this.popupFiltersOpened=Object(n.observable)(!1),this.selectedFiltersCount=Object(n.pureComputed)(()=>this._getSelectedFilters().length),this.selectedFilters=Object(n.pureComputed)(this._getSelectedFilters,this),this.adminMode=!1,this.customizationParams=e||xr(tn),this.isVerticalStyle=Object(n.pureComputed)(()=>"vertical"===this.customizationParams.contentParams.filtersDisplayStyle()),this.customCss=Object(n.pureComputed)(()=>((e,t)=>Object.keys(e).map(i=>{switch(i){case"contentParams":return fr({selector:t.container,width:e[i].width(),widthUnit:e[i].widthUnit()});case"headerTypography":return vr({selector:t.header,typography:e[i]});case"subHeaderTypography":return vr({selector:t.subHeader,typography:e[i]});case"subHeaderTypographySelected":const n=Er({sourceParams:e.subHeaderTypography,targetParams:e.subHeaderTypographySelected,mergeParamsValue:Sr({type:"replaceNonExistingParamsWithDefault",defaultParams:nn.subHeaderTypographySelected})});return vr({selector:t.subHeaderSelected,typography:n});case"filtersTypography":return vr({selector:t.filters,typography:e[i]});case"filtersTypographySelected":const s=Er({sourceParams:e.filtersTypography,targetParams:e.filtersTypographySelected,mergeParamsValue:Sr({type:"replaceNonExistingParamsWithDefault",defaultParams:nn.filtersTypographySelected})});return vr({selector:t.filtersSelected,typography:s});case"clearFiltersTypography":return vr({selector:t.clearFilters,typography:e[i]});case"showHideFiltersTypography":return vr({selector:t.showHideFilters,typography:e[i]});case"filterPillsTypography":return vr({selector:t.filterPillLabel,typography:e[i]});case"filterStyles":return _r({selector:t.container,stylingBox:e[i],lightIconSelector:""+t.icon,darkIconSelector:null});case"filterStylesOnHover":return"horizontal"===e.contentParams.filtersDisplayStyle()?"":_r({selector:t.subHeaderHover,stylingBox:e[i],lightIconSelector:t.iconHover,darkIconSelector:null});case"filterPillStyles":return _r({selector:t.filterPills,stylingBox:e[i],lightIconSelector:t.filterPillsIcon,darkIconSelector:null});case"headerStyles":return"horizontal"===e.contentParams.filtersDisplayStyle()?"":Cr({colorSelector:t.headerLine,displaySelector:t.headerLine,styling:e[i]});case"subHeaderStyles":return Cr({colorSelector:`${t.subHeaderLine}, ${t.miscSpacer}, ${t.sectionLine}`,displaySelector:t.subHeaderLine,styling:e[i]});case"commonParams":case"type":case"__ko_mapping__":return"";default:return Bi(i)}}).join("\r\n"))(this.customizationParams,this.selectors)),this.jobsCounterKey=Object(n.pureComputed)(this._computeJobsCounterKey,this),this.clearFilters=this.clearFilters.bind(this),this.toggleFilters=this.toggleFilters.bind(this),this.toggleFiltersPopup=this.toggleFiltersPopup.bind(this)}_getSelectedFilters(){return pr.get(this.filters())}_computeJobsCounterKey(){return 1===this.totalCount()?"search.search-results-header.plain-single":"search.search-results-header.plain"}clearFilters(){this.filtersOpened(!1);const{query:e}=h.a.routeParams(),t=new sr(e).withoutSortOption().withoutFacets().build();h.a.go("search",{query:t},{inherit:!1})}toggleFilters(){this.filtersOpened(!this.filtersOpened())}toggleFiltersPopup(){this.popupFiltersOpened(!this.popupFiltersOpened())}}const Tr=[{items:[{id:"1",name:"United States",totalCount:246},{id:"999988024903684",name:"PLEASANTON",totalCount:70},{id:"10035",name:"Canada",totalCount:66},{id:"11583",name:"REDWOOD CITY",totalCount:53},{id:"11521",name:"NEW YORK",totalCount:14}],name:"locations",selectedIds:["999988024903684"],type:"LOCATIONS"},{items:[{id:"MANAG",name:"Managerial",totalCount:8},{id:"ADMIN",name:"Administrative",totalCount:6}],name:"titles",selectedIds:["MANAG"],type:"TITLES"},{items:[{id:"300100071808026",name:"300100071808026",totalCount:4},{id:"300100148485171",name:"ZFRCE_Management",totalCount:4},{id:"300100071807999",name:"300100071807999",totalCount:3}],name:"categories",selectedIds:["300100148485171"],type:"CATEGORIES"}];class jr extends Pr{constructor(e){var t,i,s;super(e),s=Ar,(i="selectors")in(t=this)?Object.defineProperty(t,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[i]=s,this.loading=Object(n.observable)(!1),this.selectedFiltersCount=Object(n.observable)(!0),this.filtersOpened=Object(n.observable)(!0),this.adminMode=!0,this.filters=Object(n.observableArray)(),Tr.forEach(e=>{this.filters.push(cs.create(e))})}}var Rr='<style data-bind="text: customCss"></style>\n\n<div\n    class="search-jobs font-family-secondary"\n    data-bind="css: {\n        \'search-filters--filters-opened\': filtersOpened,\n        \'search-jobs--admin-mode\': adminMode,\n        \'search-jobs--vertical\': isVerticalStyle\n    },\n    class: customizationParams.commonParams.cssClass,\n    attr: { id: customizationParams.commonParams.cssId },\n    customStyles: customizationParams.commonParams"\n>\n    \x3c!-- ko if: !filtersOpened() || adminMode --\x3e\n\n    <div class="search-jobs__misc-wrapper">\n        <h3 class="search-jobs__filters-header" data-bind="i18n: \'search.filters-header-vertical\'"></h3>\n        \x3c!-- ko ifnot: loading --\x3e\n\n        <search-breadcrumbs\n            params="selectedFilters: selectedFilters, isVerticalStyle: isVerticalStyle"\n        ></search-breadcrumbs>\n\n        <div class="search-jobs__misc">\n            <div\n                class="search-jobs__counter text-color-secondary"\n                data-bind="i18n: { key: jobsCounterKey(), tokens: { \'jobCount\': totalCount } }"\n            ></div>\n\n            <div class="search-jobs__misc-spacer background-color-secondary"></div>\n\n            <button\n                type="button"\n                class="search-jobs__toggle-filters search-jobs__toggle-filters--in-place"\n                data-bind="i18n: \'search.filters-header\', click: toggleFilters"\n            ></button>\n\n            <button\n                type="button"\n                class="search-jobs__toggle-filters search-jobs__toggle-filters--in-popup"\n                data-bind="click: toggleFiltersPopup"\n            >\n                <span data-bind="i18n: \'search.filters-header\'"></span>\n\n                \x3c!-- ko if: selectedFiltersCount() > 0 --\x3e\n                <span class="search-jobs__selected-filters-counter">\n                    (<span data-bind="text: selectedFiltersCount"></span>)\n                </span>\n                \x3c!-- /ko --\x3e\n            </button>\n\n            <div class="search-jobs__misc-spacer background-color-secondary"></div>\n\n            <button\n                class="search-jobs__clear-filter text-color-secondary"\n                data-bind="i18n: \'search.clear-all-filters\', click: clearFilters"\n            ></button>\n        </div>\n\n        \x3c!-- /ko --\x3e\n    </div>\n\n    \x3c!-- /ko --\x3e\n\n    <search-filters\n        params="\n            filters: filters,\n            hide: toggleFilters,\n            clear: clearFilters,\n            selectedFiltersCount: selectedFiltersCount,\n            className: \'search-filters--in-place\',\n            layout: { \'closeSection\': true },\n            isVerticalStyle: isVerticalStyle,\n            adminMode: adminMode"\n    ></search-filters>\n</div>\n\n<minimal-dialog params="isVisible: popupFiltersOpened, baseClass: \'search-filters-dialog\'">\n    <dialog-bar>\n        <div class="app-dialog__bar search-jobs__popup-bar text-color-secondary">\n            <div class="app-dialog__bar-section">\n                <button\n                    class="app-dialog__close"\n                    data-bind="click: toggleFiltersPopup, i18nAttr: {\'title\': \'search.close-filters\'}"\n                >\n                    <span class="app-dialog__close-label">Esc</span>\n                </button>\n            </div>\n\n            <div class="app-dialog__bar-section">\n                <button\n                    class="search-jobs__clear-filter app-dialog__action-button font-family-secondary"\n                    data-bind="i18n: \'search.clear-all-filters\', click: () => {\n                        clearFilters();\n                        toggleFiltersPopup();\n                    }"\n                ></button>\n            </div>\n        </div>\n    </dialog-bar>\n\n    <dialog-body>\n        <search-filters\n            params="filters: filters, hide: toggleFiltersPopup, className: \'search-filters--in-popup\'"\n        ></search-filters>\n    </dialog-body>\n</minimal-dialog>\n';n.components.register("search-filters-panel",{viewModel:Pr,template:Rr}),n.components.register("cc-search-filters-panel",{viewModel:{createViewModel:({params:e,mode:t})=>"admin"===t?new jr({params:e}):new Pr({params:e})},template:Rr});var Fr={filterPanel:{toggle:new Ot.a},radius:{enable:new Ot.a,set:new Ot.a},clear:new Ot.a,jobDetails:function(){const e={isClosing:new Ot.a,renderedPreview:new Ot.a,applyButtonVisibilityChanged:new Ot.a};return e.renderedPreview.memorize=!0,e}(),query:{params:new Ot.a,clearFacets:new Ot.a,requestGeolocation:new Ot.a,basicSearch:new Ot.a,filterSearch:new Ot.a,offsetSearch:new Ot.a,search:new Ot.a},results:{searchFired:new Ot.a,jobsUpdated:new Ot.a,facetsUpdated:new Ot.a,sortByUpdated:new Ot.a,searchFailed:new Ot.a},pageLoaded:new Ot.a};var Dr=class{constructor(){this.talentCommunityTileEnabled=this._isTalentCommunityTileEnable(),this.hasSearchCritera=s.a.pureComputed(()=>{const e=h.a.routeParams().query||{};return Object.keys(e).some(e=>"sortBy"!==e)})}runSearch(){Fr.query.search.dispatch({},!0)}_isTalentCommunityTileEnable(){return c.a.tcOptInEnabled&&!0===c.a.talentCommunitySignUp.showWhenNoSearchResultsFound}};function Lr(e){return e?Number.parseInt(e,10):void 0}function Nr(...e){return e.find(function(e){if("function"!=typeof e)throw new TypeError("Expected input to be a Function");return function(...t){return!e.apply(this,t)}}(Boolean))}function Mr(e){return t=>!Nr(e,t)&&t>e}n.components.register("search-no-results",{viewModel:Dr,template:'<div class="search-no-results text-color-secondary">\n    \x3c!-- ko if: talentCommunityTileEnabled --\x3e\n\n    <p class="search-no-results__header" data-bind="i18n: \'search.no-results-header\'"></p>\n\n    <div class="search-no-results__talent-community">\n        <talent-community-tile></talent-community-tile>\n    </div>\n\n    \x3c!-- /ko --\x3e\n\n    \x3c!-- ko ifnot: talentCommunityTileEnabled --\x3e\n\n    \x3c!-- ko ifnot: hasSearchCritera --\x3e\n    <p class="search-no-results__header">\n        <span data-bind="i18n: \'search.no-jobs-posted-header\'"></span>\n        <span data-bind="i18n: \'search.no-jobs-posted-subheader\'"></span>\n    </p>\n    \x3c!-- /ko --\x3e\n\n    \x3c!-- ko if: hasSearchCritera --\x3e\n    <p class="search-no-results__header" data-bind="i18n: \'search.no-results-header\'"></p>\n    <p data-bind="i18n: \'search.suggestions-subheader\'"></p>\n    <ul class="search-no-results__suggestions">\n        <li class="search-no-results__suggestion" data-bind="i18n: \'search.first-suggestion\'"></li>\n        <li class="search-no-results__suggestion" data-bind="i18n: \'search.second-suggestion\'"></li>\n        <li class="search-no-results__suggestion" data-bind="i18n: \'search.third-suggestion\'"></li>\n    </ul>\n    <p class="search-no-results__hint" data-bind="i18n: \'search.no-result-hint\'"></p>\n\n    <a\n        href=""\n        class="button text-color-primary font-family-secondary"\n        data-bind="route: \'search\', routeParams: { query: {} }, routeConfig: { inherit: false, transition: true }"\n        data-qa="viewAllJobsBtn"\n    >\n        <span class="button__label" data-bind="i18n: \'search.view-all-jobs\'"></span>\n        <span class="button__arrow button__arrow--right"></span>\n    </a>\n    \x3c!-- /ko --\x3e\n\n    \x3c!-- /ko --\x3e\n</div>\n'});const Vr=e=>Number.parseFloat(e||"0").toFixed(1).toLocaleString();n.components.register("search-result-item-distance",{viewModel:class{constructor({distanceInfo:e,jobId:t}){this.distanceInfo=e,this.helpText=this._getHelpText(e.inputRadius,e.distanceUnit),this.helpTextId="helpText-distanceOutOfRadius-"+t,this.isTooltipVisible=Object(n.observable)(!1)}_getHelpText(e,t){return Object(l.a)("search.job-item.distance-out-of-radius",{radius:e,unit:t})}showHelpTooltip(){this.isTooltipVisible(!0)}hideHelpTooltip(){this.isTooltipVisible(!1)}},template:'<span class="job-tile__subheader-distance">\n    <i18n params="key: distanceInfo.distanceStringKey">\n        <span\n            data-i18n-token="distance"\n            data-bind="text: $parent.distanceInfo.distanceText,\n                       css: {\'job-tile__subheader-distance--highlighted\': $parent.distanceInfo.isDistanceOutOfRadius}"\n        >\n        </span>\n        <span\n            data-i18n-token="distance_unit"\n            data-bind="text: $parent.distanceInfo.distanceUnit,\n                       css: {\'job-tile__subheader-distance--highlighted\': $parent.distanceInfo.isDistanceOutOfRadius}"\n        >\n        </span>\n    </i18n>\n\n    \x3c!-- ko if: distanceInfo.isDistanceOutOfRadius --\x3e\n    <tooltip\n        params="helpTextId: helpTextId, isVisible: isTooltipVisible, helpText: helpText"\n        class="job-tile__subheader-tooltip"\n    >\n        <tooltip-anchor>\n            <button\n                data-bind="attr: { \'aria-labelledby\': helpTextId },\n                       event: {\n                           mouseover: showHelpTooltip,\n                           mouseout: hideHelpTooltip,\n                           focus: showHelpTooltip,\n                           blur: hideHelpTooltip\n                       }"\n                role="tooltip"\n            >\n                <span\n                    class="job-tile__subheader-additional-info"\n                    data-bind="css: { \'job-tile__subheader-additional-info--active\': isTooltipVisible }"\n                >\n                </span>\n            </button>\n        </tooltip-anchor>\n    </tooltip>\n    \x3c!-- /ko --\x3e\n</span>\n'}),n.components.register("search-result-item-header",{viewModel:class{constructor({job:e,isLocationVisible:t,isDistanceVisible:i,isPostingDateVisible:n}){this.job=e,this.isLocationVisible=t,this.isDistanceVisible=i,this.isPostingDateVisible=n,this.distanceInfo=this._getDistanceInfo(e.distance)}hasSecondaryLocation(){return Boolean(this.job.secondaryLocations&&this.job.secondaryLocations.length>0)}_getDistanceInfo(e){const t=or.distanceUnit?String(or.distanceUnit).toLowerCase():"",i=this.hasSecondaryLocation()?"search.job-item.distance-multiple-locations":"search.job-item.distance-single-location",n=this._getInputRadius(),s=Boolean((a=n,o=e,function(...e){return function(...e){return t=>e.reduceRight((e,t)=>t(e),t)}(...e.reverse())}(Lr,Mr)(a)(o)));var a,o;var r;return{distanceUnit:t,distanceStringKey:i,inputRadius:n,isDistanceOutOfRadius:s,distanceText:(r={isDistanceOutOfRadius:s,inputRadius:n,jobDistance:e}).isDistanceOutOfRadius?"+"+Vr(r.inputRadius):Vr(r.jobDistance)}}_getInputRadius(){var e;return null===(e=h.a.routeParams().query)||void 0===e?void 0:e.radius}},template:'<div class="job-tile__header">\n    <h2 class="job-tile__title" data-bind="text: job.title"></h2>\n\n    \x3c!-- ko if: isLocationVisible() || isDistanceVisible() || isPostingDateVisible() --\x3e\n    <div class="job-tile__subheader">\n        \x3c!-- ko if: isLocationVisible --\x3e\n        <span>\n            <span data-bind="text: job.primaryLocation"></span>\n\n            \x3c!-- ko if: hasSecondaryLocation() --\x3e\n            <i18n class="job-tile__secondary-locations" params="key: \'search.job-item.secondary-locations\'">\n                <span\n                    data-i18n-token="locationsCount"\n                    data-bind="text: $parent.job.secondaryLocations.length"\n                ></span>\n            </i18n>\n            \x3c!-- /ko --\x3e\n        </span>\n        \x3c!-- /ko --\x3e\n\n        \x3c!-- ko if: isDistanceVisible --\x3e\n        <search-result-item-distance\n            params="distanceInfo: distanceInfo, jobId: job.id"\n        ></search-result-item-distance>\n        \x3c!-- /ko --\x3e\n\n        \x3c!-- ko if: isPostingDateVisible --\x3e\n        <i18n params="key: \'search.posted-on-label\'">\n            <span data-i18n-token="posteddate" data-bind="text: job.postedDate"></span>\n        </i18n>\n        \x3c!-- /ko --\x3e\n    </div>\n    \x3c!-- /ko --\x3e\n</div>\n'});const Br=e=>m.b.interpolate({},"job-details",{jobId:e}),qr=e=>{const t="job-details"===h.a.route().id||"job-full-view"===h.a.route().id?"job-details":"job-preview";h.a.go(t,{jobId:e})};class Ur{constructor({job:e,isSimilar:t,customizationParams:i}){this.job=e,this.isSimilar=t,this.getJobUrl=Br,this.openJob=qr,this.hasFocus=Object(n.observable)(!1),this.customizationParams=i||xr(Ki),this.isFavourite=Us.isFavourite(e),this.isLocationVisible=Object(n.pureComputed)(()=>this._hasAdditionalInformation("location")),this.isPostingDateVisible=Object(n.pureComputed)(()=>this._hasAdditionalInformation("postingDate")),this.isDescriptionVisible=Object(n.pureComputed)(()=>e.shortDescription&&this._hasAdditionalInformation("description")),this.isImageVisible=Object(n.pureComputed)(()=>this._hasAdditionalInformation("previewImage")),this.isDistanceVisible=Object(n.pureComputed)(()=>this._shouldShowDistance()),this.mediaStyles=Object(n.pureComputed)(()=>e.mediaThumbUrl?{backgroundImage:`url('${e.mediaThumbUrl}')`}:{})}_hasAdditionalInformation(e){return this.customizationParams.contentParams.additionalInformationDisplayed().includes(e)}_shouldShowDistance(){const e=this._hasAdditionalInformation("distance"),t=Object(pt.a)(c.a.getSettingByKey("DISTANCE_CALCULATION_ENABLED"));return e&&t&&!this.isSimilar&&dr.isLocationSearch()}toggleFavourite(){Us.toggleFavourite(this.job)}}const Hr=()=>{};class $r extends Ur{constructor(e){super(e),this.isFavourite=Object(n.observable)(!1),this.getJobUrl=Hr,this.openJob=Hr}toggleFavourite(){this.isFavourite(!this.isFavourite())}_shouldShowDistance(){return this._hasAdditionalInformation("distance")&&c.a.isDistanceCalculationEnabled}}var Jr='<div\n    class="job-tile job-list-item"\n    data-bind="\n    css: { \'job-list-item--active\': job.isActive, \'job-list-item--focus\': hasFocus }\n"\n>\n    <a\n        class="job-list-item__link"\n        data-bind="\n        attr: { href: getJobUrl(job.id) },\n        click: () => openJob(job.id),\n        hasFocus: hasFocus\n    "\n    >\n        \x3c!-- ko if: isImageVisible --\x3e\n        <div class="job-list-item__media" data-bind="style: mediaStyles"></div>\n        \x3c!-- /ko --\x3e\n\n        <div class="job-list-item__content">\n            <search-result-item-header\n                params="\n                job: job,\n                isLocationVisible: isLocationVisible,\n                isDistanceVisible: isDistanceVisible,\n                isPostingDateVisible: isPostingDateVisible,\n            "\n            ></search-result-item-header>\n\n            \x3c!-- ko if: isDescriptionVisible --\x3e\n            <p class="job-list-item__description" data-bind="text: job.shortDescription"></p>\n            \x3c!-- /ko --\x3e\n        </div>\n\n        <span class="job-list-item__show-icon" aria-hidden="true"></span>\n    </a>\n\n    <div class="job-list-item__actions">\n        <button\n            class="favourite-star job-tile__favorited"\n            data-bind="\n                    click: toggleFavourite,\n                    clickBubble: false,\n                    css: { \'favourite-star--active\': isFavourite },\n                    i18nAttr: { title: !isFavourite() ? \'favourite.a11y.pin-job\' : \'favourite.a11y.unpin-job\' }\n                "\n        ></button>\n    </div>\n</div>\n',zr='<div\n    class="job-tile job-grid-item"\n    data-bind="\n    css: { \'job-grid-item--active\': job.isActive, \'job-grid-item--focus\': hasFocus }\n"\n>\n    <a\n        class="job-grid-item__link"\n        data-bind="\n        attr: { href: getJobUrl(job.id) },\n        click: () => openJob(job.id),\n        hasFocus: hasFocus\n    "\n    >\n        <div class="job-grid-item__content">\n            <div class="job-grid-item__header">\n                <search-result-item-header\n                    params="\n                        job: job,\n                        isLocationVisible: isLocationVisible,\n                        isDistanceVisible: isDistanceVisible,\n                        isPostingDateVisible: isPostingDateVisible,\n                    "\n                ></search-result-item-header>\n            </div>\n\n            <div class="job-grid-item__body">\n                \x3c!-- ko if: isImageVisible --\x3e\n                <div class="job-grid-item__media" data-bind="style: mediaStyles"></div>\n                \x3c!-- /ko --\x3e\n\n                \x3c!-- ko if: isDescriptionVisible --\x3e\n                <div>\n                    <p class="job-grid-item__description" data-bind="text: job.shortDescription"></p>\n                </div>\n                \x3c!-- /ko --\x3e\n            </div>\n        </div>\n    </a>\n\n    <div class="job-grid-item__actions">\n        <button\n            class="favourite-star job-tile__favorited job-grid-item__favourite-star"\n            data-bind="\n                click: toggleFavourite,\n                clickBubble: false,\n                css: { \'favourite-star--active\': isFavourite },\n                i18nAttr: { title: !isFavourite() ? \'favourite.a11y.pin-job\' : \'favourite.a11y.unpin-job\' }\n            "\n        ></button>\n    </div>\n</div>\n';n.components.register("search-result-list-item",{viewModel:Ur,template:Jr}),n.components.register("search-result-grid-item",{viewModel:Ur,template:zr}),n.components.register("search-result-list-item-static",{viewModel:$r,template:Jr}),n.components.register("search-result-grid-item-static",{viewModel:$r,template:zr});const Wr="not_requested",Kr="loading",Gr="loaded",Yr="error";n.components.register("search-results-map",{viewModel:class{constructor(){if(this.markersState=Object(n.observable)(Wr),this.markers=Object(n.observableArray)([]),Rn()){const{query:e}=h.a.routeParams();try{this._initMapProvider(),this._getMarkers(e)}catch(e){this.markersState=Object(n.observable)(Yr),console.error(e)}}}_initMapProvider(){const e=ui();if(!e)throw new Error("No MapProvider");e.initialize()}_getMarkers(e){this.markersState(Kr),dr.getMarkers(e).then(e=>{this.markersState(Gr),this.markers(e)}).catch(e=>{console.error(e),this.markersState(Yr)})}},template:'\x3c!-- ko if: markersState() === \'loading\' --\x3e\n<div class="search-jobs__loading">\n    <spinner></spinner>\n</div>\n\x3c!-- /ko --\x3e\n\n\x3c!-- ko if: markersState() === \'loaded\' --\x3e\n\x3c!-- ko if: markers().length --\x3e\n<div data-bind="map: { markers: markers()}" class="search-jobs__map"></div>\n\x3c!-- /ko --\x3e\n\x3c!-- /ko --\x3e\n'});const Qr=(e,t)=>[`${e}:hover ${t}`,`${e}:focus ${t}`,`${e}--active ${t}`].join(", "),Zr=(e,t)=>{const i=e.contentParams.jobDisplayStyle(),n=(s="."+t,{list:{container:s+" .jobs-list__list",item:s+" .job-list-item",itemOnHover:Qr(s+" .job-list-item",""),itemTitle:s+" .job-tile__title",itemTitleOnHover:Qr(s+" .job-list-item",".job-tile__title"),itemSubHeader:s+" .job-tile__subheader",itemSubHeaderOnHover:Qr(s+" .job-list-item",".job-tile__subheader"),itemDescription:s+" .job-list-item__description",itemIcon:s+" .job-list-item__show-icon::before",itemIconOnHover:Qr(s+" .job-list-item",".job-list-item__show-icon::before"),tileHeader:null,tileHeaderOnHover:null},tile:{container:s+" .jobs-grid__list",item:s+" .job-grid-item",itemOnHover:Qr(s+" .job-grid-item",""),itemTitle:s+" .job-tile__title",itemTitleOnHover:Qr(s+" .job-grid-item",".job-tile__title"),itemSubHeader:s+" .job-tile__subheader",itemSubHeaderOnHover:Qr(s+" .job-grid-item",".job-tile__subheader"),itemDescription:s+" .job-grid-item__description",itemIcon:null,itemIconOnHover:null,tileHeader:s+" .job-grid-item__header",tileHeaderOnHover:Qr(s+" .job-grid-item",".job-grid-item__header")}})[i];var s;const a="list"===i;return Object.keys(e).map(t=>{switch(t){case"contentParams":return kr(fr({selector:n.container,width:e[t].width(),widthUnit:e[t].widthUnit()}));case"headerTypography":return vr({selector:n.itemTitle,typography:e[t]});case"headerTypographyOnHover":const i=Er({sourceParams:e.headerTypography,targetParams:e.headerTypographyOnHover,mergeParamsValue:Sr({type:"replaceNonExistingParamsWithDefault",defaultParams:Gi.headerTypographyOnHover})});return a?"":vr({selector:n.itemTitleOnHover,typography:i});case"subHeaderTypography":return vr({selector:n.itemSubHeader,typography:e[t]});case"subHeaderTypographyOnHover":const s=Er({sourceParams:e.subHeaderTypography,targetParams:e.subHeaderTypographyOnHover,mergeParamsValue:Sr({type:"replaceNonExistingParamsWithDefault",defaultParams:Gi.headerTypographyOnHover})});return a?"":vr({selector:n.itemSubHeaderOnHover,typography:s});case"descriptionTypography":return vr({selector:n.itemDescription,typography:e[t]});case"tileStyles":return _r({selector:n.item,stylingBox:e[t],lightIconSelector:n.itemIcon,darkIconSelector:null});case"tileStylesOnHover":const o=Er({sourceParams:e.tileStyles,targetParams:e.tileStylesOnHover,mergeParamsValue:Sr({type:"replaceNonExistingParamsWithDefault",defaultParams:Gi.tileStylesOnHover})});return _r({selector:n.itemOnHover,stylingBox:o,lightIconSelector:n.itemIconOnHover,darkIconSelector:null});case"tileHeaderStyles":return n.tileHeader?_r({selector:n.tileHeader,stylingBox:e[t],lightIconSelector:null,darkIconSelector:null}):"";case"tileHeaderStylesOnHover":const r=Er({sourceParams:e.tileHeaderStyles,targetParams:e.tileHeaderStylesOnHover,mergeParamsValue:Sr({type:"replaceNonExistingParamsWithDefault",defaultParams:Gi.tileHeaderStylesOnHover})});return n.tileHeaderOnHover?_r({selector:n.tileHeaderOnHover,stylingBox:r,lightIconSelector:null,darkIconSelector:null}):"";case"commonParams":case"type":case"__ko_mapping__":return"";default:return Bi(t)}}).filter(e=>e.trim().length).join("\r\n")},Xr={list:{tile:"search-result-list-item-static",talentCommunityTile:"talent-community-tile-static"},tile:{tile:"search-result-grid-item-static",talentCommunityTile:"talent-community-tile-static"}},el={list:{tile:"search-result-list-item",talentCommunityTile:"talent-community-tile"},tile:{tile:"search-result-grid-item",talentCommunityTile:"talent-community-tile"}},tl=(e,t)=>{switch(t){case"active":return el[e];case"static":return Xr[e];default:return Bi(t)}};class il{constructor({params:e,id:t="default"}){this.customizationParams=e||xr(Ki),this.uniqueWrapperClass="component-styling-wrapper-"+t;const{tile:i,talentCommunityTile:s}=tl(this.customizationParams.contentParams.jobDisplayStyle(),"active");this.tileComponent=i,this.talentCommunityTileComponent=s,this.loading=or.loading,this.initialized=or.initialized,this.requisitions=or.requisitions,this.hasResults=Object(n.pureComputed)(this._hasResults,this),this.listClass=Object(n.pureComputed)(this._getListClass,this),this.componentClass=Object(n.pureComputed)(()=>"tile"===this.customizationParams.contentParams.jobDisplayStyle()?"jobs-grid":"jobs-list"),this.customCss=Object(n.pureComputed)(()=>Zr(this.customizationParams,this.uniqueWrapperClass)),this.paginationState=Object(n.pureComputed)(()=>(({hasMore:e,loading:t,loadMore:i,isInfiniteScrollEnabled:n})=>e()?t()?{type:"loading"}:{type:"has_more_items",isInfiniteScrollEnabled:n,loadMore:i}:{type:"no_more_items"})({hasMore:or.hasMore,loading:or.appending,loadMore:()=>this._loadMore.bind(this),isInfiniteScrollEnabled:this.customizationParams.contentParams.enableInfiniteScroll()}))}dispose(){this.loading=null,this.initialized=null,this.requisitions=null}_getListClass(){return[this.customizationParams.commonParams.cssClass(),this.componentClass()].filter(e=>Boolean(e)).join(" ")}_hasResults(){return this.initialized()&&this.requisitions().length>0}_loadMore(){let{query:e}=h.a.routeParams();e.sortBy||(e={...e,sortBy:or.sortBy()}),dr.loadMoreJobs({limit:this.customizationParams.contentParams.numberOfJobsDisplayed(),...e})}}const{uiBaseUrl:nl,version:sl}=c.a,al=sl?sl+"/":"",ol=e=>`${nl}/CandExpStatic/${al}${e}`,rl={id:"CE_TALENT_COMMUNITY_TILE"},ll=[{id:"1",title:"Front-end developer",primaryLocation:"Krakow, Poland",secondaryLocations:[1],postedDate:"13.02.2019",distance:"25",shortDescription:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis convallis libero sem, quis lobortis lectus dapibus id. Pellentesque eu ex a elit ornare sodales. Nam eros orci, maximus non risus quis, ultrices vulputate lacus. Sed sed maximus ante. Phasellus ultrices quis eros ac dictum.",mediaThumbUrl:ol("images/admin/mock/search-result-item-static-1.jpg")},{id:"2",title:"Front-end developer",primaryLocation:"Krakow, Poland",postedDate:"13.02.2019",distance:"25",shortDescription:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis convallis libero sem, quis lobortis lectus dapibus id. Pellentesque eu ex a elit ornare sodales. Nam eros orci, maximus non risus quis, ultrices vulputate lacus. Sed sed maximus ante. Phasellus ultrices quis eros ac dictum.",isActive:!0,mediaThumbUrl:ol("images/admin/mock/search-result-item-static-2.jpg")},{id:"3",title:"Front-end developer",primaryLocation:"Krakow, Poland",secondaryLocations:[1,2,3],postedDate:"13.02.2019",distance:"25",shortDescription:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis convallis libero sem, quis lobortis lectus dapibus id. Pellentesque eu ex a elit ornare sodales. Nam eros orci, maximus non risus quis, ultrices vulputate lacus. Sed sed maximus ante. Phasellus ultrices quis eros ac dictum.",mediaThumbUrl:ol("images/admin/mock/search-result-item-static-3.jpg")}];class cl extends il{constructor(e){super(e),or.distanceUnit="MI",this.titleComponents=Object(n.pureComputed)(()=>tl(this.customizationParams.contentParams.jobDisplayStyle(),"static")),this.tileComponent=Object(n.pureComputed)(()=>this.titleComponents().tile),this.talentCommunityTileComponent=Object(n.pureComputed)(()=>this.titleComponents().talentCommunityTile),this.loading=Object(n.observable)(!1),this.initialized=Object(n.observable)(!0),this.requisitions=Object(n.observableArray)(lr()?[...ll,rl]:ll),this.openJob=Hr,this.getJobUrl=Hr}}var dl='<div data-bind="class: uniqueWrapperClass">\n    <style data-bind="text: customCss"></style>\n\n    \x3c!-- ko if: loading --\x3e\n    <div class="search-jobs__loading">\n        <spinner></spinner>\n    </div>\n    \x3c!-- /ko --\x3e\n\n    \x3c!-- ko ifnot: loading --\x3e\n\n    \x3c!-- ko ifnot: customizationParams.contentParams.hideMap --\x3e\n    <search-results-map></search-results-map>\n    \x3c!-- /ko --\x3e\n\n    <div\n        class="search-results-jobs-list"\n        data-bind="\n            class: listClass,\n            attr: { id: customizationParams.commonParams.cssId },\n            customStyles: customizationParams.commonParams,\n        "\n    >\n        \x3c!-- ko if: hasResults --\x3e\n\n        <ul data-bind="class: `${componentClass()}__list`">\n            \x3c!-- ko foreach: { data: requisitions, as: \'job\' } --\x3e\n\n            \x3c!-- ko if: job.id === \'CE_TALENT_COMMUNITY_TILE\' --\x3e\n            \x3c!-- ko ifnot: $parent.customizationParams.contentParams.hideTalentCommunitySignup() --\x3e\n            <li data-qa="searchResultTalentCommunityItem">\n                \x3c!-- ko component: {\n                                    name: $parent.talentCommunityTileComponent,\n                                    params: {\n                                        className: $parent.customizationParams.contentParams.jobDisplayStyle()\n                                    }\n                                } --\x3e\x3c!-- /ko --\x3e\n            </li>\n            \x3c!-- /ko --\x3e\n            \x3c!-- /ko --\x3e\n\n            \x3c!-- ko ifnot: job.id === \'CE_TALENT_COMMUNITY_TILE\' --\x3e\n            <li data-qa="searchResultItem">\n                \x3c!-- ko component: {\n                        name: $parent.tileComponent,\n                        params: {\n                            job: job,\n                            customizationParams: $parent.customizationParams,\n                        }\n                    } --\x3e\x3c!-- /ko --\x3e\n            </li>\n            \x3c!-- /ko --\x3e\n\n            \x3c!-- /ko --\x3e\n        </ul>\n\n        \x3c!-- /ko --\x3e\n\n        \x3c!-- ko if: initialized --\x3e\n        \x3c!-- ko component: {\n                    name: \'search-pagination\',\n                    params: {\n                        state: paginationState\n                    },\n                } --\x3e\x3c!-- /ko --\x3e\n        \x3c!-- /ko --\x3e\n    </div>\n\n    \x3c!-- /ko --\x3e\n\n    \x3c!-- ko if: initialized() && !hasResults() --\x3e\n    \x3c!-- ko component: { name: \'search-no-results\' } --\x3e\x3c!-- /ko --\x3e\n    \x3c!-- /ko --\x3e\n</div>\n';n.components.register("search-results",{viewModel:il,template:dl}),n.components.register("cc-search-results",{viewModel:{createViewModel:({mode:e,...t})=>"admin"===e?new cl(t):new il(t)},template:dl});i(141);const ul={1:"country",2:"state",3:"city"};var pl={mapLocationParamToRest:e=>(e||"").replace(/,/g," >"),mapLocationSuggestionsFromRest(e){return Object(pt.a)(c.a.getSettingByKey("IRC_ELASTIC_SEARCH_ENABLED"))||(e.items=e.items.sort((e,t)=>e.name.toUpperCase().localeCompare(t.name.toUpperCase()))),this._mapSuggestionsFromRest(e,this._mapLocationFromRest)},mapKeywordSuggestionsFromRest(e){return this._mapSuggestionsFromRest(e,this._mapKeywordFromRest)},_mapSuggestionsFromRest:(e,t)=>e.items.map(t),_mapKeywordFromRest:e=>({label:e.name}),_mapLocationFromRest:e=>({label:[e.city,e.state,e.country].filter(e=>(e||"").trim()).join(", "),level:ul[e.level],locationId:e.id})},hl={getKeywordSuggestions:(e,t)=>U.a.get("/recruitingCESearchAutoSuggestions?expand=all&onlyData=true&finder=findByKey;string=:keyword:&limit=:limit:",{params:{keyword:e,limit:t||20}}).then(pl.mapKeywordSuggestionsFromRest.bind(pl)),getLocationSuggestions:(e,t)=>U.a.get("/recruitingCESearchAutoSuggestions?expand=all&onlyData=true&finder=findByLoc;string=:location:&limit=:limit:",{params:{location:pl.mapLocationParamToRest(e),limit:t||20}}).then(pl.mapLocationSuggestionsFromRest.bind(pl)),getLocationById:e=>U.a.get("/recruitingCESearchAutoSuggestions?expand=all&onlyData=true&finder=findByLocId;string=:locationId:",{params:{locationId:e}}).then(pl.mapLocationSuggestionsFromRest.bind(pl)).then(e=>e.pop())};n.components.register("search-box-keyword",{viewModel:class{constructor({value:e,action:t}){this.value=e,this.action=t,this.isWorking=Object(n.observable)(!1),this.keyword=Object(n.pureComputed)({read(){return this.value()},write(e){return"object"==typeof e?this.value(e.label):this.value(e)},owner:this}),this.fetch=this.fetch.bind(this)}fetch(e){return this.isWorking(!0),hl.getKeywordSuggestions(e,5).then(this._onFetchingCompleted.bind(this))}_onFetchingCompleted(e){return this.isWorking(!1),e}},template:'<input\n    id="keyword"\n    class="search-box-compact__input text-color-primary"\n    type="text"\n    aria-autocomplete="list"\n    aria-haspopup="true"\n    aria-owns="suggestions-keywords"\n    aria-controls="suggestions-keywords"\n    data-qa="searchKeywordsInput"\n    data-bind="textInput: keyword,\n        i18nAttr: { placeholder: \'search.keyword-placeholder\' },\n        autocomplete: { model: keyword, source: fetch,\n            appendTo: \'#keyword-container\', id: \'suggestions-keywords\' },\n        a11y.keysHandler: { keys: \'enter\', handler: action }"\n/>\n\n\x3c!-- ko if: isWorking --\x3e\n<div class="search-box-compact__loading">\n    <spinner\n        params="className: \'search-box-compact__spinner search-box-compact__spinner--keywords\'"\n    ></spinner>\n</div>\n\x3c!-- /ko --\x3e\n'}),n.bindingHandlers.locationSearchFocus={init(e,t){const{location:i,searchGeolocation:s}=t(),a=()=>{s&&!e.value?s():i().isGeolocation&&e.setSelectionRange(0,e.value.length)};e.addEventListener("focus",a),n.utils.domNodeDisposal.addDisposeCallback(e,()=>{e.removeEventListener("focus",a)})}};class ml{constructor({value:e,action:t,radiusValue:i,radiusUnit:n,beforeSearch:s}){this.value=e,this.action=t,this.radiusValue=i,this.radiusUnit=n,this.beforeSearch=s}}n.components.register("search-box-location",{viewModel:class extends ml{constructor(e){super(e),this.location=Object(n.observable)(),this.isDisabled=Object(n.observable)(!1),this.isWorking=Object(n.observable)(!1),this.hasFocus=Object(n.observable)(!1),this.noSuggestions=Object(n.observable)(!1),this.showRadiusDisplay=Object(n.observable)(!1),this.showNoResultsHint=Object(n.pureComputed)(this._showNoResultsHint,this),this.fetch=this.fetch.bind(this),this.onSelect=this.onSelect.bind(this),this.onResponse=this.onResponse.bind(this),this._locationSubscription=this.location.subscribe(this._clearValue,this),this._valueSubscription=this.value.subscribe(this._onValueChanged,this),this._focusSubscription=this.hasFocus.subscribe(this._onFocusChanged,this),this._hasValue()&&this._setValue(),this._setRadiusDisplayVisibility(),this._setInitialRadiusValue()}dispose(){this._locationSubscription.dispose(),this._valueSubscription.dispose(),this._focusSubscription.dispose()}onPressEnter(){this._hasValue()&&this.action()}onSelect(e,t){const{item:i,item:{label:n}}=t;this.value(i),n&&this.location(n)}onResponse(e,t){const i=t.content;if(0===i.length)return this.noSuggestions(!0),void this.showRadiusDisplay(!1);if(1===i.length){const[e]=i;this.value(e)}this.noSuggestions(!1)}fetch(e){return this.isWorking(!0),hl.getLocationSuggestions(e).then(this._onFetchingCompleted.bind(this))}_onFetchingCompleted(e){return this.isWorking(!1),e}_hasValue(){const e=this.value();return!e||Boolean(Object.keys(e).length)}_setValue(){const{locationId:e,label:t}=this.value();e&&this._fetchLocationById(e),t&&this.location(t)}_fetchLocationById(e){return this.isDisabled(!0),this.isWorking(!0),hl.getLocationById(e).then(this._onLocationFetch.bind(this))}_onLocationFetch(e){this.isDisabled(!1),this.isWorking(!1);const{label:t}=e;this.value(e),this.location(t)}_clearValue(e){if(!this._hasValue())return void this.noSuggestions(!1);const{label:t}=this.value();t&&e!==t&&this.value({})}_onValueChanged(){this._hasValue()&&this._setRadiusDisplayVisibility()}_onFocusChanged(){this._setRadiusDisplayVisibility();const{label:e}=this.value();e&&this.location()!==e&&this.showRadiusDisplay(!1)}_setRadiusDisplayVisibility(){const e=this._hasValue()&&this._isValueCityLevel();this.showRadiusDisplay(e)}_setInitialRadiusValue(){this._hasValue()||this.radiusValue(25)}_isValueCityLevel(){const{level:e,isGeolocation:t}=this.value();return"city"===e||t}_showNoResultsHint(){return!this._hasValue()&&this.location()&&this.noSuggestions()}},template:'<input\n    id="location"\n    class="search-box-compact__input text-color-primary"\n    type="text"\n    aria-autocomplete="list"\n    aria-haspopup="true"\n    aria-owns="suggestions-locations"\n    aria-controls="suggestions-locations"\n    data-qa="searchLocationInput"\n    data-bind="textInput: location,\n        disable: isDisabled,\n        hasFocus: hasFocus,\n        i18nAttr: { placeholder: \'location-bar.dropdown.location-input-label\' },\n        a11y.keysHandler: { keys: \'enter\', handler: onPressEnter },\n        a11y.setFocusOnTab: { focusOn: \'.search-box-compact__button\', delay: 10, when: true },\n        autocomplete: { model: location, source: fetch, select: onSelect, appendTo: \'#location-container\',\n            response: onResponse, id: \'suggestions-locations\' },\n        locationSearchFocus: { location: value }"\n/>\n\n\x3c!-- ko if: isWorking --\x3e\n<div class="search-box-compact__loading">\n    <spinner params="className: \'search-box-compact__spinner\'"></spinner>\n</div>\n\x3c!-- /ko --\x3e\n\n\x3c!-- ko if: showRadiusDisplay --\x3e\n<search-radius params="radiusValue: radiusValue, radiusUnit: radiusUnit"></search-radius>\n\x3c!-- /ko --\x3e\n\n\x3c!-- ko component: { name: \'search-box-popup\', params: {\n    message: \'location-bar.dropdown.no-results\',\n    value: showNoResultsHint,\n    focus: hasFocus,\n    restoreValue: true,\n    autoDismiss: false } } --\x3e\n\x3c!-- /ko --\x3e\n'});n.components.register("search-box-popup",{viewModel:class{constructor({message:e,focus:t=Object(n.observable)(!0),value:i,autoDismiss:s,restoreValue:a=!1}){this.message=e,this.autoDismiss=s,this.restoreValue=Boolean(a),this.value=i,this.visible=Object(n.observable)(!1),this._dismissTimeout=null,this._focusSubscription=t.subscribe(()=>this._showMessage(t,i),this),this._valueSubscription=i.subscribe(()=>this._showMessage(t,i),this)}dismissMessage(){this._clearDismissTimeout(),this.visible(!1),this.restoreValue&&this.value(!1)}dispose(){this._focusSubscription.dispose(),this._valueSubscription.dispose()}_showMessage(e,t){const i=e()&&t();i&&this._setDismissTimeout(),this.visible(i)}_setDismissTimeout(){this.autoDismiss&&(this._dismissTimeout=setTimeout(()=>this.dismissMessage(),6e3))}_clearDismissTimeout(){this._dismissTimeout&&(clearTimeout(this._dismissTimeout),this._dismissTimeout=null)}},template:'\x3c!-- ko if: visible --\x3e\n\n<div class="search-box-compact__message text-color-primary">\n    <span class="search-box-compact__message-pointer"></span>\n\n    <div class="search-box-compact__message-content" role="alert" data-bind="i18n: message"></div>\n\n    <button\n        class="search-box-compact__message-remove"\n        data-bind="click: dismissMessage, i18nAttr: {title: \'apply-flow.a11y.close\'}"\n    ></button>\n</div>\n\n\x3c!-- /ko --\x3e\n'});const bl={"ar-ly":{unitOfLength:"miles",unitOfLengthShort:"MI"},"en-bz":{unitOfLength:"miles",unitOfLengthShort:"MI"},"en-gb":{unitOfLength:"miles",unitOfLengthShort:"MI"},"en-us":{unitOfLength:"miles",unitOfLengthShort:"MI"},"es-do":{unitOfLength:"miles",unitOfLengthShort:"MI"}};var fl={locale:bl,get:e=>bl[e],getShort(e){const t=this.get(e);return t&&t.unitOfLengthShort}};const gl="recruiting";function vl(){return c.a.getSettingByKey("LOCATION_SEARCH_MODE")===gl}function _l(){const e=Object(pt.a)(c.a.getSettingByKey("IRC_ELASTIC_SEARCH_ENABLED")),t=c.a.getSettingByKey("ZIPCODE_SEARCH_ENABLED"),i=!t||Object(pt.a)(t);return e&&i}function yl(){const e=c.a.getSettingByKey("GEOLOCATION_SEARCH_ENABLED");return!e||Object(pt.a)(e)}const xl={LOCATION:"location",ZIPCODE:"zipcode",RECRUITING_LOCATION:"job-location",GEO_LOCATION:"geolocation"},wl=vl()?xl.RECRUITING_LOCATION:xl.LOCATION;var kl=new class{constructor(){this.currentMode=Object(n.observable)(wl),this.onModeChange=()=>{},this.setModeFromParams(),this._routeParamsSub=h.a.routeParams.subscribe(this._onRouteParamsChange,this)}setMode(e){this.currentMode()!==e&&(this.onModeChange(),this.currentMode(this._getModeByValue(e)))}setModeFromParams(){const{query:e}=h.a.routeParams();if(e&&e.mode){const t=this._getModeByValue(e.mode);this.currentMode(t||wl)}}_getModeByValue(e){const t=Object.keys(xl).find(t=>xl[t]===e);return xl[t]||wl}_onRouteParamsChange(){this.setModeFromParams()}};const Il={1:"country",2:"state",3:"city"};var Cl={mapLocations(e){return e.items&&e.items.length?e.items.map(this.mapSingleLocation):[]},mapSingleLocation:e=>({id:e.geographyId.toString(),geographyId:e.geographyId,name:e.geographyFlatName,geographyFlatName:e.geographyFlatName,level:Il[e.geographyLevel],locationId:e.geographyId})},Sl={getLocationsByTerm:e=>null==e.term?Promise.resolve([]):W.get(`/recruitingHierarchyLocations?onlyData=true&finder=findBySiteNumberAndWord;SiteNumber=${e.siteNumber},FilterAttributes=GeographyFlatName,SearchTerms=${e.term},StartsWithFlag=true&limit=1000000`).then(Cl.mapLocations.bind(Cl))};const El=fl.getShort(navigator.language.toLowerCase())||"KM";class Ol{constructor({params:e,isAdminMode:t=!1}){var i;this.customizationCompactParams=e,this.isCustomSearch=Object(n.observable)(!1),this.isAdminMode=t,this.keyword=Object(n.observable)(),this.location=Object(n.observable)(),this.radiusValue=Object(n.observable)(),this.radiusUnit=Object(n.observable)(),this.zipcode=Object(n.observable)(),this.country=Object(n.observable)(),this.queryBuilder=Object(n.observable)(new sr(null===(i=h.a.routeParams())||void 0===i?void 0:i.query)),this.customizationParams=e||xr(on),this.isZipcodeEnabled=_l(),this.isGeolocationEnabled=yl(),this.beforeSearch=Object(n.observable)(()=>Promise.resolve()),this.mode=kl.currentMode,this.MODES=xl,kl.onModeChange=()=>{this._clearParams()},this.performSearch=this.performSearch.bind(this),this.fetchJobLocations=this.fetchJobLocations.bind(this),this._setParams(),this._setDefaultCustomParams()}performSearch(){var e;this.queryBuilder(new sr(null===(e=h.a.routeParams())||void 0===e?void 0:e.query)),this.beforeSearch()().then(()=>{this._buildZipcodeQuery(),this._buildLocationQuery(),this._buildKeywordQuery(),this._addModeToQuery(),h.a.go("search",{query:this.queryBuilder().build()},{inherit:!1})}).catch(e=>{e instanceof Error&&console.error(e)})}_setParams(){const{query:e}=h.a.routeParams();this.keyword(this._getKeywordFromQuery(e)),this.location(this._getLocationFromQuery(e)),this.radiusValue(this._getRadiusValueFromQuery(e)),this.radiusUnit(this._getRadiusUnitFromQuery(e)),this.country(this._getCountryFromQuery(e)),this.zipcode(this._getZipcodeFromQuery(e))}_setDefaultCustomParams(){this.isStickySearchBarEnabled=!1,this.isReady=Object(n.observable)(!1)}_clearParams(){this.location({}),this.country(null),this.zipcode(null)}_buildKeywordQuery(){this.queryBuilder(this.queryBuilder().withKeyword(this.keyword()))}_buildLocationQuery(){if(this.mode()===xl.ZIPCODE)return;const e=this.location();if(!Boolean(Object.keys(e).length))return this.queryBuilder(this.queryBuilder().withoutLocation()),this.queryBuilder(this.queryBuilder().withoutZipcode()),this.queryBuilder(this.queryBuilder().withoutCountryCode()),void this.queryBuilder(this.queryBuilder().withoutZipcodeKeyword());this.queryBuilder(this.queryBuilder().withLocation(this.location()));const{level:t,isGeolocation:i}=e;"city"===t||i?(this.queryBuilder(this.queryBuilder().withRadius(this.radiusValue())),this.queryBuilder(this.queryBuilder().withRadiusUnit(this.radiusUnit()))):this.queryBuilder(this.queryBuilder().withoutRadius()),this.queryBuilder(this.queryBuilder().withoutZipcode()),this.queryBuilder(this.queryBuilder().withoutCountryCode()),this.queryBuilder(this.queryBuilder().withoutZipcodeKeyword())}_buildZipcodeQuery(){if(this.mode()!==xl.ZIPCODE)return;const e=this.zipcode();if(!(e&&Boolean(Object.keys(e).length)))return this.queryBuilder(this.queryBuilder().withoutZipcode()),this.queryBuilder(this.queryBuilder().withoutCountryCode()),this.queryBuilder(this.queryBuilder().withoutZipcodeKeyword()),this.queryBuilder(this.queryBuilder().withoutLocation()),void this.queryBuilder(this.queryBuilder().withoutRadius());if(0===this.radiusValue())this.queryBuilder(this.queryBuilder().withZipcode(e)),this.queryBuilder(this.queryBuilder().withRadius(this.radiusValue())),this.queryBuilder(this.queryBuilder().withoutZipcodeKeyword()),this.queryBuilder(this.queryBuilder().withoutLocation());else{const{zipcodeKeyword:t}=e;this.queryBuilder(this.queryBuilder().withLocation(e)),this.queryBuilder(this.queryBuilder().withRadius(this.radiusValue())),this.queryBuilder(this.queryBuilder().withRadiusUnit(this.radiusUnit())),this.queryBuilder(this.queryBuilder().withZipcodeKeyword(t)),this.queryBuilder(this.queryBuilder().withoutZipcode())}this.queryBuilder(this.queryBuilder().withCountryCode(this.country()))}_addModeToQuery(){this.queryBuilder(this.queryBuilder().withMode(this.mode()))}_getKeywordFromQuery(e){return e&&e.keyword?e.keyword:""}_getLocationFromQuery(e){if(!e)return{};if(e.locationId){const{location:t,locationId:i,locationLevel:n}=e;return{label:t,locationId:i,level:n}}if(e.latitude&&e.longitude){const{latitude:t,longitude:i,location:n}=e;return{latitude:t,longitude:i,label:n,isGeolocation:!0}}return{}}_getRadiusValueFromQuery(e){return e&&e.radius&&parseInt(e.radius,10)||0}_getRadiusUnitFromQuery(e){return e&&e.radiusUnit?e.radiusUnit:El}_getCountryFromQuery(e){return e&&e.workLocationCountryCode?e.workLocationCountryCode:null}_getZipcodeFromQuery(e){return e?e.workLocationZipCode&&e.workLocationCountryCode?e.workLocationZipCode:e.zipcode?e.zipcode:null:null}fetchJobLocations(e){return Sl.getLocationsByTerm(e)}}var Al='\x3c!-- ko if: customizationCompactParams && !isCustomSearch() --\x3e\n\x3c!-- ko component: { name: \'search-box-compact-customization\', params: customizationCompactParams } --\x3e\x3c!-- /ko --\x3e\n\x3c!-- /ko --\x3e\n\n\x3c!-- ko if: isCustomSearch() --\x3e\n<style data-bind="text: customCss()"></style>\n\x3c!-- /ko --\x3e\n<div\n    class="search-box-compact font-family-secondary"\n    data-bind="class: customizationParams.commonParams ? customizationParams.commonParams.cssClass : \'\',\n        css: { \'search-box-compact--admin-mode\': isAdminMode },\n        attr: { id: customizationParams.commonParams ? customizationParams.commonParams.cssId : \'\' },\n        customStyles: customizationParams.commonParams,\n        sticky: {\n            isEnabled: isStickySearchBarEnabled,\n            isReady: isReady,\n            className: \'search-box-compact--sticky\'\n        }\n    "\n>\n    <div class="search-box-compact__form text-color-secondary">\n        <div\n            class="search-box-compact__fieldset search-box-compact__fieldset--keyword"\n            id="keyword-container"\n            data-bind="a11y.skipTo: {elementsFocused: \'#keyword\'}"\n        >\n            <div class="search-box-compact__label text-color-secondary">\n                <span data-bind="i18n: \'search.keyword-label\'"></span>\n            </div>\n            <div class="search-box-compact__field" role="application">\n                <label\n                    for="keyword"\n                    class="oj-helper-hidden-accessible"\n                    data-bind="i18n: \'search.keyword-placeholder\'"\n                ></label>\n                \x3c!-- ko component: { name: \'search-box-keyword\',\n                    params: {\n                        value: keyword,\n                        action: performSearch } } --\x3e\n                \x3c!-- /ko --\x3e\n            </div>\n        </div>\n        <div class="search-box-compact__fieldset-spacer"></div>\n        <div\n            class="search-box-compact__fieldset search-box-compact__fieldset--location"\n            id="location-container"\n        >\n            <mode-menu></mode-menu>\n            <div class="search-box-compact__field" role="application">\n                <label\n                    for="location"\n                    class="oj-helper-hidden-accessible"\n                    data-bind="i18n: \'location-bar.dropdown.location-input-label\'"\n                ></label>\n                \x3c!-- ko if: mode() === MODES.LOCATION --\x3e\n                \x3c!-- ko component: { name: \'search-box-location\',\n                        params: {\n                            value: location,\n                            action: performSearch,\n                            radiusValue: radiusValue,\n                            radiusUnit: radiusUnit } } --\x3e\n                \x3c!-- /ko --\x3e\n                \x3c!-- /ko --\x3e\n\n                \x3c!-- ko if: mode() === MODES.RECRUITING_LOCATION--\x3e\n                \x3c!-- ko component: { name: \'search-recruiting-location\',\n                        params: {\n                            location: location,\n                            action: performSearch,\n                            radiusValue: radiusValue,\n                            radiusUnit: radiusUnit,\n                            fetch: fetchJobLocations,\n                            beforeSearch: beforeSearch  } } --\x3e\n                \x3c!-- /ko --\x3e\n                \x3c!-- /ko --\x3e\n\n                \x3c!-- ko if: isGeolocationEnabled && mode() === MODES.GEO_LOCATION --\x3e\n                \x3c!-- ko component: { name: \'search-box-geo-location\',\n                        params: {\n                            value: location,\n                            action: performSearch,\n                            radiusValue: radiusValue,\n                            radiusUnit: radiusUnit,\n                            beforeSearch: beforeSearch } } --\x3e\n                \x3c!-- /ko --\x3e\n                \x3c!-- /ko --\x3e\n\n                \x3c!-- ko if: isZipcodeEnabled && mode() === MODES.ZIPCODE --\x3e\n                \x3c!-- ko component: { name: \'search-box-zipcode\',\n                        params: {\n                            value: zipcode,\n                            action: performSearch,\n                            radiusValue: radiusValue,\n                            radiusUnit: radiusUnit,\n                            country: country,\n                            beforeSearch: beforeSearch } } --\x3e\n                \x3c!-- /ko --\x3e\n                \x3c!-- /ko --\x3e\n            </div>\n        </div>\n    </div>\n\n    <button\n        class="search-box-compact__button text-color-secondary"\n        type="button"\n        data-qa="searchStartBtn"\n        data-bind="\n            click: performSearch,\n            i18nAttr: { title: \'search.search-button\' }\n        "\n    >\n        <i class="icon-search-thin theme-color-1"></i>\n\n        <span class="search-box-compact__button-background text-color-primary"></span>\n        <span class="search-box-compact__button-border text-color-secondary"></span>\n    </button>\n</div>\n';n.components.register("search-box-compact",{viewModel:Ol,template:Al}),n.components.register("search-box-compact-customization",{template:'<style data-bind="applyStyles: $data">\n    .search-box-compact__form::before,\n    .search-box-compact__fieldset::before,\n    .search-box-compact__button::before {\n        background-color: transparent !important; /* backgroundColor */\n        border-color: transparent !important; /* foregroundColor */\n        opacity: 1 !important;\n    }\n\n    .search-box-compact__fieldset-spacer,\n    .search-jobs__misc-spacer {\n        background-color: transparent !important; /* foregroundColor */\n    }\n\n    .search-box-compact__input {\n        color: transparent !important; /* fontColor */\n    }\n\n    .search-box-compact__input::placeholder {\n        color: transparent; /* foregroundColor */\n    }\n\n    .search-box-compact__button-border {\n        border-color: transparent !important; /* foregroundColor */\n        opacity: 1 !important;\n    }\n\n    .search-box-compact__label {\n        color: transparent !important; /* fontColor */\n    }\n\n    .search-box-compact__radius,\n    .search-box-compact__spinner,\n    .search-jobs__misc-button,\n    .search-jobs__misc .search-jobs__chromeless-select .oj-select-arrow {\n        color: transparent !important; /* foregroundColor */\n    }\n</style>\n'}),n.components.register("cc-minimal-search-box-compact",{viewModel:Ol,template:Al});const Pl={headerTypography:".search-box-compact__label, .search-box-compact__menu-button, .search-box-compact-zip-code__information, .search-box-compact__action",searchValuePlaceholderTypography:".search-box-compact__input::placeholder, .search-box-compact-recruiting-location .input-row__search-input .oj-combobox-input::placeholder",searchValueTypography:".search-box-compact__input, .search-box-compact-recruiting-location .input-row__search-input .oj-combobox-input",searchButtonStyle:".search-box-compact .search-box-compact__button",buttonHoverStyle:".search-box-compact__button:hover",dropdownValuesTypography:".search-box-compact__menu-item, .input-row__label, .search-box-compact__menu .input-row__label",commonParams:".search-box-compact",separators:".search-box-compact .search-box-compact__fieldset-spacer",fieldset:".search-box-compact .search-box-compact__fieldset",buttonBorder:".search-box-compact .search-box-compact__button-border",buttonBackground:".search-box-compact .search-box-compact__button-background",inputBorderMobile:".search-box-compact .search-box-compact__fieldset::before",inputBackgroundDesktop:".search-box-compact .search-box-compact__form::before",dropdownMenu:".search-box-compact .search-box-compact__menu"},Tl=(e,t)=>Object.keys(e).map(i=>{switch(i){case"headerTypography":return vr({selector:t.headerTypography,typography:e[i]});case"searchValuesTypography":return vr({selector:t.searchValueTypography,typography:e[i]});case"searchValuesTypographySelected":const n=Er({sourceParams:e.searchValuesTypography,targetParams:e.searchValuesTypographySelected,mergeParamsValue:Sr({type:"replaceNonExistingParamsWithDefault",defaultParams:rn.searchValuesTypographySelected})});return vr({selector:t.searchValuePlaceholderTypography,typography:n});case"dropdownValuesTypography":return vr({selector:t.dropdownValuesTypography,typography:e[i]});case"searchBarContent":return[fr({selector:t.commonParams,width:e[i].width(),widthUnit:e[i].widthUnit()}),kr((({selector:e,height:t,heightUnit:i})=>t<0?"":br(e,hr("maxHeight",`${t}${i}`)))({selector:t.commonParams,height:e[i].height(),heightUnit:e[i].heightUnit()}))].join("\r\n");case"searchButtonStyle":return _r({selector:t.searchButtonStyle,stylingBox:e[i],lightIconSelector:".search-box-compact__button .icon-search-thin",darkIconSelector:null});case"buttonHoverStyle":const s=Er({sourceParams:e.searchButtonStyle,targetParams:e.buttonHoverStyle,mergeParamsValue:Sr({type:"replaceNonExistingParamsWithDefault",defaultParams:rn.buttonHoverStyle})});return _r({selector:t.buttonHoverStyle,stylingBox:s,darkIconSelector:null,lightIconSelector:".search-box-compact__button:hover .icon-search-thin,\n                    "+t.buttonHoverStyle});case"separators":return(({separatorSelector:e,borderSelector:t,backgroundColor:i})=>{if(!i)return"";return[br(e,hr("backgroundColor",i)),kr([br(t,"border-inline-start: 1px solid "+i),br(`${Ir} ${t}`,"border-left: 0;\n                    border-right: 1px solid "+i)].join("\r\n"))].join("\r\n")})({separatorSelector:t.separators,borderSelector:t.searchButtonStyle,backgroundColor:e[i].borderColor()});case"overallStyle":return(({selectors:e,backgroundColor:t,borderColor:i,borderWidth:n,borderRadius:s})=>{t||(t=""),n||(n="1");return[wr([br(`${e.fieldset}, ${e.dropdownMenu}`,`background-color: ${t};`),br(`${e.fieldset}, ${e.searchButtonStyle}, ${e.buttonBackground}`,`border-radius: ${s}px;`),br(`${e.buttonBorder}, ${e.inputBorderMobile}`,`border: ${n}px solid ${i};\n                    border-radius: ${s}px;`)].join("\r\n")),kr([br(`${e.inputBackgroundDesktop}, ${e.dropdownMenu}`,hr("backgroundColor",t)),br(e.inputBackgroundDesktop,`border: ${n}px solid ${i};\n                    border-right: 0;\n                    border-radius: ${s}px 0 0 ${s}px;`),br(e.buttonBorder,`border: ${n}px solid ${i};\n                    border-left: 0;\n                    border-radius: 0 ${s}px ${s}px 0;`),br(`${e.searchButtonStyle}, ${e.buttonBackground}`,`border-radius: 0 ${s}px ${s}px 0;`),br(`${Ir} ${e.inputBackgroundDesktop}`,`border: ${n}px solid ${i};\n                    border-left: 0;\n                    border-radius: 0 ${s}px ${s}px 0;`),br(`${Ir} ${e.buttonBorder}`,`border: ${n}px solid ${i};\n                    border-right: 0;\n                    border-radius: ${s}px 0 0 ${s}px;`),br(`${Ir} ${e.searchButtonStyle}, ${Ir} ${e.buttonBackground}`,`border-radius: ${s}px 0 0 ${s}px;`)].join("\r\n"))].join("\r\n")})({selectors:t,backgroundColor:e[i].backgroundColor(),borderWidth:e[i].borderWidth(),borderRadius:e[i].borderRadius(),borderColor:e[i].borderColor()});case"commonParams":case"type":case"__ko_mapping__":return"";default:return Bi(i)}}).join("\r\n");n.components.register("cc-search-bar",{viewModel:class extends Ol{constructor({params:e,isAdminMode:t=!1}){super({params:e}),this.isCustomSearch=Object(n.observable)(!0),this.isAdminMode=t,this.customCss=Object(n.pureComputed)(()=>Tl(this.customizationParams,Pl)),this.isStickySearchBarEnabled=this._isSearchBarSticky()&&!t,or.loading.subscribeOnce(e=>{e||this.isReady(!0)})}_isSearchBarSticky(){return this.customizationParams.searchBarContent.searchBarSticky()}},template:Al});class jl{constructor(){this.loaded=Object(n.observable)(!1),this.expanded=Object(n.observable)(!1),this.totalCount=Object(n.observable)(0),this.newestCount=Object(n.observable)(),this.primaryCategories=Object(n.observableArray)(),this.secondaryCategories=Object(n.observableArray)(),this.isPostingDatesFacetEnabled=Object(n.observable)(!1),this.isCategoriesFacetEnabled=Object(n.observable)(!1),this.queryBuilder=new sr,this.isExpandButtonVisible=Object(n.pureComputed)(this._computeExpandButtonVisibility,this),this.filterByCategory=this.filterByCategory.bind(this),Ts.searchFacets().then(this._initSearchResultsModel.bind(this)).catch(e=>console.error(e))}expand(){this.expanded(!0)}viewAll(){h.a.go("search")}filterNewest(){this.queryBuilder.withFacet({type:"POSTING_DATES",selectedIds:["30"]}),h.a.go("search",{query:this.queryBuilder.build()})}filterByCategory(e){this.queryBuilder.withFacet({type:"CATEGORIES",selectedIds:[e.value]}),h.a.go("search",{query:this.queryBuilder.build()})}_initSearchResultsModel({totalJobsCount:e,facets:t}){this.totalCount(e),this.newestCount(this._getNewestJobsCount(t));const{primaryCategories:i,secondaryCategories:n}=this._getCategories(t);this.primaryCategories(i),this.secondaryCategories(n),this.loaded(!0)}_getNewestJobsCount(e){const[t]=e.filter(({type:e})=>"POSTING_DATES"===e);if(!t)return null;const[i]=t.items().filter(({value:e})=>"30"===e);return i?(this.isPostingDatesFacetEnabled(!0),i.totalCount):null}_getCategories(e){const[t]=e.filter(({type:e})=>"CATEGORIES"===e);if(!t)return{primaryCategories:[],secondaryCategories:[]};this.isCategoriesFacetEnabled(!0);const i=t.items().sort((e,t)=>t.totalCount-e.totalCount);return{primaryCategories:i.slice(0,5),secondaryCategories:i.slice(5)}}_computeExpandButtonVisibility(){return!this.expanded()&&this.secondaryCategories().length}}var Rl='<ul class="categories-list font-family-secondary">\n    \x3c!-- ko if: loaded --\x3e\n\n    <li class="categories-list__group">\n        <a\n            href="#"\n            class="categories-list__button"\n            data-bind="click: viewAll"\n            data-qa="searchCategoriesShowAllJobsLink"\n        >\n            <span class="categories-list__title" data-bind="i18n: \'search.all-jobs\'"></span>\n\n            <span class="categories-list__counter text-color-secondary">\n                (<span data-bind="text: totalCount"></span>)\n            </span>\n        </a>\n    </li>\n\n    \x3c!-- ko if: isPostingDatesFacetEnabled --\x3e\n    <li class="categories-list__group">\n        <a href="#" class="categories-list__button" data-bind="click: filterNewest">\n            <span class="categories-list__title" data-bind="i18n: \'search.new-jobs\'"></span>\n\n            <span class="categories-list__counter text-color-secondary">\n                (<span data-bind="text: newestCount"></span>)\n            </span>\n        </a>\n    </li>\n    \x3c!-- /ko --\x3e\n\n    \x3c!-- ko if: isCategoriesFacetEnabled --\x3e\n\n    \x3c!-- ko foreach: { data: primaryCategories, as: \'category\' } --\x3e\n    <li class="categories-list__group">\n        <a href="#" class="categories-list__button" data-bind="click: $parent.filterByCategory">\n            <span class="categories-list__title" data-bind="text: category.text"></span>\n            <span class="categories-list__counter text-color-secondary">\n                (<span data-bind="text: category.totalCount"></span>)\n            </span>\n        </a>\n    </li>\n    \x3c!-- /ko --\x3e\n\n    \x3c!-- ko if: isExpandButtonVisible --\x3e\n    <li class="categories-list__expand">\n        <button\n            type="button"\n            class="categories-list__expand-button text-color-secondary"\n            data-bind="click: expand, i18nAttr: { title: \'facets.show-all-categories-label\' }"\n        ></button>\n    </li>\n    \x3c!-- /ko --\x3e\n\n    \x3c!-- ko if: expanded --\x3e\n\n    \x3c!-- ko foreach: { data: secondaryCategories, as: \'category\' } --\x3e\n    <li class="categories-list__group">\n        <a href="#" class="categories-list__button" data-bind="click: $parent.filterByCategory">\n            <span class="categories-list__title" data-bind="text: category.text"></span>\n            <span class="categories-list__counter text-color-secondary">\n                (<span data-bind="text: category.totalCount"></span>)\n            </span>\n        </a>\n    </li>\n    \x3c!-- /ko --\x3e\n\n    \x3c!-- /ko --\x3e\n\n    \x3c!-- /ko --\x3e\n\n    \x3c!-- /ko --\x3e\n</ul>\n';n.components.register("search-categories",{viewModel:jl,template:Rl}),n.components.register("cc-minimal-search-categories",{viewModel:jl,template:Rl});const Fl={KM:Object(l.a)("location-bar.dropdown.radius-unit.switch-to-miles"),MI:Object(l.a)("location-bar.dropdown.radius-unit.switch-to-kilometers")},Dl={KM:Object(l.a)("location-bar.dropdown.radius-unit.km"),MI:Object(l.a)("location-bar.dropdown.radius-unit.mi")},Ll={KM:[{label:"0 "+Dl.KM,value:0},{label:"5 "+Dl.KM,value:5},{label:"10 "+Dl.KM,value:10},{label:"25 "+Dl.KM,value:25},{label:"50 "+Dl.KM,value:50}],MI:[{label:"0 "+Dl.MI,value:0},{label:"5 "+Dl.MI,value:5},{label:"10 "+Dl.MI,value:10},{label:"25 "+Dl.MI,value:25},{label:"50 "+Dl.MI,value:50}]};class Nl{constructor({radiusValue:e,radiusUnit:t}){this.radiusValue=e,this.radiusUnit=t,this.defaultRadiusUnit=Object(n.pureComputed)(()=>"MI"===this.radiusUnit()?Object(l.a)("location-bar.dropdown.radius-unit.mi"):Object(l.a)("location-bar.dropdown.radius-unit.km")),this.isVisible=Object(n.observable)(!1),this.radiusOptions=Object(n.pureComputed)(()=>Ll[this.radiusUnit()]),this.radiusLabel=Object(n.pureComputed)(()=>Fl[this.radiusUnit()])}toggle(){this.isVisible(!this.isVisible())}hide(){this.isVisible(!1)}handleOptionSet(e){this.radiusValue(e),this.hide()}switchUnit(){this.radiusUnit("KM"===this.radiusUnit()?"MI":"KM")}}n.components.register("search-radius",{viewModel:Nl,template:'<button\n    dir="ltr"\n    class="search-box-compact__action search-box-compact__action--radius text-color-secondary"\n    data-bind="click: toggle, i18nAttr: { title: \'location-bar.dropdown.location-radius-label\' }"\n>\n    +<span data-bind="text: radiusValue"></span> <span data-bind="text: defaultRadiusUnit"></span>\n    <i class="search-box-compact__menu-icon icon-triangle-down"></i>\n</button>\n\n<div\n    class="search-box-compact__menu search-box-compact__menu--radius"\n    data-bind="\n         css: { \'search-box-compact__menu--active\': isVisible },\n         a11y.trapFocus,\n         a11y.setInitialFocus: { isVisible: isVisible, delay: 400 },\n         boolAttr: { \'aria-expanded\': isVisible },\n         clickOutside: { action: hide, when: isVisible, excludeElement: \'.search-box-compact__action--radius\' }"\n>\n    <ul class="search-box-compact__menu-list" role="listbox">\n        \x3c!-- ko foreach: { data: radiusOptions, as: \'option\' } --\x3e\n        <li\n            dir="ltr"\n            class="\n                search-box-compact__menu-item\n                search-box-compact__menu-item--align-right\n                search-box-compact__menu-item--distance\n                text-color-primary\n            "\n            role="option"\n        >\n            <button data-bind="click: $component.handleOptionSet.bind($component, option.value)">\n                <span>+</span><span data-bind="text: option.label"></span>\n            </button>\n        </li>\n        \x3c!-- /ko --\x3e\n\n        <li class="search-box-compact__separator"></li>\n\n        <li class="search-box-compact__menu-item" role="option">\n            <button\n                data-bind="click: switchUnit, text: radiusLabel, a11y.setFocusOnClick: { focusOn: \'.search-box-compact__menu-item--distance button\' }"\n            ></button>\n        </li>\n    </ul>\n</div>\n'});n.components.register("search-radius-zip-code",{viewModel:class extends Nl{constructor(e){super(e),this.radiusUnits=Fl,this.radiusOptionsZipCode=Object(n.observable)(this._getRadiusValuesWithoutUnits())}_getRadiusValuesWithoutUnits(){return this.radiusOptions().map(({label:e,value:t})=>({label:"+"+e.substring(0,e.length-3),value:t}))}switchUnit(e){this.radiusUnit(e)}},template:'<label class="input-row__label" data-bind="i18n: \'location-bar.dropdown.location-radius-label\'"></label>\n<div class="search-box-compact-zip-code__radius-search">\n    <oj-select-one\n        class="input-row__select"\n        value="{{radiusValue}}"\n        options="[[radiusOptionsZipCode]]"\n        picker-attributes=\'{"class": "input-row__listbox search-jobs__distance-dropdown"}\'\n    >\n    </oj-select-one>\n\n    \x3c!-- ko foreach: { data: Object.keys(radiusUnits), as: \'key\' } --\x3e\n    <button\n        class="search-box-compact__menu-item search-box-compact-zip-code__switch-units"\n        data-bind="click: $component.switchUnit.bind($component, key), text: key, \n    css: { \'search-box-compact-zip-code__switch-units--active\': key === $component.radiusUnit() }"\n    ></button>\n    \x3c!-- /ko --\x3e\n</div>\n'});n.components.register("search-pagination",{viewModel:class{constructor({state:e}){this.state=e}},template:'\x3c!-- ko if: state().type === \'loading\' --\x3e\n<div class="search-pagination">\n    <div class="search-pagination__loading">\n        <span class="search-pagination__loading-label" data-bind="i18n: \'search.loading\'"></span>\n\n        <div class="search-pagination__spinner">\n            <spinner></spinner>\n        </div>\n    </div>\n</div>\n\x3c!-- /ko --\x3e\n\n\x3c!-- ko if: state().type === \'has_more_items\' --\x3e\n<div class="search-pagination">\n    \x3c!-- ko if: state().isInfiniteScrollEnabled --\x3e\n    <div data-bind="infiniteScroll: true, settings: { loader: state().loadMore() }"></div>\n    \x3c!-- /ko --\x3e\n\n    \x3c!-- ko ifnot: state().isInfiniteScrollEnabled --\x3e\n    <button class="button text-color-primary font-family-secondary" data-bind="click: state().loadMore()">\n        <span class="button__label" data-bind="i18n: \'search.show-more-results\'"></span>\n    </button>\n    \x3c!-- /ko --\x3e\n</div>\n\x3c!-- /ko --\x3e\n'});var Ml={show:new Ot.a,hide:new Ot.a,toggleFields:new Ot.a,userConfirmed:new Ot.a,challengeRequired:new Ot.a,submitFailed:new Ot.a};class Vl extends class{constructor({className:e}={}){this.className=e?"talent-community-tile--"+e:"",this.labels={header:c.a.talentCommunitySignUp.title,description:c.a.talentCommunitySignUp.description,button:c.a.talentCommunitySignUp.buttonLabel},this.url=m.b.interpolate({},"talent-community")}openSignUpComponent(){Ml.show.dispatch()}}{openSignUpComponent(){Ws.store(),h.a.go("talent-community")}}var Bl='<div\n    class="talent-community-tile text-color-secondary"\n    data-bind="css: className"\n    data-qa="searchResultTCJoin"\n>\n    <div class="talent-community-tile__line background-color-secondary"></div>\n\n    <h3 class="talent-community-tile__title text-color-primary" data-bind="text: labels.header"></h3>\n    <p class="talent-community-tile__subheader" data-bind="text: labels.description"></p>\n\n    <div class="talent-community-tile__actions">\n        <a\n            class="button text-color-primary font-family-secondary"\n            data-bind="click: openSignUpComponent, attr: {\'href\': url}"\n        >\n            <span class="button__label" data-bind="text: labels.button"></span>\n        </a>\n    </div>\n\n    <div class="talent-community-tile__line background-color-secondary"></div>\n</div>\n';n.components.register("talent-community-tile",{viewModel:Vl,template:Bl}),n.components.register("talent-community-tile-static",{viewModel:class extends Vl{openSignUpComponent(){}},template:Bl});class ql{constructor({requisitionId:e,className:t,isReady:i}){this.getJobUrl=Br,this.openJob=qr,this.initialized=rr.initialized,this.requisitions=rr.requisitions,this.loadingMoreInProgress=Object(n.observable)(!1),this.loading=rr.loading,this.showResults=Object(n.pureComputed)(this._showResults,this),this.hasMoreResults=rr.hasMore,this.requisitionId=e,this.className=t,this.header=this.getHeaderLabel(),this.isReady=null!=i?i:Object(n.observable)(!1),this.performSearch()}performSearch(){throw new Error("Method not implemented")}getMoreJobs(){throw new Error("Method not implemented")}getHeaderLabel(){throw new Error("Method not implemented")}loadMoreJobs(){const e=this.requisitions().length;this.loadingMoreInProgress(!0),this.getMoreJobs().then(()=>{this._onMoreJobsLoaded(),this._setFocusOnNextJobListElement(e)}).catch(this._handleError)}_showResults(){return!this.loading()&&this._hasResults()}_onInitialized(e){e&&this.jobsLoaded(!0)}onJobsLoaded(){this.isReady(!0)}_hasResults(){return this.initialized()&&this.requisitions().length>0}_onMoreJobsLoaded(){this.loadingMoreInProgress(!1)}_handleError(e){console.error(e),this.loadingMoreInProgress(!1),this.loading(!1)}_setFocusOnNextJobListElement(e){const t=document.querySelector(".jobs-list__list").querySelectorAll(".job-tile__show")[e];t&&t.focus()}}class Ul extends cr{searchJobs(e,t){return this._searchJobs(e,t)}loadMoreJobs(e,t){return this._loadMoreJobs(e,t)}_insertAdditionalRequisitions(e){return e}}const Hl=new class extends Ul{_performSearch(e,t){return Ts.searchSimilarJobs(e,t)}}(rr);var $l='<div\n    class="ai-jobs-search"\n    data-bind="class: className, css: {\'cs-ai-jobs-search--no-results\': !showResults() } "\n>\n    \x3c!-- ko if: loading --\x3e\n    <div class="search-jobs__loading">\n        <spinner></spinner>\n    </div>\n    \x3c!-- /ko --\x3e\n\n    \x3c!-- ko if: showResults --\x3e\n\n    <div class="job-details__similar-jobs-header">\n        <div class="heading job-details__title" data-bind="i18n: header"></div>\n    </div>\n\n    <div class="jobs-list job-details__similar-jobs">\n        <ul class="jobs-list__list">\n            \x3c!-- ko foreach: { data: requisitions, as: \'job\' } --\x3e\n            <li data-qa="searchResultItem">\n                \x3c!-- ko component: { name: \'search-result-list-item\', params: {\n                    job: job,\n                    isSimilar: true,\n                } } --\x3e\x3c!-- /ko --\x3e\n            </li>\n            \x3c!-- /ko --\x3e\n        </ul>\n\n        \x3c!-- ko if: hasMoreResults --\x3e\n        <div class="job-details__see-more-button">\n            <button class="button theme-color-1 font-family-secondary" data-bind="click: loadMoreJobs">\n                <inline-spinner\n                    params="isLoading: loadingMoreInProgress, i18n: \'search.search-similar.see-more-button\'"\n                ></inline-spinner>\n            </button>\n        </div>\n        \x3c!-- /ko --\x3e\n    </div>\n\n    \x3c!-- /ko --\x3e\n</div>\n';n.components.register("search-similar",{viewModel:class extends ql{performSearch(){Hl.searchJobs("",this.requisitionId)}getMoreJobs(){return Hl.loadMoreJobs("",this.requisitionId)}getHeaderLabel(){return"search.search-similar.header"}},template:$l});i(34);const Jl=new class extends Ul{_performSearch(e,t){return Ts.searchJobsToCandidate(e,t)}_handleSearchError(e){return super._handleSearchError(e),Promise.reject(e)}}(rr);n.components.register("search-jobs-to-candidate",{viewModel:class extends ql{performSearch(){Jl.searchJobs({},this.requisitionId).catch(this._handleError.bind(this)).finally(this.onJobsLoaded.bind(this))}getMoreJobs(){return Jl.loadMoreJobs({},this.requisitionId)}getHeaderLabel(){return"search.search-jobs-to-candidate.header"}_handleError(e){super._handleError(e),bi.error(Object(l.a)("candidate-self-service.jobs-to-candidates-loading-error"))}},template:$l});var zl=class extends ml{constructor(e){super(e),this.country=e.country,this.zipcode=Object(n.observable)(this.value()),this.isWorking=Object(n.observable)(!1),this.showNoResultsHint=Object(n.observable)(!1),this.showNoSelectedCountry=Object(n.observable)(!1),this.hasFocus=Object(n.observable)(!1),this.fullCountryName=Object(n.observable)(""),this.isVisible=Object(n.observable)(!1),this.fullLocationLabel=Object(n.pureComputed)(()=>`+${this.radiusValue()} ${this.radiusUnit()}${this.fullCountryName()}`),this._focusSubscription=this.hasFocus.subscribe(e=>{e&&this.isVisible(e)}),this._fullCountryNameSubscription=this.country.subscribe(e=>{this._setFullCountryName(e)}),this.beforeSearch(this._handleSubmit.bind(this)),this._setFullCountryName(this.country()),this._getGeolocationParams(),this._setInitialRadiusParams()}onPressEnter(){this.action()}_setInitialRadiusParams(){this.zipcode()||this.radiusValue(25)}_getGeolocationParams(){this.zipcode()||(this.isWorking(!0),ae.a.query().then(({zipCode:e,countryCode:t})=>{this.zipcode(e),this.country()||this.country(t),this.isWorking(!1),this.radiusValue(25)}).catch(()=>{this.isWorking(!1)}))}_resolveZipcode(){const e=this.zipcode();return ae.a.getLocationByZipcode(e,this.country()).then(t=>({latitude:t.latitude,longitude:t.longitude,isGeolocation:!0,zipcodeKeyword:e}))}_handleSubmit(){return this.zipcode()&&!this.country()?(this.showNoSelectedCountry(!0),Promise.reject("Country not set")):this.zipcode()&&this.radiusValue()>0?(this.isWorking(!0),this._resolveZipcode().then(this._onZipcodeResolveSuccess.bind(this)).catch(this._onZipcodeResolveFailure.bind(this))):(this.value(this.zipcode()),Promise.resolve())}_onZipcodeResolveSuccess(e){this.isWorking(!1),this.value(e),this.showNoResultsHint(!1)}_onZipcodeResolveFailure(){return this.isWorking(!1),this.showNoResultsHint(!0),Promise.reject()}dispose(){this.value(""),this.beforeSearch(()=>Promise.resolve()),this._focusSubscription.dispose()}hide(){this.hasFocus()||this.isVisible(!1)}_getFullCountryName(e){return se.findOne("countries",{TerritoryCode:e}).catch(e=>(console.error(e),Promise.resolve({})))}async _setFullCountryName(e){const{territoryShortName:t=""}=e?await this._getFullCountryName(e):"";this.fullCountryName(t?", "+t:"")}};n.components.register("search-box-zipcode",{viewModel:zl,template:'<input\n    id="location"\n    class="search-box-compact__input search-box-compact__input-zipcode text-color-primary"\n    type="text"\n    aria-autocomplete="list"\n    aria-haspopup="true"\n    aria-owns="suggestions-locations"\n    aria-controls="suggestions-locations"\n    data-qa="searchLocationInput"\n    data-bind="textInput: zipcode,\n        disable: isWorking,\n        hasFocus: hasFocus,\n        i18nAttr: { placeholder: \'location-bar.zipcode-placeholder\' },\n        a11y.keysHandler: { keys: \'enter\', handler: onPressEnter }"\n/>\n\n\x3c!-- ko if: isWorking --\x3e\n<div class="search-box-compact__loading">\n    <spinner params="className: \'search-box-compact__spinner\'"></spinner>\n</div>\n\x3c!-- /ko --\x3e\n\n\x3c!-- ko ifnot: isWorking --\x3e\n<span\n    dir="ltr"\n    class="search-box-compact-zip-code__information"\n    data-bind="text: fullLocationLabel, i18nAttr: { title: \'location-bar.dropdown.location-radius-label\' }"\n></span>\n\n<div class="search-box-compact-zip-code__menu-container">\n    <div\n        class="search-box-compact__menu search-box-compact-zip-code__menu"\n        data-bind="css: { \'search-box-compact__menu--active\': isVisible },\n        boolAttr: {\'aria-expanded\': isVisible}, clickOutside: { action: hide, when: isVisible }"\n    >\n        <search-radius-zip-code\n            params="radiusValue: radiusValue, radiusUnit: radiusUnit"\n        ></search-radius-zip-code>\n        <search-countries params="country: country"></search-countries>\n    </div>\n</div>\n\x3c!-- /ko --\x3e\n\n\x3c!-- ko component: { name: \'search-box-popup\', params: {\n    message: \'location-bar.dropdown.wrong-zipcode\',\n    value: showNoResultsHint,\n    restoreValue: true,\n    autoDismiss: true  } } --\x3e\n\x3c!-- /ko --\x3e\n\n\x3c!-- ko component: { name: \'search-box-popup\', params: {\n    message: \'location-bar.dropdown.missing-country\',\n    value: showNoSelectedCountry,\n    restoreValue: true,\n    autoDismiss: true  } } --\x3e\n\x3c!-- /ko --\x3e\n'});var Wl=class{constructor({country:e}){this.country=e,this.options=Object(n.observable)([]),this.isDisabled=Object(n.observable)(!0),this.placeholder=Object(l.a)("location-bar.country-placeholder"),this.value=e,this.getOptions().then(e=>{this.options(e)}).then(e()?Promise.reject:ae.a.query).then(({countryCode:e})=>{this.country(e),this.isDisabled(!1)}).catch(()=>{this.isDisabled(!1)})}getOptions(){return se.get(se.CODES.countries).then(e=>e.map(e=>({label:e.territoryShortName,value:e.territoryCode})))}};n.components.register("search-countries",{viewModel:Wl,template:'<label class="input-row__label" data-bind="i18n: \'location-bar.country-placeholder\'"></label>\n<div class="input-row__control-container">\n    <oj-select-one\n        class="input-row__select search-box-compact-zip-code__input-select-country"\n        value="{{country}}"\n        options="[[options]]"\n        disabled="[[isDisabled]]"\n        minimum-results-for-search="0"\n        picker-attributes=\'{ "class": "input-row__listbox background-color-dropdown search-jobs__country-dropdown" }\'\n    >\n    </oj-select-one>\n</div>\n'});var Kl={build:e=>se.get(se.CODES.countries).then(t=>{let i=[];const n=s.a.utils.arrayFirst(t,t=>e.countryCode===t.territoryCode)||{};return i.push(e.addressLine1),i.push(e.city),i.push(e.state),i.push(n.territoryShortName),i=i.filter(e=>Boolean(e)),{name:i.join(", "),latitude:e.latitude,longitude:e.longitude}})};const Gl="abort",Yl="inprogress",Ql="error",Zl="success";var Xl={isEnable:s.a.observable(!0),queryStatus:s.a.observable(),query(){this.queryStatus(Yl);const e=ae.a.query(),t=new Promise((e,t)=>{const i=this.queryStatus.subscribe(e=>{e===Gl&&(t(),i.dispose())})});return Promise.race([e,t]).then(Kl.build).then(e=>(this.queryStatus(Zl),e)).catch(e=>(this.queryStatus()!==Gl&&(this.isEnable(!1),this.queryStatus(Ql)),Promise.reject(e)))},abort(){this.queryStatus(Gl)}};const ec="location-bar.button-placeholder",tc="location-bar.dropdown.geolocation-in-progress";var ic=class extends ml{constructor(e){super(e),this.location=Object(n.observable)(),this.isWorking=Object(n.observable)(!1),this.placeholder=Object(n.observable)(ec),this.showRadiusDisplay=Object(n.observable)(!1),this.geolocationFailed=Object(n.observable)(!1),this.beforeSearch(this._showRadiusDisplay.bind(this)),this._setInitialValue()}onPressEnter(){this.geolocationFailed()||this.isWorking()||this.action()}_setInitialValue(){const{label:e}=this.value();e?(this.location(e),this.showRadiusDisplay(!0)):this._fetchFromGeolocation()}_fetchFromGeolocation(){this.placeholder(tc),this.isWorking(!0),Xl.query().catch(this._onGeoLocationFailed.bind(this)).then(this._onGeoLocationFetch.bind(this)).then(this._onLocationFetch.bind(this))}_showRadiusDisplay(){return this.geolocationFailed()||this.showRadiusDisplay(!0),Promise.resolve()}_onLocationFetch(e){this.isWorking(!1);const{label:t}=e;this.value(e),this.location(t)}_onGeoLocationFailed(){this.isWorking(!1),this.geolocationFailed(!0),this.placeholder("")}_onGeoLocationFetch(e){const{latitude:t,longitude:i,name:n}=e;return this.radiusValue(25),this.showRadiusDisplay(!0),this.placeholder(ec),{latitude:t,longitude:i,label:n,isGeolocation:!0}}dispose(){this.value({})}};n.components.register("search-box-geo-location",{viewModel:ic,template:'<input\n    id="location"\n    class="search-box-compact__input search-box-compact__input--geolocation"\n    type="text"\n    aria-autocomplete="list"\n    aria-haspopup="true"\n    aria-owns="suggestions-locations"\n    aria-controls="suggestions-locations"\n    data-qa="searchLocationInput"\n    data-bind="textInput: location,\n                  disable: true,\n                  i18nAttr: { placeholder: placeholder },\n                  a11y.keysHandler: { keys: \'enter\', handler: onPressEnter }"\n/>\n\n\x3c!-- ko if: isWorking --\x3e\n<div class="search-box-compact__loading">\n    <spinner params="className: \'search-box-compact__spinner\'"></spinner>\n</div>\n\x3c!-- /ko --\x3e\n\n\x3c!-- ko if: showRadiusDisplay --\x3e\n<search-radius params="radiusValue: radiusValue, radiusUnit: radiusUnit"></search-radius>\n\x3c!-- /ko --\x3e\n\n\x3c!-- ko component: { name: \'search-box-popup\', params: {\n    message: \'location-bar.dropdown.geolocation-error-info\',\n    value: geolocationFailed,\n    autoDismiss: true } } --\x3e\n\x3c!-- /ko --\x3e\n'});n.components.register("search-breadcrumbs",{viewModel:class{constructor({selectedFilters:e,isVerticalStyle:t}){this.filters=or.filters,this.selectedFilters=Object(n.pureComputed)(e,this),this.hasSelectedFilters=Object(n.pureComputed)(this._hasSelectedFilters,this),this.isVerticalStyle=t,this.unselect=this.unselect.bind(this)}unselect(e){e.selected(!1);const{query:t}=h.a.routeParams(),i=new sr(t).withoutFacets(),s=Object(n.toJS)(this.filters()).filter(e=>e.selectedIds.length>0&&void 0!==e.selectedIds[0]);if(s.length>0)for(const e of s)i.withFacet(e);else i.withoutFacets();h.a.go("search",{query:i.build()},{inherit:!1})}getLabel({text:e}){return Object(l.a)("search.remove-filter-link-label",{filtername:e})}_hasSelectedFilters(){const e=this.selectedFilters();return Boolean(e.length)}},template:'\x3c!-- ko if: hasSelectedFilters --\x3e\n\n<ul class="search-breadcrumbs" data-bind="css: { \'search-breadcrumbs--vertical\': isVerticalStyle }">\n    \x3c!-- ko foreach: { data: selectedFilters, as: \'selectedFilter\' } --\x3e\n\n    <li class="search-breadcrumbs__breadcrumb text-color-secondary">\n        <span\n            class="search-breadcrumb__label text-color-primary"\n            data-bind="attr: { title: selectedFilter.text }"\n        >\n            \x3c!-- ko text: selectedFilter.textParts.main --\x3e\x3c!-- /ko --\x3e\n            \x3c!-- ko text: selectedFilter.textParts.last --\x3e\x3c!-- /ko --\x3e\n        </span>\n        <button\n            class="search-breadcrumb__unselect"\n            data-bind="click: $component.unselect,\n                    attr: { \'aria-label\': $component.getLabel(selectedFilter),\n                            \'title\': $component.getLabel(selectedFilter) },\n                             css: { \'icon-close\': $parent.isVerticalStyle }"\n        ></button>\n    </li>\n\n    \x3c!-- /ko --\x3e\n</ul>\n\n\x3c!-- /ko --\x3e\n'});var nc=class{constructor(){this.mode=kl.currentMode,this.MODES=xl,this.isModeMenuVisible=Object(n.observable)(!1),this.isSearchByRecruitingLocationsModeEnabled=vl(),this.isZipcodeEnabled=_l(),this.isGeolocationEnabled=yl(),this.handleModeSet=this.handleModeSet.bind(this)}handleModeSet(e){kl.setMode(e),this.hideModeMenu()}toggleModeMenu(){this.isModeMenuVisible(!this.isModeMenuVisible())}hideModeMenu(){this.isModeMenuVisible(!1)}};var sc=class extends nc{constructor(){super(),this.toggleButtonText=Object(n.pureComputed)(()=>Object(l.a)("search.mode-menu.near-"+this.mode())),this.showSearchModeMenu=_l()||yl()}};n.components.register("mode-menu",{viewModel:sc,template:'<div class="search-box-compact__label text-color-secondary">\n    \x3c!-- ko if: showSearchModeMenu --\x3e\n    <button class="search-box-compact__menu-button" data-bind="click: toggleModeMenu">\n        <span data-bind="text: toggleButtonText"></span>\n        <i class="search-box-compact__menu-icon icon-triangle-down"></i>\n    </button>\n    \x3c!-- /ko --\x3e\n    \x3c!-- ko ifnot: showSearchModeMenu --\x3e\n    <span data-bind="text: toggleButtonText"></span>\n    \x3c!-- /ko --\x3e\n</div>\n\n<div\n    class="search-box-compact__menu"\n    data-bind="\n         css: { \'search-box-compact__menu--active\': isModeMenuVisible },\n         a11y.trapFocus,\n         a11y.setInitialFocus: { isVisible: isModeMenuVisible, delay: 400 },\n         boolAttr: {\'aria-expanded\': isModeMenuVisible},\n         clickOutside: { action: hideModeMenu, when: isModeMenuVisible, excludeElement: \'.search-box-compact__menu-button\' }"\n>\n    <ul class="search-box-compact__menu-list" role="presentation">\n        \x3c!-- ko ifnot: isSearchByRecruitingLocationsModeEnabled --\x3e\n        <li class="search-box-compact__menu-item">\n            <button\n                data-bind="\n                    click: handleModeSet.bind(this, MODES.LOCATION),\n                    i18n: \'search.mode-menu.location\'"\n            ></button>\n        </li>\n        \x3c!-- /ko --\x3e\n        \x3c!-- ko if: isSearchByRecruitingLocationsModeEnabled --\x3e\n        <li class="search-box-compact__menu-item">\n            <button\n                data-bind="\n                    click: handleModeSet.bind(this, MODES.RECRUITING_LOCATION),\n                    i18n: \'search.mode-menu.job-location\'"\n            ></button>\n        </li>\n        \x3c!-- /ko --\x3e\n        \x3c!-- ko if: isGeolocationEnabled --\x3e\n        <li class="search-box-compact__menu-item">\n            <button\n                data-bind="\n                    click: handleModeSet.bind(this, MODES.GEO_LOCATION),\n                    i18n: \'search.mode-menu.geolocation\'"\n            ></button>\n        </li>\n        \x3c!-- /ko --\x3e\n        \x3c!-- ko if: isZipcodeEnabled --\x3e\n        <li class="search-box-compact__menu-item">\n            <button\n                data-bind="\n                    click: handleModeSet.bind(this, MODES.ZIPCODE),\n                    i18n: \'search.mode-menu.zipcode\'"\n            ></button>\n        </li>\n        \x3c!-- /ko --\x3e\n    </ul>\n</div>\n'});const ac=(e,t)=>{switch(t){case"rows":return e.map(e=>ac(e[t],"columns")).flat();case"columns":return e.map(e=>ac(e[t],"components")).flat();case"components":return e.map(e=>ac(e[t],"")).flat();default:return e}},oc=(e,t)=>(e=>ac(e,"rows"))(e).filter(e=>(null==e?void 0:e.type)===t).pop();class rc{constructor(){this.latestQuery=null,this._routeParamsSub=h.a.routeParams.subscribe(this._onRouteParamsChanged,this)}_onRouteParamsChanged(e){JSON.stringify(this.latestQuery)!==JSON.stringify(e.query)&&this.performSearch()}_getQueryBuilder(e){return new sr(e)}performSearch(){const{query:e}=h.a.routeParams(),t=this._getQueryBuilder(e);t.setDefaultSortOption(),dr.searchJobs(t.build()).then(()=>{this.latestQuery=e,Ls.b.trackRequisitionSearch(e)})}dispose(){this._routeParamsSub.dispose()}}n.components.register("cc-search",{viewModel:class extends rc{constructor({page:e}){super();const t=oc(e().sections,"cc-search-results");this.page=e,this.recordsLimit=parseInt(null==t?void 0:t.params.contentParams.numberOfJobsDisplayed(),10)||null,this.talentCommunityTilePosition=parseInt(null==t?void 0:t.params.contentParams.displayAfterJobs(),10)||null,dr.setTalentCommunityTilePosition(this.talentCommunityTilePosition),this.performSearch()}_getQueryBuilder(e){return new sr({...e,limit:this.recordsLimit})}},template:"<div class=\"app__subpage app__subpage--custom-page\">\n    \x3c!-- ko component: { name: 'cc-page', params: { page: page(), classModifier: 'search-page' }} --\x3e\n    \x3c!-- /ko --\x3e\n</div>\n"});n.components.register("default-search",{viewModel:class extends rc{constructor(){super(),this.performSearch()}},template:'<div class="search-jobs-custom-header"></div>\n\n<div class="app__subpage">\n    <search-box-compact></search-box-compact>\n\n    <search-filters-panel></search-filters-panel>\n\n    <search-results></search-results>\n</div>\n'});var lc=i(23),cc={getEmployeeInfo(){const e=window.CX_CONFIG||{};return e.employee?Promise.resolve(e.employee):U.a.get("/CandExpSecured/EmployeeInfo"+window.location.search,{baseUrl:""+c.a.uiBaseUrl,credentials:"same-origin"})}};var dc={init(){return cc.getEmployeeInfo().then(e=>{s.a.utils.extend(this,e),this.isSet()&&(lc.a.addAuthorizationHeader=e=>function(e,t){return s.a.utils.extend(e.headers,{Authorization:"Bearer "+t}),e}(e,this.jwtToken))}).catch(e=>(console.error(e),Promise.resolve({})))},isSet(){return Boolean(this.jwtToken)}};const uc={main:"search",dialogs:"job-details"};h.a.configure({search:{parent:"minimal",url:"/requisitions:?query:",title:Object(l.a)("search.page-title"),view:{main:"search",dialogs:null}},"job-details":{parent:"minimal",url:"/job/{jobId}:?query:",view:{main:"job-details-fullscreen",dialogs:null}},"job-preview":{parent:"search",url:"/preview/{jobId}",title:Object(l.a)("search.page-title"),view:uc,isNotNewScreen:!0},"job-full-view":{parent:"search",url:"/job/{jobId}",view:{main:"job-details-fullscreen",dialogs:null}},"job-formatting-preview":{parent:"minimal",url:"/admin/job-preview/{jobId}",view:uc,canEnter:()=>dc.init(),enter(){document.body.classList.add("admin-job-preview")}},"job-template-preview":{parent:"minimal",url:"/admin/job-template-preview/{jobId}",view:uc,canEnter:()=>dc.init(),enter(){document.body.classList.add("admin-job-preview")}}});function pc(e){return Boolean(e&&"city"===e.level)}n.components.register("search-recruiting-location",{viewModel:class{constructor({location:e,action:t,radiusValue:i,radiusUnit:s,fetch:a}){var o,r,d;if(d=()=>{this.noSuggestions(!1)},(r="onBlur")in(o=this)?Object.defineProperty(o,r,{value:d,enumerable:!0,configurable:!0,writable:!0}):o[r]=d,this.value=Object(n.observable)(null),this.valueOption=Object(n.observable)(null),this.rawValue=Object(n.observable)(null),this.location=e,this.action=t,this.radiusValue=i,this.radiusUnit=s,this.options=Object(n.observableArray)(),this.siteNumber=c.a.siteNumber,this.showRadiusDisplay=Object(n.observable)(!1),this.noSuggestions=Object(n.observable)(!1),this.placeholder=Object(l.a)("location-bar.dropdown.recruiting-location-placeholder"),this.showNoResultsHint=Object(n.pureComputed)(this._showNoResultsHint,this).extend({notify:"always"}),this.fetch=a,this.fetchDebounced=I(this.fetch.bind(this),500),this.fetchOptions=this.fetchOptions.bind(this),this.onValueOptionChanged=this.onValueOptionChanged.bind(this),function(e){return Boolean(e&&e.locationId&&e.label)}(e()))return this._setValue(e()),void this.showRadiusDisplay(pc(e()));this.radiusValue(25)}fetchOptions(e){this.noSuggestions(!1);return(e.term?this.fetchDebounced:this.fetch)({siteNumber:this.siteNumber,term:e.term}).catch(()=>[]).then(this._saveOptions.bind(this))}_saveOptions(e=[]){return this.options(e),this.noSuggestions(!e.length),e}onValueOptionChanged(e){const{value:t}=e.detail.value,i=this.options().find(({id:e})=>e===t)||{};this.location(i),this.showRadiusDisplay(pc(i))}_showNoResultsHint(){return Boolean(this.rawValue())&&this.noSuggestions()}_setValue(e){const{locationId:t}=e;e.id=t,e.locationId=parseInt(t,10),this.valueOption({value:e.id,label:e.label}),this.options().push(e)}},template:'<div\n    class="input-row__control-container search-box-compact-recruiting-location"\n    data-bind="calculateSearchInputWidth, event: { focusout: onBlur },\n        a11y.setFocusOnTab: { focusOn: \'.search-box-compact__button\', delay: 10, when: true }"\n>\n    <oj-combobox-one\n        class="input-row__control input-row__search-input"\n        value="{{value}}"\n        value-option="{{valueOption}}"\n        raw-value="{{rawValue}}"\n        options="[[fetchOptions]]"\n        options-keys="[[{ value: \'id\', label: \'name\' }]]"\n        on-value-option-changed="[[onValueOptionChanged]]"\n        placeholder="[[placeholder]]"\n        picker-attributes="[[{ \'class\': \'input-row__listbox search-box-compact-recruiting-location__dropdown background-color-dropdown\' }]]"\n    ></oj-combobox-one>\n</div>\n<div>\n    \x3c!-- ko if: showRadiusDisplay --\x3e\n    <search-radius params="radiusValue: radiusValue, radiusUnit: radiusUnit"></search-radius>\n    \x3c!-- /ko --\x3e\n</div>\n\n\x3c!-- ko component: { name: \'search-box-popup\', params: {\n    message: \'location-bar.dropdown.no-results\',\n    value: showNoResultsHint,\n    restoreValue: false,\n    autoDismiss: false } } --\x3e\n\x3c!-- /ko --\x3e\n'});n.components.register("search",{viewModel:class{constructor(){this.customSearchPage=Object(n.observable)(null),this.isLoading=Object(n.observable)(!0),this._loadPage()}_loadPage(){return In.getPageByType("SEARCH_PAGE").then(e=>{this.customSearchPage(e)}).finally(()=>{this.isLoading(!1)}).catch(e=>{e&&console.error(e)})}},template:"\x3c!-- ko if: isLoading --\x3e\n<div class=\"app-loading-spinner app-loading-spinner--always-visible\"></div>\n\x3c!-- /ko --\x3e\n\n\x3c!-- ko ifnot: isLoading --\x3e\n\n\x3c!-- ko ifnot: customSearchPage --\x3e\n\x3c!-- ko component: 'default-search' --\x3e\x3c!-- /ko --\x3e\n\x3c!-- /ko --\x3e\n\n\x3c!-- ko if: customSearchPage --\x3e\n\x3c!-- ko component: { name: 'cc-search', params: {page: customSearchPage} } --\x3e\x3c!-- /ko --\x3e\n\x3c!-- /ko --\x3e\n\n\x3c!-- /ko --\x3e\n"});const hc=["paddingTop","paddingRight","paddingBottom","paddingLeft","marginTop","marginRight","marginBottom","marginLeft"];n.bindingHandlers.customStyles={update(e,t){!function(e,t){if(!t)return;const i={},n=Ct.isSmall();hc.forEach(e=>{i[e]=n||!t[e]()?"":`${t[e]()}${t.additionalOptionsUnit()}`}),Object.assign(e.style,i)}(e,t())}};class mc{constructor({params:e,content:t}){this.params=e,this.content=t}}class bc extends mc{constructor({params:e,content:t,mode:i,lang:s},a="cx-button"){super({params:e,content:t}),this.buttonRootClass=Object(n.pureComputed)(()=>"cc-button__wrapper--align-"+this.params.align()),this.isExternal=Object(n.pureComputed)(()=>"external"===this.params.destination()),this.isAdminMode=Object(n.observable)("admin"===i),this.customPageURL=Object(n.observable)(null),this.buttonClass=Object(n.pureComputed)(()=>"button"===this.params.buttonType()?`${a} ${a}--${this.params.buttonStyle()}`:""),this.targetAttr=Object(n.pureComputed)(()=>this.params.openInNewTab()?"_blank":null),this._getCustomPageURL().then(e=>{this.customPageURL(e)});const o=s?s():b.a.getFusionCode();this.externalURL=Object(n.pureComputed)(()=>{const e=new RegExp("^https?://.*").test(this.params.externalURL())?this.params.externalURL():"https://"+this.params.externalURL(),t="externalURL_"+o,i=this.params[t];return i?i():e})}goToCcPage(){return!!this.params.openInNewTab()||h.a.redirect(this.customPageURL())}_getCustomPageURL(){const e=(t=this.params.destination(),Array.isArray(t)?t[0]:t);var t;return In.getTitle(e).then(t=>m.b.interpolate({lang:b.a.get()},"cc-page",{pageCode:e,pageTitle:t}))}}n.components.register("cc-button",{viewModel:{createViewModel:e=>new bc(e,"button")},template:'<div\n    class="cc-element cc-element--button"\n    data-bind="css: params.cssClass, attr: { id: params.cssId }, customStyles: params"\n>\n    <div class="cc-button__wrapper" data-bind="css: buttonRootClass">\n        \x3c!-- ko if: isAdminMode --\x3e\n        <a data-bind="text: content, css: buttonClass, style: { background: params.backgroundColor }"></a>\n        \x3c!-- /ko --\x3e\n\n        \x3c!-- ko ifnot: isAdminMode --\x3e\n        \x3c!-- ko if: isExternal --\x3e\n        <a\n            data-bind="text: content, css: buttonClass, style: { background: params.backgroundColor }, attr: { \'href\': externalURL, \'target\': targetAttr }"\n        ></a>\n        \x3c!-- /ko --\x3e\n\n        \x3c!-- ko ifnot: isExternal --\x3e\n        <a\n            data-bind="text: content, css: buttonClass, style: { background: params.backgroundColor }, attr: { \'href\': customPageURL, \'target\': targetAttr }, click: goToCcPage"\n        ></a>\n        \x3c!-- /ko --\x3e\n        \x3c!-- /ko --\x3e\n    </div>\n</div>\n'});class fc extends mc{constructor({params:e,mode:t,lang:i},s="cx-button"){super({params:e}),this.isAdminMode="admin"===t,this.isEnabled=c.a.tcOptInEnabled||this.isAdminMode,this.languageCode=i?i():b.a.getFusionCode(),this.label=Object(n.pureComputed)(this._getLabelTranslation,this),this.url=this._getUrl(),this.rootClass=Object(n.pureComputed)(this._calculateRootClass,this),this.buttonClass=`${s} ${s}--primary`}_calculateRootClass(){return`cc-button__wrapper--align-${this.params.align()} ${this.params.cssClass()}`}_getLabelTranslation(){const e=this.params["label_"+this.languageCode],{label:t}=this.params;return e?e():t()}openSignUpComponent(){Ml.show.dispatch()}_getUrl(){return this.isAdminMode?null:m.b.interpolate({},"talent-community")}}class gc extends fc{openSignUpComponent(){Ws.store(),h.a.go("talent-community")}}n.components.register("cc-talent-community-button",{viewModel:{createViewModel:e=>new gc(e,"button")},template:'\x3c!-- ko if: isEnabled --\x3e\n\n<div\n    class="cc-element cc-element--talent-community-button"\n    data-bind="css: rootClass, attr: { id: params.cssId }, customStyles: params"\n>\n    <a data-bind="click: openSignUpComponent, attr: {\'href\': url}, css: buttonClass">\n        <span data-bind="text: label"></span>\n    </a>\n</div>\n\n\x3c!-- /ko --\x3e\n'});const vc={candidateNumber:null,jobId:null,eSignature:{fullName:""},referralId:null,shareId:null,flowId:null,flowVersionId:null,legalDescriptionVersionId:null,esignDescriptionVersionId:null,status:null,submissionDate:null,jobTitle:null,jobLocation:null,isConfirmed:!1,isActive:!1,siteNumber:null,isPipeline:!1,isPipelineApplicationActive:!1,isHiring:!1,pipelineSubmissionId:null,submissionId:null,hiringJobApplications:[],currentPhaseId:null,currentStateId:null,hasAssessment:!1,hasTaxCredit:!1,isActionInProgress:!1,secondarySubmissions:[],scheduleInterviews:[],unscheduledInterviewRequests:[],preferredLocations:[],siteName:null,assessmentLinks:[],backgroundCheckLinks:[]};var _c=function(e){o.a.fromJS(vc,{},this),e&&o.a.fromJS(e,{},this)};class yc{constructor(e={}){this.interviewRequestId=e.interviewRequestId,this.interviewId=e.interviewId,this.submissionId=e.submissionId,this.scheduleId=e.scheduleId,this.isScheduled=e.isScheduled,this.isReschedulable=e.isReschedulable}}var xc={mapFromRest:e=>new yc({interviewRequestId:e.intrvwRequestsId,interviewId:e.scheduleInterviewId,submissionId:e.submissionId,scheduleId:e.scheduleId,isScheduled:e.isScheduled,isReschedulable:"Y"===e.isReschedulable})};class wc{constructor(e={}){this.interviewRequestId=e.interviewRequestId,this.interviewId=e.interviewId,this.submissionId=e.submissionId,this.scheduleId=e.scheduleId,this.isSchedulable=e.isSchedulable}}var kc={mapFromRest:e=>new wc({interviewRequestId:e.intrvwRequestsId,interviewId:e.interviewId,submissionId:e.submissionId,scheduleId:e.scheduleId,isSchedulable:"Y"===e.isSchedulable})};const Ic="text";function Cc({answer:e,isHidden:t}){return!t&&e&&(!Array.isArray(e)||e.length)}function Sc(e){const{questionId:t,type:i}=e,n={questionId:t,responseType:i},s={"single-choice":"responseIds","multiple-choice":"responseIds",[Ic]:"responseText"}[i]||null;return s&&(n[s]=function({answer:e,type:t}){return"single-choice"===t?[e]:"multiple-choice"===t?e:t===Ic?Li.encode(e):null}(e)),n}var Ec={mapQuestionsToRest(e){const t=e.filter(Cc).map(Sc);return JSON.stringify(t)}};const Oc="ORA_DQ_QUESTIONS",Ac="disqualification-questions",Pc="ORA_QUESTIONNAIRE",Tc="static-questionnaire",jc={[Oc]:{mapDataToRest(e){const t=o.a.toJS(e);return{questionnaireId:t.questionnaireId,qstnrVersionNumber:t.questionnaireVersionNumber,type:"DQ",questionResponses:Ec.mapQuestionsToRest(t.questions)}}},[Pc]:{mapDataToRest(e){const t=o.a.toJS(e);return{type:"STATIC",questionnaireId:t.questionnaireId,qstnrVersionNumber:t.questionnaireVersionNumber,questionResponses:Ec.mapQuestionsToRest(t.questions)}}}};var Rc={mapAllQuestionnairesToRest:e=>e.filter(({questions:e})=>e().length).reduce((e,t)=>{const i=function(e){return jc[e.blockCode()].mapDataToRest(e)}(t);return function({questionResponses:e}){const t=JSON.parse(e);return Boolean(t.length)}(i)&&e.push(i),e},[])};function Fc(e){return e&&Array.isArray(e)?e.join(","):e&&"string"==typeof e?e.replace("||","").replace("&&",""):""}var Dc={mapDataToRest(e,t){return{requisitionNumber:t,regulatoryResponses:this.mapRegulatoryResponsesToRest(e)}},mapRegulatoryResponsesToRest(e){const t=this.mapRegulatoryResponseToRest(e);return JSON.stringify(t)},mapRegulatoryResponseToRest(e){const t=[];return e.forEach(e=>{const i=o.a.toJS(e),[n,s,a,r]=i.id.split("-"),l="STANDARD"===s?"":r;if(t.some(e=>e.LegislationCode===n))t.forEach(e=>{if(e.LegislationCode===n){const t=Fc(i.value);if(""!==t){const i=[s,a,t,l].join("||");e.Response=[e.Response,i].join("&&")}}});else{const e=Fc(i.value);""!==e&&t.push({LegislationCode:n,Response:[s,a,e,l].join("||")})}}),t}},Lc={mapAssessmentLinkFromRest:({assessmentUrl:e})=>e,mapApplicationAssessmentsFromRest:e=>({provisioningId:e.provisioningId,partnerName:e.partnerName})},Nc={mapBackgroundCheckLinkFromRest:({backgroundCheckUrl:e})=>e,mapApplicationBGCFromRest:e=>({provisioningId:e.provisioningId,partnerName:e.partnerName})},Mc={mapCreateToRest({applicationModel:e,applicationDraftId:t,attachments:i=[],questionnaires:n,regulatoryResponses:s}){const a=o.a.toJS(e),r=o.a.toJS(i),l={candidateNumber:a.candidateNumber,siteNumber:c.a.siteNumber,requisitionNumber:a.jobId,action:"CREATE",name:a.eSignature.fullName,referralId:a.referralId,shareId:a.shareId,preferredLanguage:b.a.getFusionCode(),flowVersionId:a.flowVersionId,legalDescriptionVersionId:a.legalDescriptionVersionId,esignDescriptionVersionId:a.esignDescriptionVersionId,preferredLocations:a.preferredLocations.map(e=>e.value),APPDraftId:t,miscAttachmentIds:io.mapMiscAttachmentsToRest(r)};return(null==n?void 0:n.length)&&(l.questionnaireResponses=Rc.mapAllQuestionnairesToRest(n)),(null==s?void 0:s.length)&&(l.regulatoryResponses=[Dc.mapDataToRest(s,a.jobId)]),l},mapSecondaryToRest({applicationModel:e,applicationDraftId:t,attachments:i,questionnaires:n,regulatoryResponses:s}){const a=this.mapCreateToRest({applicationModel:e,applicationDraftId:t,questionnaires:n,regulatoryResponses:s,attachments:i}),o={flowVersionId:e.flowVersionId(),stepActionUsageId:e.currentPhaseId(),submissionId:e.submissionId()};return a.esignDescriptionVersionId&&(o.esignDescriptionVersionId=a.esignDescriptionVersionId),a.action="SECONDARY",a.secondarySubmissions=[],a.secondarySubmissions.push(o),a},mapAcceptToRest(e){const t=o.a.toJS(e);return{candidateNumber:t.candidateNumber,requisitionNumber:t.jobId,action:"CONFIRM"}},mapRejectToRest(e){const t=o.a.toJS(e);return{candidateNumber:t.candidateNumber,requisitionNumber:t.jobId,action:"DELETE"}},mapWithdrawToRest(e){const t=o.a.toJS(e);return{candidateNumber:t.candidateNumber,requisitionNumber:t.jobId,action:"WITHDRAW"}},mapCollectionFromRest(e){return e.items.map(this.mapFromRest.bind(this))},mapFromRest(e){const t=e,i=new Ie(c.a.siteLang);return t.submissionDate&&(t.submissionDateOriginal=t.submissionDate,t.submissionDate=i.formatDate(t.submissionDate)),t.jobId=t.requisitionNumber,delete t.requisitionNumber,t.jobLocation=t.jobLocationName,delete t.jobLocationName,t.isConfirmed=t.confirmedFlag,delete t.confirmedFlag,t.isActive=t.activeFlag,delete t.activeFlag,t.isPipeline=t.pipelineRequisitionFlag,delete t.pipelineRequisitionFlag,t.isPipeline&&(t.isPipelineApplicationActive=t.isActive),t.isHiring=t.pipelineSubmissionId>0,t.hasAssessment=t.assessmentsFlag,delete t.assessmentsFlag,t.hasTaxCredit=t.taxCreditsFlag,delete t.taxCreditsFlag,t.assessmentLinks&&t.assessmentLinks.length&&(t.assessmentLinks=t.assessmentLinks.map(Lc.mapApplicationAssessmentsFromRest)),t.BackgroundCheckLinks&&t.BackgroundCheckLinks.length&&(t.backgroundCheckLinks=t.BackgroundCheckLinks.map(Nc.mapApplicationBGCFromRest)),t.secondarySubmissions&&t.secondarySubmissions.length&&(t.secondarySubmissions=t.secondarySubmissions.map(this.mapSecondarySubmissionFromRest.bind(this,t.jobId))),t.ScheduleInterviews&&t.ScheduleInterviews.length&&(t.scheduleInterviews=t.ScheduleInterviews.map(xc.mapFromRest),delete t.ScheduleInterviews),t.UnscheduledInterviewRequests&&t.UnscheduledInterviewRequests.length&&(t.unscheduledInterviewRequests=t.UnscheduledInterviewRequests.map(kc.mapFromRest),delete t.UnscheduledInterviewRequests),new _c(t)},mapSecondarySubmissionFromRest:(e,t)=>({submissionId:t.submissionId,statusCode:t.statusCode,secondaryFlowId:t.flowId,stepActionUsageId:t.stepActionUsageId,jobId:e}),mapApplicationAssessmentFromRest:e=>({hasAssessment:!0===e.assessmentsFlag}),mapApplicationAssessmentAndRemainingSubmissionsFromRest:e=>({hasAssessment:!0===e.assessmentsFlag,remainingSubmissions:e.remainingSubmissions}),mapSubmission({items:e}){const[t]=e;return{jobTitle:t.jobTitle}}};const Vc={};var Bc={registerBlock(e,t){return Vc[e]=t,this},getConfigurationForBlock:e=>Vc[e],isPresectionBlock:e=>Vc[e]?Vc[e].isPresectionBlock:void 0,getComponentForBlock(e){const t=Vc[e];return t?t.component:null},getRepositoryForBlock(e){const t=Vc[e];return t?t.repository:null}};class qc{constructor(e){s.a.utils.extend(this,e),this._beforeExitCallbacks=[],this._beforeValidationCallbacks=[],this._validationBlockCallbacks=[]}addBeforeExitCallback(e){this._beforeExitCallbacks.push(e)}exit(){this._beforeExitCallbacks.forEach(e=>e())}addBeforeValidationCallback(e){this._beforeValidationCallbacks.push(e)}async beforeValidation(){return await Promise.all(this._beforeValidationCallbacks.map(async e=>await e()))}validationBlock(){this._validationBlockCallbacks.forEach(e=>e())}}const Uc={QstnrVersionNumber:"questionnaireVersionNumber",ContextCode:"context",IRC_CANDIDATE_RESUME_REQUIRED:"resumeRequired",IRC_CANDIDATE_COVERLETTER_REQUIRED:"cvRequired",IRC_CANDIDATE_SOCIAL_REQUIRED:"linksRequired",MISC_REQUIRED:"required"},Hc={ContentTypeId:zc,SectionId:zc,PreferredFlag:Jc,IRC_CANDIDATE_RESUME_REQUIRED:Jc,IRC_CANDIDATE_COVERLETTER_REQUIRED:Jc,IRC_CANDIDATE_SOCIAL_REQUIRED:Jc,MISC_REQUIRED:Jc};let $c=1;function Jc(e){const t=e.split(",").map(e=>Boolean("true"===e));return t.length>1?t:t.pop()}function zc(e){const t=e.split(",").map(e=>parseInt(e,10));return t.length>1?t:t.pop()}function Wc(e){return s.a.components.isRegistered(e.component)}function Kc({code:e,blockProperties:t}){const i=Bc.getConfigurationForBlock(e),n=Object.keys(t).length>0;return!(i.requireBlockProperties&&!n)}function Gc({code:e}){return!Bc.isPresectionBlock(e)}var Yc={createAgreementsBlock:()=>({blockCode:"ORA_AGREEMENTS",blockId:"ORA_AGREEMENTS",blockName:"agreements",blockHideInMobileFlag:!1}),createESignatureBlock:e=>({blockCode:"ORA_ESIGNATURE",blockId:"ORA_ESIGNATURE",blockName:"e-signature",blockTitle:Object(l.a)("apply-flow.e-signature.header"),blockInstructions:void 0,blockHideInMobileFlag:!1,additionalData:{description:e}}),mapFlowBlocksFromRest(e){return e.map(this.mapFlowBlockFromRest.bind(this)).filter(Wc).filter(Kc).filter(Gc)},mapFlowBlockFromRest(e){return{component:Bc.getComponentForBlock(e.blockCode),code:e.blockCode,title:e.blockTitle,instructions:e.blockInstructions,hideOnMobile:e.blockHideInMobileFlag,metadataServiceUrl:this.getMetadataServiceUrl(e.metadataService),readWriteServiceUrl:this.getMetadataServiceUrl(e.readWriteService),displaySequence:$c++,additionalData:e.additionalData,blockProperties:this.getBlockProperties(e),blockId:e.pageBlockId}},getMetadataServiceUrl(e){if(!e)return null;const t=e.split("||");if(1===t.length)return"/"+e;const[i,n]=t;return["/"+i,"/"+n]},getBlockProperties:({blockProperties:e})=>e?e.split("||").reduce((e,t)=>{const[i,n]=t.split("="),s=Uc[i]||(a=i)[0].toLowerCase()+a.substr(1);var a;const o=Hc[i];return s&&(e[s]=o?o(n):n),e},{}):{}},Qc={mapFlowPagesFromRest(e){return e.reduce((e,t)=>t.blocks.filter(this._isNotLinksBlock,this).map(this._createPageFromBlock,this),[]).map(this.mapFlowPageFromRest).filter(this._isNotEmptyPage)},_createPageFromBlock:(e,t)=>({pageName:e.blockTitle,pageSequence:""+(t+1),blocks:[e]}),_isNotEmptyPage:e=>e.blocks.length,_isNotLinksBlock:e=>"ORA_LINKS"!==e.blockCode,mapFlowPageFromRest:e=>({title:e.pageName,number:""+e.pageSequence,blocks:Yc.mapFlowBlocksFromRest(e.blocks)})};function Zc(e){return 0===e.pages.reduce((e,t)=>e.concat(t.blocks),[]).filter(e=>"ORA_SUMMARY"===e.blockCode).length}function Xc(e){return e.pages.length}function ed(e){return!(1===e.pages.length&&1===e.pages[0].blocks.length&&Bc.isPresectionBlock(e.pages[0].blocks[0].blockCode))}function td(e,t){return e.sectionSequence>t.sectionSequence}function id({sectionName:e,pages:t}){return new qc({title:e,pages:Qc.mapFlowPagesFromRest(t)})}function nd(e,t){return e.number=String(t+1),e}var sd={mapFlowSectionsFromRest:(e,t)=>e.filter(ed).filter(Zc).sort(td).map((e,i,n)=>i===n.length-1?function(e,t){const i=e.pages[e.pages.length-1];return i.blocks.push(Yc.createAgreementsBlock()),t.eSignatureEnabled&&i.blocks.push(Yc.createESignatureBlock(t.eSignatureDescription)),e}(e,t):e).map(id).filter(Xc).map(nd),findSectionNumberByBlockCode(e,t){let i=1;return e.forEach((e,n)=>{e.pages.forEach(e=>{e.blocks.forEach(e=>{e.code===t&&(i=n+1)})})}),i}};class ad{constructor(e){this.sections=Object(n.observableArray)(e),this.currentSectionNumber=Object(n.pureComputed)(()=>String(h.a.routeParams().sectionNumber||1)),this.currentSection=Object(n.pureComputed)(()=>e[this.currentSectionNumber()-1]),this.isFirstSection=Object(n.pureComputed)(()=>this.currentSectionNumber()<=1),this.lastSectionNumber=e.length,this.isLastSection=Object(n.pureComputed)(()=>this.currentSectionNumber()>=this.lastSectionNumber),this.skipToContainer=Object(n.pureComputed)(()=>`[data-section-number="${this.currentSectionNumber()}"]`),this.nextStepSectionNumber=Object(n.pureComputed)(()=>this.isLastSection()?this.currentSectionNumber():parseInt(this.currentSectionNumber(),10)+1),this.previousStepSectionNumber=Object(n.pureComputed)(()=>this.isFirstSection()?this.currentSectionNumber():parseInt(this.currentSectionNumber(),10)-1)}isSingleClick(){return!1}runBeforeExit(){this.currentSection().exit()}async runBeforeValidation(){let e=1;const t=[];for(;e<=parseInt(this.currentSectionNumber(),10);){const i=this.sections()[e-1];t.push(i.beforeValidation.bind(i)),e++}return await Promise.all(t.map(async e=>await e()))}runBlockValidation(){this.currentSection().validationBlock()}}class od extends ad{isSingleClick(){return!0}runBeforeExit(){this.sections().forEach(e=>e.exit())}runBeforeValidation(){this.sections().forEach(e=>e.beforeValidation())}}class rd{constructor(e){s.a.utils.extend(this,e)}iterator(){return void 0===rd._iterator&&(rd._iterator=this._createFlowIterator()),rd._iterator}containsBlock(e){return this._getBlocks().some(t=>t.code===e)}_createFlowIterator(){return this.isSingleClick?new od(this.sections):new ad(this.sections)}_getBlocks(){return this.sections.reduce((e,t)=>e.concat(t.pages),[]).reduce((e,t)=>e.concat(t.blocks),[])}destroy(){rd._iterator=void 0}}rd._iterator=void 0;class ld{constructor({versionId:e,description:t}){this.versionId=e,this.description=t,this.isEnabled=Boolean(this.versionId),this._isAccepted=s.a.observable(!1)}get isAccepted(){return this._isAccepted}accept(){this._isAccepted(!0)}decline(){this._isAccepted(!1)}}class cd{constructor({versionId:e,description:t,isEnabled:i}){this.versionId=e,this.description=t||"",this.isEnabled=i}hasDescription(){return 0!==this.description.length}get isAccepted(){return Ga.preferences.optIn}accept(){Ga.preferences.optIn(!0)}decline(){Ga.preferences.optIn(!1)}set(e){e&&o.a.fromJS({preferences:e},Ga)}}function dd(e){return e.reduce((e,t)=>e.concat(t.pages),[]).reduce((e,t)=>e.concat(t.blocks),[]).filter(e=>Bc.isPresectionBlock(e.blockCode)).map(Yc.mapFlowBlockFromRest.bind(Yc))}var ud={mapFlowFromRest({items:e}){const[t]=e,i={eSignatureEnabled:t.esignEnabledFlag,eSignatureDescription:t.esignDescriptionStr},n=new ld({isEnabled:t.legalEnabledFlag,versionId:t.legalDescriptionVersionId,description:t.legalDescriptionStr}),s=new cd({isEnabled:t.optinEnabledFlag,versionId:t.optinDescriptionVersionId,description:t.optinDescriptionStr});return new rd({legalDisclaimer:n,optIn:s,flowTypeCode:t.flowTypeCode,jobAlertsEnabled:c.a.tcOptInEnabled&&t.tcoptinEnabledFlag,name:t.flowName,flowId:t.flowId,legalDescriptionVersionId:t.legalDescriptionVersionId,esignDescriptionVersionId:t.esignDescriptionVersionId,isSingleClick:t.singleClickApplyFlag,eSignature:t.esignDescriptionStr,eSignatureEnabled:t.esignEnabledFlag,preSection:(a=t.sections,{number:"1",pages:[{blocks:dd(a)}]}),sections:sd.mapFlowSectionsFromRest(t.sections,i),flowVersionId:t.flowVersionId,profileItemsVersion:t.profileVersion,requisitionFlexFields:t.requisitionFlexFields});var a}};function pd(e){const{flowVersionId:t}=e;return Promise.all(e.sections.map(e=>function(e,t){return Promise.all(e.pages.map(e=>function(e,t){return Promise.all(e.blocks.map(e=>function(e,t){const i=Bc.getRepositoryForBlock(e.blockCode);if(i){const n=new i("/"+e.metadataService);if(n.isEmpty)return n.isEmpty(e,t)}return Promise.resolve(!1)}(e,t))).then(t=>e.blocks.map((e,i)=>(e.isEmpty=t[i],e))).then(e=>e.filter(e=>!e.isEmpty)).then(t=>s.a.utils.extend(e,{blocks:t}))}(e,t))).then(e=>e.filter(e=>e.blocks.length)).then(t=>s.a.utils.extend(e,{pages:t}))}(e,t))).then(e=>e.filter(e=>e.pages.length)).then(t=>s.a.utils.extend(e,{sections:t}))}var hd=Object.create(ud,{mapFlowFromRest:{value({items:e}){if(!e.length)return null;const[t]=e;return pd(t).then(e=>ud.mapFlowFromRest({items:[e]}))}}});const md='/recruitingCEApplyFlows?finder=findByRequisitionNumber;RequisitionNumber=":requisitionNumber:"';function bd(e,t){return U.a.get(t,{params:{requisitionNumber:e}})}var fd={query(e){return bd(e,'/recruitingCEApplyFlows?finder=findByRequisitionNumber;RequisitionNumber=":requisitionNumber:"&expand=sections.pages.blocks,requisitionFlexFields&onlyData=true').then(hd.mapFlowFromRest.bind(hd)).then(this.set)},queryTalentCommunityFlow:()=>K.get("/recruitingCEApplyFlows?finder=findTalentCommunityApplyFlow;FlowTypeCode=ORA_TALENT&expand=sections.pages.blocks,requisitionFlexFields&onlyData=true"),querySecondary(e){const{flowId:t}=J.a.restore("ce_secondary_flow_data");return U.a.get("/recruitingCESecondaryApplyFlows?finder=findBySubmission;SubmissionId=:submissionId:,FlowId=:flowId:&expand=sections.pages.blocks,requisitionFlexFields&onlyData=true",{params:{submissionId:e,flowId:t}}).then(hd.mapFlowFromRest.bind(hd)).then(this.validateFlowSections).then(this.set)},queryRawFlow:e=>bd(e,md),validateFlowSections:e=>e&&e.sections.length>0?e:Promise.reject("empty-post-flow"),get:()=>J.a.restore("ce_flow"),set:e=>(J.a.store("ce_flow",e),J.a.verify("ce_flow",e),e),setSecondaryFlowData(e){J.a.store("ce_secondary_flow_data",e),J.a.verify("ce_secondary_flow_data",e)},clearSecondaryFlowData(){J.a.remove("ce_secondary_flow_data")},createFlowData:(e,t)=>({flowId:e,stepActionUsageId:t}),getSecondaryFlowData:()=>J.a.restore("ce_secondary_flow_data")},gd={groupHiringApplications:e=>(e.filter(e=>e.isHiring()).forEach(t=>{e.filter(e=>e.submissionId()===t.pipelineSubmissionId()).shift().hiringJobApplications().push(t)}),e.filter(e=>!e.isHiring()))};const vd={applications:Object(n.observableArray)([]),loadingStatus:Object(n.observable)("pending"),clear(){vd.applications([]),vd.loadingStatus("pending")},setLoadedData(e){vd.applications(e),vd.loadingStatus("loaded")},getByJobId(e){return this.applications().filter(t=>t.jobId()===e||function(t){return t.isPipeline()&&t.hiringJobApplications().some(t=>t.jobId()===e)}(t)).shift()||{}},remove(e){this.applications.remove(e)},update(e,t){void 0!==t.isConfirmed()&&e.isConfirmed(t.isConfirmed()),e.isActive(t.isActive()),e.status(t.status()),e.currentStateId(t.currentStateId()),e.hasAssessment(t.hasAssessment()),e.hasTaxCredit(t.hasTaxCredit()),e.secondarySubmissions(t.secondarySubmissions()),e.assessmentLinks(t.assessmentLinks()),e.backgroundCheckLinks(t.backgroundCheckLinks()),e.isActionInProgress(!1)}};var _d=vd,yd={withdraw:e=>U.a.post("/recruitingCEJobApplications",Mc.mapWithdrawToRest(e),{statusCodes:{400:({response:e})=>"ORA_IRC_WITHDRAW_FAIL"===e?{message:"withdraw-application-fail"}:Promise.reject()}}).then(Mc.mapFromRest.bind(Mc)).then(t=>_d.update(e,t))};function xd(e){return 1005===e||1004===e}function wd(e){var t;!function(e){e.isActive()||(e.isActive=Object(n.pureComputed)(()=>e.hiringJobApplications().some(e=>e.isActive())))}(e),xd((t=e).currentStateId())&&t.hiringJobApplications().every(e=>xd(e.currentStateId()))?t.status(Object(l.a)("candidate-self-service.tile.status-not-retained")):t.hiringJobApplications().some(e=>16===e.currentPhaseId()&&!xd(e.currentStateId()))?t.status(Object(l.a)("candidate-self-service.tile.status-offer-accepted")):!1===t.isConfirmed()?t.status(Object(l.a)("candidate-self-service.tile.status-unconfirmed")):t.status(Object(l.a)("candidate-self-service.tile.status-under-consideration"))}var kd={calculatePipelineApplicationsStatuses:e=>(e.filter(e=>e.isPipeline()).forEach(wd),e),withdraw(e){const t=e.hiringJobApplications().filter(e=>e.isActive()).map(e=>yd.withdraw(e));let i;return i=e.isPipelineApplicationActive()?Promise.all([yd.withdraw(e),...t]):Promise.all(t),i.then(()=>wd(e))}};var Id={fillEmptyStatus:e=>(e.forEach(e=>{!1===e.isConfirmed()&&null===e.status()&&e.status(Object(l.a)("candidate-self-service.tile.status-unconfirmed"))}),e)};const Cd=(e,t)=>{const i=new Date(e),n=new Date(t);return i>n?-1:i<n?1:0},Sd=["ORA_JOB_NOT_AVAILABLE","ORA_IRC_ESIGN_INVALID","ORA_IRC_ATTACHMENT_FAILED","ORA_IRC_DUPLICATE_SUBMISSION"];var Ed={create(e,t,i){const n=ta.getHitCountResponse(t),s=fd.get(),a="ORA_TALENT"===s.flowTypeCode;if(Object(To.d)()&&a)throw new Error("Flow data corrupt");return n&&(e.referralId(n.referralId),e.shareId(n.shareId)),e.jobId(t),e.candidateNumber(i.id()),e.flowVersionId(s.flowVersionId),e.legalDescriptionVersionId(s.legalDescriptionVersionId),e.esignDescriptionVersionId(s.esignDescriptionVersionId),e},getAll:()=>async function(e,t,i){const{params:{limit:n}}=i,s=JSON.parse(JSON.stringify(i));let a=0,o=!1;const r=await e(t,s);for(o=r.count===n;o;){a+=n,s.params.offset=a,o=!1;try{const i=await e(t,s);r.items.push(...i.items),r.count+=i.count,o=i.count===n}catch(e){console.error(e)}}return r}(U.a.get,"/recruitingCEJobApplications?expand=:expand:&limit=:limit:&offset=:offset:&orderBy=:orderBy:&onlyData=true",{params:{expand:["secondarySubmissions","ScheduleInterviews","UnscheduledInterviewRequests","BackgroundCheckLinks","assessmentLinks"].join(","),orderBy:"SubmissionDate:desc",limit:499,offset:0}}).then(Mc.mapCollectionFromRest.bind(Mc)).then(e=>gd.groupHiringApplications(e)).then(e=>kd.calculatePipelineApplicationsStatuses(e)).then(e=>Id.fillEmptyStatus(e)).then(e=>e.sort((e,t)=>Cd(e.submissionDateOriginal(),t.submissionDateOriginal()))),getFirstUnconfirmed:()=>U.a.get("/recruitingCEJobApplications?q=ConfirmedFlag=N&onlyData=true&limit=500").then(Mc.mapCollectionFromRest.bind(Mc)).then(e=>e.shift()),getFullJob:e=>U.a.get("/recruitingCEJobApplications?q=RequisitionNumber=:requisitionNumber:&expand=:expand:&onlyData=true&limit=500",{params:{requisitionNumber:e,expand:["secondarySubmissions","ScheduleInterviews","UnscheduledInterviewRequests"].join(",")}}).then(Mc.mapCollectionFromRest.bind(Mc)).then(e=>e[0]),getForJob:e=>U.a.get("/recruitingCEJobApplications?q=RequisitionNumber=:requisitionNumber:&onlyData=true&limit=500",{params:{requisitionNumber:e}}).then(Mc.mapCollectionFromRest.bind(Mc)),getSubmission:e=>U.a.get("/recruitingCEJobApplications?q=SubmissionId=:submissionId:&onlyData=true&limit=500",{params:{submissionId:e}}).then(Mc.mapSubmission.bind(Mc)),_save:e=>U.a.post("/recruitingCEJobApplications",e,{statusCodes:{400({response:e}){const t=Sd.find(t=>e.includes(t));return Promise.reject(t)}}}).then(e=>(Js.i[Js.a].dispatch(),e)).then(Mc.mapApplicationAssessmentAndRemainingSubmissionsFromRest).then(t=>(ta.destroyHitCountResponse(e.requisitionNumber),_o.a.setRemainingUnverifiedApplications(t.remainingSubmissions),t)),savePrimary(e,t){const i=Mc.mapCreateToRest({applicationModel:e,applicationDraftId:Ba.id,attachments:t.attachments(),questionnaires:t.questionnaires(),regulatoryResponses:t.regulatoryResponses()});return this._save(i)},saveSecondary(e,t){const i=Mc.mapSecondaryToRest({applicationModel:e,applicationDraftId:Ba.id,attachments:t.attachments(),questionnaires:t.questionnaires(),regulatoryResponses:t.regulatoryResponses()});return this._save(i)},accept:e=>U.a.post("/recruitingCEJobApplications",Mc.mapAcceptToRest(e),{statusCodes:{400:({response:e})=>Promise.reject(e)}}).then(Mc.mapFromRest.bind(Mc)),acceptAndCheckAssessment:e=>U.a.post("/recruitingCEJobApplications",Mc.mapAcceptToRest(e)).then(Mc.mapApplicationAssessmentFromRest),remove:e=>U.a.post("/recruitingCEJobApplications",Mc.mapRejectToRest(e)),async getLastPostedApplicationReqId(e){let t=0;const i=this.getApplicationsJobsIds(e),n=await Fs.getJobs(i).catch(console.error);return e.find(({jobId:e})=>null==n?void 0:n.items.find(({id:i,requisitionId:n})=>i===e()&&(t=n,!0))),t},getApplicationsJobsIds:e=>e.map(({jobId:e})=>e())};const Od=[{id:"Recommended-Job-1",shortDescription:"Recommended Job 1 Description",title:"Recommended Job 1"},{id:"Recommended-Job-2",shortDescription:"Recommended Job 2 Description",title:"Recommended Job 2"},{id:"Recommended-Job-3",shortDescription:"Recommended Job 3 Description",title:"Recommended Job 3"},{id:"Recommended-Job-4",shortDescription:"Recommended Job 4 Description",title:"Recommended Job 4"},{id:"Recommended-Job-5",shortDescription:"Recommended Job 5 Description",title:"Recommended Job 5"},{id:"Recommended-Job-6",shortDescription:"Recommended Job 6 Description",title:"Recommended Job 6"},{id:"Recommended-Job-7",shortDescription:"Recommended Job 7 Description",title:"Recommended Job 7"},{id:"Recommended-Job-8",shortDescription:"Recommended Job 8 Description",title:"Recommended Job 8"},{id:"Recommended-Job-9",shortDescription:"Recommended Job 9 Description",title:"Recommended Job 9"},{id:"Recommended-Job-10",shortDescription:"Recommended Job 10 Description",title:"Recommended Job 10"}],Ad={categories:"CATEGORIES",titles:"TITLES",organizations:"ORGANIZATIONS",postingDate:"POSTING_DATES",workLocations:"WORK_LOCATIONS"};class Pd extends mc{constructor({params:e,mode:t,lang:i},s="cc-job-list__view-more-button"){super({params:e}),this._querybuilder=new sr,this.isLoaded=Object(n.observable)(),this.loadingMore=Object(n.observable)(!1),this.queryParams=Object(n.observable)(),this.jobs=Object(n.observableArray)(),this.buttonClass=s,this.isAdminMode="admin"===t,this.offset=0,this.lastAppliedRequisitionId=0,this.hasMoreJobs=Object(n.observable)(!1),this._criteriaSubscription=this.params.criteria.subscribe(this._onCriteriaChanged,this),this._limitSubscription=this.params.limit.subscribe(this._onCriteriaChanged,this),this._jobListTypeSubscription=this.params.jobListType?this.params.jobListType.subscribe(this._onJobListTypeChanged,this):null,this._onCriteriaChanged();const a=i?i():b.a.getFusionCode();this.viewMoreLabel=Object(n.pureComputed)(()=>{const e="viewMoreLabel_"+a,t=this.params[e],i=this.params.viewMoreLabel;return t?t():i()})}dispose(){this._criteriaSubscription.dispose(),this._limitSubscription.dispose(),this._jobListTypeSubscription&&this._jobListTypeSubscription.dispose()}openJobPreview(e){Ws.store();const t=this.getUrl(e);h.a.redirect(t)}getUrl(e){return m.b.interpolate({lang:b.a.get()},"job-details",{jobId:e})}_onCriteriaChanged(){this.isLoaded(!1),this.params.jobListType&&"custom-criteria"===this.params.jobListType()?this._onCustomCriteriaChanged():this._onJobsToCandidateCriteriaChanged()}_onCustomCriteriaChanged(){const e=JSON.parse(this.params.criteria()),t=this.params.limit();this._clearQueryParams(),this._buildQueryParams(e);const i=Object.assign({},this.queryParams(),{limit:t});Ts.searchJobs(i).then(this._loadJobs.bind(this)).catch(e=>console.error(e))}_onJobsToCandidateCriteriaChanged(){this.isAdminMode?this._loadJobsToCandidateStub():this._loadJobsToCandidate()}async _loadJobsToCandidate(){if(!Is.a.getCandidateNumber())return void this.isLoaded(!0);if(this.lastAppliedRequisitionId=await this._getLastAppliedRequisitionId(),!this.lastAppliedRequisitionId)return void this.isLoaded(!0);const e={limit:this.params.limit()};Ts.searchJobsToCandidate(e,this.lastAppliedRequisitionId).then(this._loadJobs.bind(this)).catch(e=>console.error(e))}async _getLastAppliedRequisitionId(){const e=await Ed.getAll();if(null==e?void 0:e.length)return await Ed.getLastPostedApplicationReqId(e).catch(console.error)}_onJobListTypeChanged(e){"relevant-to-user"===e?this._loadJobsToCandidateStub():this._onCriteriaChanged()}_loadJobs({requisitionList:e,hasMore:t}){this.jobs(e),this.hasMoreJobs(t),this.isLoaded(!0)}_clearQueryParams(){this._querybuilder.withoutKeyword(),this._querybuilder.withoutFacets(),this._querybuilder.withoutLocation()}_buildQueryParams(e){const t=this._getCriteriaByKey(e,"keyword"),i=this._getCriteriaByKey(e,"categories"),n=this._getCriteriaByKey(e,"location"),s=this._getCriteriaByKey(e,"workLocations"),a=this._getCriteriaByKey(e,"titles"),o=this._getCriteriaByKey(e,"postingDate"),r=this._getCriteriaByKey(e,"organizations");if(t&&this._querybuilder.withKeyword(t.value),n&&this._querybuilder.withLocation(n.value),null==s?void 0:s.value){const{locationId:e}=s.value;this._querybuilder.withFacet({type:Ad[s.key],selectedIds:[e]})}if((null==i?void 0:i.value)&&this._querybuilder.withFacet({type:Ad[i.key],selectedIds:i.value}),null==r?void 0:r.value){const{orgId:e}=r.value;this._querybuilder.withFacet({type:Ad[r.key],selectedIds:[e]})}a&&this._querybuilder.withFacet({type:Ad[a.key],selectedIds:a.value}),o&&this._querybuilder.withFacet({type:Ad[o.key],selectedIds:[o.value]}),this.queryParams(this._querybuilder.build())}_getCriteriaByKey(e,t){return n.utils.arrayFirst(e,e=>e.key===t)}_loadJobsToCandidateStub(){this._loadJobs({requisitionList:Od.slice(0,this.params.limit())})}async loadMoreJobs(){const e={offset:++this.offset,limit:this.params.limit()};this.loadingMore(!0);const{requisitionList:t,hasMore:i}=await Ts.searchJobsToCandidate(e,this.lastAppliedRequisitionId).catch(e=>{console.error(e),this.loadingMore(!1)});this.jobs.push(...t),this.hasMoreJobs(i),this.loadingMore(!1)}}n.components.register("cc-job-list",{viewModel:{createViewModel:e=>new Pd(e,"button")},template:'<div\n    class="cc-element cc-element--job-list"\n    data-bind="css: params.cssClass, attr: { id: params.cssId }, customStyles: params"\n>\n    <div class="cc-job-list">\n        \x3c!-- ko if: isLoaded --\x3e\n\n        \x3c!-- ko if: jobs().length --\x3e\n\n        <ul class="cc-job-list__list">\n            \x3c!-- ko foreach: jobs --\x3e\n\n            <li class="cc-job-list__list-item">\n                \x3c!-- ko if: $component.isAdminMode --\x3e\n                <a class="cc-job-list__item-container">\n                    <span class="cc-job-list__item-title" data-bind="text: title"></span>\n                    \x3c!-- ko if: $component.params.template() == \'title-and-description\' --\x3e\n                    <span\n                        class="cc-job-list__item-description text-color-secondary"\n                        data-bind="text: shortDescription"\n                    ></span>\n                    \x3c!-- /ko --\x3e\n                </a>\n                \x3c!-- /ko --\x3e\n\n                \x3c!-- ko ifnot: $component.isAdminMode --\x3e\n                <a\n                    class="cc-job-list__item-container"\n                    data-bind="click: $component.openJobPreview.bind($component, $data.id), attr: { \'title\': title, \'href\': $component.getUrl($data.id) }"\n                >\n                    <span class="cc-job-list__item-title" data-bind="text: title"></span>\n                    \x3c!-- ko if: $component.params.template() == \'title-and-description\' --\x3e\n                    <span\n                        class="cc-job-list__item-description text-color-secondary"\n                        data-bind="text: shortDescription"\n                    ></span>\n                    \x3c!-- /ko --\x3e\n                </a>\n                \x3c!-- /ko --\x3e\n            </li>\n\n            \x3c!-- /ko --\x3e\n\n            \x3c!-- ko if: $component.loadingMore --\x3e\n            <div class="cc-job-list__view-more-spinner">\n                <spinner></spinner>\n            </div>\n            \x3c!-- /ko --\x3e\n        </ul>\n\n        <div class="cc-job-list__view-more">\n            \x3c!-- ko if: isAdminMode --\x3e\n            <button class="button cc-job-list__view-more-button" data-bind="text: viewMoreLabel"></button>\n            \x3c!-- /ko --\x3e\n\n            \x3c!-- ko ifnot: isAdminMode --\x3e\n            \x3c!-- ko if: params.jobListType() === \'custom-criteria\' --\x3e\n            <a\n                data-bind="css: buttonClass, route: \'search\', routeParams: { query: queryParams() }, isAbsoluteUrl: true, text: viewMoreLabel"\n            ></a>\n            \x3c!-- /ko --\x3e\n\n            \x3c!-- ko if: params.jobListType() === \'relevant-to-user\' && hasMoreJobs --\x3e\n            <button data-bind="css: buttonClass, click: loadMoreJobs, text: viewMoreLabel"></button>\n            \x3c!-- /ko --\x3e\n            \x3c!-- /ko --\x3e\n        </div>\n\n        \x3c!-- /ko --\x3e\n\n        \x3c!-- ko ifnot: jobs().length --\x3e\n        <div\n            class="cc-job-list__no-results"\n            data-bind="visible: params.jobListType() === \'custom-criteria\', i18n: \'search.no-results-header\'"\n        ></div>\n        \x3c!-- /ko --\x3e\n\n        \x3c!-- /ko --\x3e\n\n        \x3c!-- ko ifnot: isLoaded --\x3e\n        <div class="cc-job-list__spinner">\n            <spinner></spinner>\n        </div>\n        \x3c!-- /ko --\x3e\n    </div>\n</div>\n'});n.components.register("cc-custom-html",{viewModel:mc,template:'<div class="cc-element cc-element--custom-html" data-bind="html: content, customStyles: params"></div>\n'});n.components.register("cc-headline",{viewModel:mc,template:'<div\n    class="cc-element cc-element--rich-text"\n    data-bind="html: content, css: params.cssClass, attr: { id: params.cssId }, customStyles: params"\n></div>\n'});n.components.register("cc-image",{viewModel:class extends mc{constructor({params:e,mode:t,lang:i}){super({params:e}),this.params=e,this.isAdminMode="admin"===t,this.mobileSrc=Object(n.pureComputed)(this._getMobileSrc,this),this.targetAttr=Object(n.pureComputed)(()=>this.params.openInNewTab()?"_blank":null);const s=i?i():b.a.getFusionCode();this.desktopAlt=Object(n.pureComputed)(()=>{const{desktopAlt:e}=this.params,t="desktopAlt_"+s,i=this.params[t];return i?i():e()}),this.linkUrl=Object(n.pureComputed)(()=>{const{linkUrl:e}=this.params,t="linkUrl_"+s,i=this.params[t];return i?i():e()}),this.mobileAlt=Object(n.pureComputed)(()=>{const{mobileAlt:e}=this.params,t="mobileAlt_"+s,i=this.params[t];return this.params.useDesktopSrcAsMobile()?this.desktopAlt():i?i():e()}),this.cssClass=Object(n.pureComputed)(this._computeCssClass,this)}getDimension(e){return e()||""}_getMobileSrc(){return this.params.desktopSrc()&&this.params.useDesktopSrcAsMobile()?this.params.desktopSrc():this.params.mobileSrc()}_computeCssClass(){return`cc-element-media--align-${this.params.align()} ${this.params.cssClass()}`}},template:'<div\n    class="cc-element cc-element-media"\n    data-bind="css: cssClass, attr: { id: params.cssId }, customStyles: params"\n>\n    \x3c!-- ko if: linkUrl && !isAdminMode --\x3e\n    <a data-bind="attr: {href: linkUrl, target: targetAttr}">\n        <img\n            class="media-element media-element--image media-element--mobile"\n            alt=""\n            data-bind="attr: {\n                src: mobileSrc,\n                alt: mobileAlt,\n                width: getDimension(params.mobileWidth) }"\n        />\n\n        <img\n            class="media-element media-element--image"\n            alt=""\n            data-bind="attr: {\n                src: params.desktopSrc,\n                alt: desktopAlt,\n                width: getDimension(params.desktopWidth) }"\n        />\n    </a>\n    \x3c!-- /ko --\x3e\n\n    \x3c!-- ko if: !linkUrl || isAdminMode --\x3e\n    <img\n        class="media-element media-element--image media-element--mobile"\n        alt=""\n        data-bind="attr: {\n                src: mobileSrc,\n                alt: mobileAlt,\n                width: getDimension(params.mobileWidth) }"\n    />\n\n    <img\n        class="media-element media-element--image"\n        alt=""\n        data-bind="attr: {\n                src: params.desktopSrc,\n                alt: desktopAlt,\n                width: getDimension(params.desktopWidth) }"\n    />\n    \x3c!-- /ko --\x3e\n</div>\n'});n.components.register("cc-paragraph",{viewModel:mc,template:'<div\n    class="cc-element cc-element--rich-text basic-formatter cc-paragraph"\n    data-bind="html: content, css: params.cssClass, attr: { id: params.cssId }, customStyles: params"\n></div>\n'});n.components.register("cc-rule",{viewModel:class extends mc{constructor({params:e}){super({params:e}),this.percentageWidth=Object(n.pureComputed)(this._computePercentageWidth,this),this.cssClass=Object(n.pureComputed)(this._computeCssClass,this)}_computePercentageWidth(){return 100*this.params.width()+"%"}_computeCssClass(){return`cc-rule--align-${this.params.align()} ${this.params.cssClass()}`}},template:'<div\n    class="cc-element cc-element--rule"\n    data-bind="css: cssClass, style: { backgroundColor: params.backgroundColor }, attr: { id: params.cssId }, customStyles: params"\n>\n    <div\n        class="cc-element-rule__line"\n        data-bind="style: { width: percentageWidth, backgroundColor: params.lineColor }"\n    ></div>\n</div>\n'});n.components.register("cc-section",{viewModel:class extends mc{constructor({params:e,components:t,rows:i}){super({params:e}),this.components=t,this.rows=i,this.isParallaxEnabled=Object(n.pureComputed)(()=>Boolean(!Vt.isMobile()&&this.params.backgroundParallax()&&this.params.backgroundImage())),this.width=this.params.column(),this.cssClass="cc-section--width-"+this.width,this.backgroundSrc=!!this.params.backgroundImage()&&`url(${this.params.backgroundImage()})`}},template:'<section\n    class="cc-section"\n    data-bind="css: cssClass, style: { backgroundColor: params.backgroundColor, backgroundImage: backgroundSrc }"\n>\n    <cc-parallax params="backgroundSrc: backgroundSrc, isParallaxEnabled: isParallaxEnabled"></cc-parallax>\n\n    <cc-video-background\n        params="videoUrl: section.params.backgroundVideo, videoWrapper: true, isFullscreen: false"\n    ></cc-video-background>\n\n    <div class="cc-section__content">\n        \x3c!-- ko foreach: { data: components, as: \'component\' } --\x3e\n        \x3c!-- ko component: { name: component.params.type, params: component } --\x3e\x3c!-- /ko --\x3e\n        \x3c!-- /ko --\x3e\n\n        \x3c!-- ko foreach: { data: rows, as: \'row\' } --\x3e\n        \x3c!-- ko component: { name: \'cc-row\', params: row } --\x3e\x3c!-- /ko --\x3e\n        \x3c!-- /ko --\x3e\n    </div>\n</section>\n'});const Td=[{id:"1",count:1,sizes:[]},{id:"2",count:2,sizes:["1-2","1-2"]},{id:"3",count:3,sizes:["1-3","1-3","1-3"]},{id:"4",count:4,sizes:[]},{id:"5",count:5,sizes:[]},{id:"6",count:6,sizes:[]},{id:"7",count:2,sizes:["1-3","2-3"]},{id:"8",count:2,sizes:["2-3","1-3"]},{id:"9",count:3,sizes:["1-4","1-2","1-4"]},{id:"10",count:3,sizes:["1-4","1-4","1-2"]},{id:"11",count:3,sizes:["1-2","1-4","1-4"]}];function jd(e,t){const i=function(e){const t=Td.find((i=e,e=>e.id===i));var i;const{sizes:n}=t;return n}(e);t.forEach((e,t)=>{const n=i.length?i[t]:"default";e.size(n),e.order(t)})}n.components.register("cc-row",{viewModel:class extends mc{constructor({params:e,columns:t}){super({params:e}),this.columns=t,jd(this.params.columnLayout(),t)}},template:"<div class=\"cc-row\">\n    <div class=\"cc-row__content\">\n        \x3c!-- ko foreach: { data: columns, as: 'column' } --\x3e\n        \x3c!-- ko component: { name: 'cc-column', params: column } --\x3e\x3c!-- /ko --\x3e\n        \x3c!-- /ko --\x3e\n    </div>\n</div>\n"});n.components.register("cc-column",{viewModel:class extends mc{constructor({size:e,params:t,components:i}){super({params:t}),this.size=e,this.components=i,this.isParallaxEnabled=Object(n.pureComputed)(this._shouldParalaxBeEnabled,this),this.backgroundSrc=!!this.params.backgroundImage()&&`url(${this.params.backgroundImage()})`}_shouldParalaxBeEnabled(){return Boolean(!Vt.isMobile()&&this.params.backgroundParallax()&&this.params.backgroundImage())}},template:'<div\n    class="cc-column"\n    data-bind="style: { backgroundColor: params.backgroundColor, backgroundImage: backgroundSrc },\n               class: \'cc-column--\' + size()"\n>\n    <cc-parallax params="backgroundSrc: backgroundSrc, isParallaxEnabled: isParallaxEnabled"></cc-parallax>\n\n    <cc-video-background\n        params="videoUrl: params.backgroundVideo, videoWrapper: true, isFullscreen: false"\n    ></cc-video-background>\n\n    <div class="cc-column__content">\n        \x3c!-- ko foreach: { data: components, as: \'component\' } --\x3e\n        \x3c!-- ko component: { name: component.params.type, params: component } --\x3e\x3c!-- /ko --\x3e\n        \x3c!-- /ko --\x3e\n    </div>\n</div>\n'});n.components.register("cc-space",{viewModel:class extends mc{constructor({params:e}){super({params:e}),this.height=Object(n.pureComputed)(this._computeHeight,this)}_computeHeight(){return this.params.height()+"px"}},template:'<div\n    class="cc-space"\n    data-bind="style: { height: height },css: params.cssClass, attr: { id: params.cssId }, customStyles: params"\n></div>\n'}),n.bindingHandlers.videoSrc={update(e,t){const i=t();i()?e.src=i():e.removeAttribute("src"),e.parentNode.load()}};const Rd=/^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/;class Fd extends mc{constructor({params:e}){super({params:e}),this.params=e,this.component=this._setComponent(),this.cssClass=Object(n.pureComputed)(this._computeCssClass,this)}_setComponent(){const e=this.params.src();return t=e,Rd.test(t)?"youtube-video":"generic-video";var t}_computeCssClass(){return`cc-element-media--align-${this.params.align()} ${this.params.cssClass()}`}}n.components.register("generic-video",{viewModel:Fd,template:'<div class="media-element__video-wrapper" data-bind="style: { maxWidth: params.width()+\'px\' }">\n    <div class="media-element__video-spacer" data-bind="attr: { \'data-aspect\': params.aspectRatio }"></div>\n    <div\n        data-bind="videoCreator: {\n                        attributes: {\n                            src: params.src,\n                            controls: true,\n                            autoplay: params.autoplay,\n                            className: \'media-element__embeded\'\n                        },\n                        unsupportedMessage: true\n                    }"\n    ></div>\n</div>\n'});n.components.register("youtube-video",{viewModel:class extends Fd{constructor({params:e}){super({params:e}),this.src=Object(n.pureComputed)(this._getYoutubeSrc,this)}_getYoutubeSrc(){const[,e]=this.params.src().match(Rd),t=this.params.autoplay()?1:0;return`https://www.youtube.com/embed/${e}?autoplay=${t}&mute=${t?1:0}`}},template:'<div class="media-element__video-wrapper" data-bind="style: { maxWidth: params.width()+\'px\' }">\n    <div class="media-element__video-spacer" data-bind="attr: { \'data-aspect\': params.aspectRatio }"></div>\n\n    <iframe\n        class="media-element__embeded"\n        frameborder="0"\n        allowfullscreen\n        title="video"\n        data-bind="attr: { src: src }"\n    ></iframe>\n</div>\n'});n.components.register("cc-video",{viewModel:Fd,template:'<div\n    class="cc-element cc-element-media"\n    data-bind="css: cssClass, attr: { id: params.cssId }, customStyles: params"\n>\n    \x3c!-- ko component: {\n        name: component,\n        params: {\n            params: params\n        }\n    } --\x3e\n    \x3c!-- /ko --\x3e\n</div>\n'});n.components.register("linkedin-connections",{viewModel:class{constructor(){const{isEnabled:e,apiKey:t,integrationContext:i}=c.a.getSettingByKey(ni.a);this.linkedInConnectionsEnabled=e,e&&(this.isScriptLoaded=Object(n.observable)(!1),this._loadLinkedInIntegrationScript(t),this.integrationContext=i)}_loadLinkedInIntegrationScript(e){const t=`\n         api_key: ${e}\n         extensions: CompanyConnections@https://www.linkedin.com/careersite/extensions/company-connections-js\n        `;Object($t.a)("https://platform.linkedin.com/xdoor/scripts/in.js",t,!0).then(()=>{this.isScriptLoaded(!0)}).catch(()=>{console.error("Unable to load script")})}},template:'\x3c!-- ko if: linkedInConnectionsEnabled --\x3e\n<div class="linkedin-connections">\n    \x3c!-- ko if: isScriptLoaded --\x3e\n    <script\n        type="IN/CompanyConnections"\n        data-bind="attr: { \'data-integration-context\': integrationContext }"\n        data-width="360px"\n        data-height="246px"\n    ><\/script>\n    \x3c!-- /ko --\x3e\n    \x3c!-- ko ifnot: isScriptLoaded --\x3e\n    <spinner></spinner>\n    \x3c!-- /ko --\x3e\n</div>\n\x3c!-- /ko --\x3e\n'});n.components.register("cc-linkedin-connections-widget",{viewModel:class extends mc{constructor({params:e,mode:t}){super({params:e}),this.linkedInConnectionsEnabled=c.a.getSettingByKey(ni.a).isEnabled,this.isAdminMode="admin"===t}},template:'\x3c!-- ko if: linkedInConnectionsEnabled --\x3e\n<div\n    class="cc-element cc-element--linkedin-connections-widget"\n    data-bind="attr: { id: params.cssId }, customStyles: params"\n>\n    \x3c!-- ko if: !isAdminMode --\x3e\n    <linkedin-connections></linkedin-connections>\n    \x3c!-- /ko --\x3e\n    \x3c!-- ko if: isAdminMode --\x3e\n    <div\n        class="linkedin-connections-widget-placeholder"\n        data-bind="i18n: \'admin.site-editor.content-editor.linkedin-connections.placeholder\'"\n    ></div>\n    \x3c!-- /ko --\x3e\n</div>\n\x3c!-- /ko --\x3e\n'});let Dd=[],Ld=0,Nd=window.innerHeight;function Md(){Dd.forEach(({parentElement:e,imgElement:t})=>{if(function(e){const t=e.getBoundingClientRect().top,i=e.getBoundingClientRect().bottom;return Nd-t>0&&(Ld=Nd-t),Nd>t&&i>0}(e)){const e=Math.min(.35*(window.pageYOffset||document.documentElement.scrollTop),.35*Ld);t.style.transform=`translate3d(0, ${-e}px, 0)`}})}function Vd(){Nd=window.innerHeight,Md()}s.a.bindingHandlers.parallax={init(e,t,i,n,a){const[o]=e.children,{parentElement:r}=e.parentElement,l=a.$index();0===Dd.length&&(window.addEventListener("scroll",Md),window.addEventListener("resize",Vd)),Dd.push({parentElement:r,imgElement:o,indexElement:l}),Md(),s.a.utils.domNodeDisposal.addDisposeCallback(e,()=>{Dd=Dd.filter(e=>e.indexElement!==l),0===Dd.length&&(window.removeEventListener("scroll",Md),window.removeEventListener("resize",Vd))})}};n.components.register("cc-parallax",{template:'\x3c!-- ko if: isParallaxEnabled --\x3e\n<div class="cc-parallax" data-bind="parallax: isParallaxEnabled">\n    <div class="cc-parallax--image" data-bind="style: { backgroundImage: backgroundSrc }"></div>\n</div>\n\x3c!-- /ko --\x3e\n'});n.components.register("cc-page",{viewModel:class{constructor({page:e,classModifier:t}){this.page=e,this.classWithModifier=t?"cc-page--"+t:"",this.isPageDisplayBoxed="boxed"===e.params.display}},template:"<article class=\"cc-page\" data-bind=\"css: {'cc-page--boxed': isPageDisplayBoxed}, class: classWithModifier\">\n    <div class=\"cc-page__content\">\n        \x3c!-- ko foreach: { data: page.sections, as: 'section' } --\x3e\n        \x3c!-- ko component: { name: 'cc-section', params: section } --\x3e\x3c!-- /ko --\x3e\n        \x3c!-- /ko --\x3e\n    </div>\n</article>\n"});n.components.register("cc-back-to-homepage",{template:'<div class="cc-back-to-homepage-wrapper">\n    <a class="cc-back-to-homepage text-color-primary" data-bind="route: \'home-page\', isAbsoluteUrl: true">\n        <span class="cc-back-to-homepage__icon"></span>\n        <span data-bind="i18n: \'admin.site-editor.navigation.back-to-homepage\'"></span>\n    </a>\n</div>\n'}),h.a.configure({"cc-page":{parent:"minimal",url:"/pages/{pageCode}/:?query:",view:{main:"custom-content"},enter(){Bt.a.loaded.dispatch()}}});n.components.register("custom-content",{viewModel:class{constructor(){this.page=Object(n.observable)(),this.pageCode=Object(n.pureComputed)(()=>h.a.routeParams().pageCode),this.isPreview=Object(n.pureComputed)(()=>{var e;return null===(e=h.a.routeParams().query)||void 0===e?void 0:e.preview}),this._pageCodeSub=this.pageCode.subscribe(e=>{this._loadPage(e)}),this._loadPage(this.pageCode())}_getPage(e){return e?this.isPreview()?In.getDraft(e):In.get(e):Promise.reject()}_loadPage(e){return this._getPage(e).catch(e=>console.error(e)).then(e=>e?(this.page(e),this._updatePageTitle()):h.a.go("not-found"))}_updatePageTitle(){Bt.a.pageTitleUpdate.dispatch(this.page().title)}dispose(){this._pageCodeSub.dispose(),this.pageCode.dispose()}},template:"<div class=\"app__subpage app__subpage--custom-page\">\n    \x3c!-- ko if: page --\x3e\n\n    \x3c!-- ko component: 'cc-back-to-homepage' --\x3e\x3c!-- /ko --\x3e\n\n    \x3c!-- ko component: { name: 'cc-page', params: {page: page(), classModifier: 'custom-page'}} --\x3e\x3c!-- /ko --\x3e\n\n    \x3c!-- ko component: 'cc-back-to-homepage' --\x3e\x3c!-- /ko --\x3e\n\n    \x3c!-- /ko --\x3e\n</div>\n"});const Bd=["DateOfBirth","CandidatePIIData.NationalIdentifierNumber","FileContents"];function qd(e){return Array.isArray(e)}function Ud(e,t){const[i]=t;if(qd(e))return void e.forEach(e=>{Ud(e,t)});Object.keys(e).forEach(n=>{var s;n.toLowerCase()===i.toLowerCase()&&((s=e[n])&&"object"==typeof s&&!Array.isArray(s)&&Ud(e[n],t.slice(1)),qd(e[n])&&e[n].forEach(e=>{Ud(e,t.slice(1))}),function(e){return"string"==typeof e||"number"==typeof e}(e[n])&&(e[n]="***"))})}var Hd={mask:(e,t)=>(Ud(e,t.split(".")),e)};function $d(e,t){return void 0===t?"draft-json-undefined":t}function Jd({candidate:e,application:t,removedProfileItemsMap:i}){e.attachments=e.attachments.map(e=>(delete e.fileContents,e)),delete e.isDateOfBirthInProfile;const n={candidate:e,application:t,removedProfileItemsMap:i};return Li.encode(JSON.stringify(n,$d))}function zd({content:e,candidateNumber:t}){const i=JSON.parse(Li.decode(e));return t&&(i.application.candidateNumber=t,i.candidate.id=t),function e(t){return Object.keys(t).forEach(i=>{var n;"draft-json-undefined"===t[i]&&(t[i]=void 0),null!==(n=t[i])&&"object"==typeof n&&e(t[i])}),t}(i)}var Wd={mapToRest(e){const t=o.a.toJS(e),{email:i,phone:n,verificationMethod:s}=t.candidate.basicInformation;return{siteNumber:c.a.siteNumber,contentLanguage:c.a.siteLang,candidateNumber:t.candidate.id,requisitionNumber:t.jobId,legalDescriptionVersionId:t.legalDisclaimerId,content:Jd(t),emailAddress:i,countryCode:n.countryCode,areaCode:n.areaCode,phoneNumber:n.number,preferredChannel:s,submissionId:t.application.submissionId,flowId:t.application.flowId,stepActionUsageId:t.application.currentPhaseId}},mapFromRest(e){const[t]=e.items;if(!t)return null;const{candidate:i,application:n,removedProfileItemsMap:s}=zd(t);n.submissionId=t.submissionId,n.flowId=t.flowId,n.currentPhaseId=t.stepActionUsageId;const a={id:t.appdraftId,jobId:t.requisitionNumber,legalDisclaimerId:t.legalDescriptionVersionId,candidate:i,candidateId:t.candidateNumber,contentLanguage:t.contentLanguage,application:new _c(n),draftModificationDate:de.IntlConverterUtils.isoToLocalDate(t.modificationDate),savedContent:t.content,proposedCandidateId:t.proposedCandidateNumber,removedProfileItemsMap:(r=s,Object.keys(r).reduce((e,t)=>{const i=r[t];return e[t]=i.map(e=>o.a.fromJS(e)),e},{}))};var r;return t.candLastModifiedDate&&(a.candidateModificationDate=de.IntlConverterUtils.isoToLocalDate(t.candLastModifiedDate)),a},mapSaveFromRest:e=>({id:e.appdraftId,draftModificationDate:de.IntlConverterUtils.isoToLocalDate(e.modificationDate),savedContent:e.content,contentLanguage:e.contentLanguage,proposedCandidateId:e.proposedCandidateNumber,candidateId:e.candidateNumber,jobId:e.requisitionNumber}),mapDraftsListFromRest(e,t){const i=new Ie(c.a.siteLang);return e.map(e=>{const n=t.find(({id:t})=>t===e.requisitionNumber);return n?{id:e.appdraftId,jobId:e.requisitionNumber,modificationDateOrigianl:e.modificationDate,modificationDate:i.formatDate(e.modificationDate),siteNumber:e.siteNumber,siteName:e.siteName,jobTitle:n.title,jobLocation:n.primaryLocation}:null}).filter(e=>e)},mapDraftsUpdateToRest({candidate:e,proposedCandidateId:t}){const{email:i,phone:n}=o.a.toJS(e.basicInformation);return{candidateNumber:e.id()||t,customAction:"ORA_UPDATE",emailAddress:i,countryCode:n.countryCode,areaCode:n.areaCode,phoneNumber:n.number}}},Kd={dragEnter:new Ot.a,fileDropped:new Ot.a,submit:new Ot.a,submitHasErrors:new Ot.a,submitSucceed:new Ot.a,submitFailed:new Ot.a,sectionChanged:new Ot.a,refresh:new Ot.a,navigationOpen:new Ot.a,invalidESignature:new Ot.a,profileImportSucceed:new Ot.a,profileImportLoading:new Ot.a,beforeApplicationDraftSave:new Ot.a,afterApplicationDraftSave:new Ot.a,restartDraftMonitor:new Ot.a,profileItemChangeDetected:new Ot.a};const Gd="/recruitingCEJobApplicationDrafts",Yd=Gd+"/:draftId:";function Qd(e,t){return e.content=t,e}function Zd({items:e}){const[t]=e;return t||(console.error("missing draft"),Promise.reject("missing draft"))}function Xd({jobId:e,application:t}){return function({submissionId:e,flowId:t,currentPhaseId:i}){return Boolean(e()&&t()&&i())}(t)?su(t.flowId(),t.submissionId(),t.currentPhaseId()).then(Zd):nu(e).then(Zd)}function eu(e){const t=Wd.mapToRest(e);return Kd.beforeApplicationDraftSave.dispatch(),U.a.post(Gd,t,{statusCodes:{400:({response:t})=>"ORA_DRAFT_EXISTS"===t?Xd(e):Promise.reject()}}).then(e=>Qd(e,t.content))}function tu(e){if(Ba.id)return e;const{jobId:t}=e,i=e.candidateId||e.proposedCandidateId;return i&&Js.i[Js.b].dispatch({jobId:t,candidateId:i}),e}function iu(e){const t=Wd.mapToRest(e);return Ba.shouldUpdate(t)?(Kd.beforeApplicationDraftSave.dispatch(),U.a.patch(Yd,t,{params:{draftId:e.id}}).then(e=>Qd(e,t.content))):Promise.reject("CONTENT_NOT_CHANGED")}function nu(e){const t={onlyData:!0,expand:"Content",requisitionNumber:e};return U.a.get("/recruitingCEJobApplicationDrafts?onlyData=:onlyData:&expand=:expand:&q=RequisitionNumber=:requisitionNumber:",{params:t})}function su(e,t,i){const n={onlyData:!0,expand:"Content",submissionId:t,flowId:e,currentPhaseId:i};return U.a.get("/recruitingCEJobApplicationDrafts?onlyData=:onlyData:&expand=:expand:&finder=findBySubmissionStepAndFlowId;SubmissionId=:submissionId:,StepActionUsageId=:currentPhaseId:,FlowId=:flowId:",{params:n})}function au(e,t,i){let n=Wd.mapFromRest(e);return n||(n={jobId:t,application:i}),function(e){return!e.id||e.candidateId||e.proposedCandidateId?Promise.resolve(e):U.a.patch(Yd,{CustomAction:"ORA-GENERATE-PROPOSED-CAND-NUMBER"},{params:{draftId:e.id}}).catch(console.error).then(()=>e)}(n)}function ou(e){const t=Wd.mapDraftsUpdateToRest(e);return U.a.post(Gd,t)}var ru={mergeCandidateAndApplicationDraftData(e,t){if(!t)return e;const i=o.a.toJS(e);var n;return i.questionnaires=t.questionnaires,i.regulatoryResponses=t.regulatoryResponses,i.attachments.push(...(n=t.attachments,n.filter(({categoryId:e})=>"MISC"===e))),i},delete:e=>U.a.delete(Yd,{params:{draftId:e}}),getCandidateDrafts(){return U.a.get(Gd+"?fields=:fields:&orderBy=:orderBy:&limit=500&onlyData=true",{params:{fields:"RequisitionNumber,APPDraftId,SiteNumber,ModificationDate,SubmissionId",orderBy:"ModificationDate:desc"}}).then(this.filterDrafts).catch(console.error)},draftExists:()=>Boolean(Ba),async loadForRIF(e,t,i){try{return au(await su(t,i.submissionId(),i.currentPhaseId()),e,i)}catch(e){return console.error(e),Promise.reject()}},async load(e,t){try{return au(await nu(e),e,t)}catch(e){return console.error(e),Promise.reject()}},save:()=>(Ba.id?iu:eu)(Ba).then(Wd.mapSaveFromRest).then(tu).then(Ba.update).then(()=>Kd.afterApplicationDraftSave.dispatch()),updateCandidateDrafts(e=null){return e?ou({candidate:e}):this.draftExists()?ou(Ba):Promise.resolve()},updateCandidateModificationDate(){if(!this.draftExists())return;const e=new Date(Ba.draftModificationDate);e.setSeconds(e.getSeconds()+1),Ba.update({candidateModificationDate:e})},updateLegalDisclaimerId(e){this.draftExists()&&Ba.update({legalDisclaimerId:e})},mergeDraftsAndJobsDetails(e){if(!e)return Promise.resolve([]);const t=e.map(e=>e.requisitionNumber);return t.length?Fs.getJobs(t).then(t=>Wd.mapDraftsListFromRest(e,t.items)):[]},filterDrafts(e){if(!e.items.length)return Promise.resolve([]);return e.items.filter(e=>null===e.submissionId)},calculateDraftCandidate({isCandidateNewer:e,candidateModel:t,draftCandidate:i}){if(e)try{return this.mergeCandidateAndApplicationDraftData(t,i)}catch(e){return this._notifyError(e),t}return i},_notifyError(e){console.error(e)}};let lu=[];function cu(){return c.a.getSettingByKey("IRC_CE_REST_LOG_LEVEL")||"ERROR"}function du(e){const{module:t,accessCode:i,draftApplicationId:n,ceUserTrackingId:s,requisitionNumber:a,email:o,phoneNumber:r}=e,l=JSON.stringify(lu),d={baseUrl:c.a.ceBaseUrl};return U.a.post("/candExpError",{module:t,accessCode:i,draftApplicationId:n,ceUserTrackingId:s,requisitionNumber:a,email:o,phoneNumber:r,content:l},d).catch(e=>console.error(e))}var uu={middleware(e,{url:t,method:i,headers:n,body:s,status:a}){if(t.includes("/candExpError"))return;let o={},r={};var l;s&&(o=function(e){try{return JSON.parse(e)}catch{return e}}(s)),e&&(l=e,r=JSON.parse(JSON.stringify(l))),Bd.forEach(e=>{Hd.mask(o,e),Hd.mask(r,e)}),function({url:e,body:t,status:i,method:n}){200===i&&e.includes(Gd)&&"PATCH"===n&&t.Content&&(t.Content="***")}({url:t,method:i,body:o,status:a}),lu.push({url:t,status:a||200,method:i||"GET",headers:n,body:o,response:r})},log({data:e,type:t}){lu.push({type:t,content:e})},get:()=>lu,clear(){lu=[]},dump:e=>"ALL"===cu()?du(e):Promise.resolve(),dumpOnError:e=>"ALL"===cu()||"ERROR"===cu()?du(e):Promise.resolve()};const pu=console.error.bind(console);function hu(e){const t=e.map(e=>function(e){return(null==e?void 0:e.stack)&&(null==e?void 0:e.message)}(e)?{message:e.message,stack:e.stack}:e);uu.log({type:"CONSOLE_ERROR",data:t})}function mu(){uu.clear(),lc.a.removeMiddleware(uu.middleware),console.error=pu}function bu(){var e;lc.a.hasMiddleware(uu.middleware)||(lc.a.addMiddleware(uu.middleware),e=hu,console.error=(...t)=>{pu.apply(console,t),e(t)})}function fu(){bu()}function gu(e){["apply-flow","job-preview.apply-flow"].includes(e)||mu()}function vu(e,t){e!==t&&mu()}h.a.configure({"job-details.email-verification":{parent:"job-details",url:"/apply/email",title:Object(l.a)("apply-flow.page-title"),view:{layout:"apply-flow-light","apply-flow-content":"email-verification"},canEnter:To.a,enter(){fu()},exit(e,t){gu(t)}},"job-preview.email-verification":{parent:"job-preview",url:"/apply/email",title:Object(l.a)("apply-flow.page-title"),view:{layout:"apply-flow-light","apply-flow-content":"email-verification"},canEnter:To.a,enter(){fu()},exit(e,t){gu(t)}},"job-details.pin-verification":{parent:"job-details",url:"/apply/pin",title:Object(l.a)("apply-flow.page-title"),view:{layout:"apply-flow-light","apply-flow-content":"apply-flow-pin-verification"}},"job-details.confirm-application":{parent:"job-details",url:"/apply/confirm",title:Object(l.a)("apply-flow.page-title"),view:{layout:"apply-flow-light","apply-flow-content":"apply-flow-confirm-application"}},"job-details.confirm-email":{parent:"job-details",url:"/apply/confirm-email",view:{layout:"candidate-verification-layout","candidate-verification-content":"confirm-email"}},"existing-candidate-verification":{parent:"job-details",url:"/apply/{token}",view:{layout:"candidate-verification-layout","candidate-verification-content":"token-verification"}},"submission-accept":{parent:"job-details",url:"/apply/{token}/submission/accept",title:Object(l.a)("apply-flow.page-title"),view:{layout:"candidate-verification-layout","candidate-verification-content":"token-verification"}},"inline-assessment-verification":{parent:"job-details",url:"/apply/inline-{partner}/{token}",view:{layout:"candidate-verification-layout","candidate-verification-content":"inline-partner-handler"}},"inline-tax-credits-verification":{parent:"job-details",url:"/apply/inline-{partner}/{token}",view:{layout:"candidate-verification-layout","candidate-verification-content":"inline-partner-handler"}},"submission-not-me":{parent:"job-details",url:"/apply/{token}/submission/not-me",view:{"candidate-verification":"token-verification"}},"job-details.referral-token-verification":{parent:"job-details",url:"/referral/{token}",canEnter:To.b},"share-token-verification":{parent:"job-details",url:"/share/{shareId}",view:{"candidate-verification":"share-verification"}},"prospect-token-verification":{parent:"job-details",url:"/prospect/{token}/:action:",view:{"candidate-verification":"prospect-verification"}},"delete-draft":{parent:"job-details",url:"/delete-draft/{token}",view:{"candidate-verification":"token-verification"}}});var _u="<header>\n    <h1\n        class=\"apply-flow-dialog__header\"\n        data-bind=\"i18n: challenge.verificationStatus() === verificationStates.ATTEMPS_LIMIT_REACHED\n            ? 'apply-flow.candidate-verification.maximum-attemps-reached-header'\n            : 'apply-flow.candidate-verification.header'\"\n    ></h1>\n</header>\n\n\x3c!-- ko component: {\n    name: 'pin-code-verification',\n    params: {\n        challenge: challenge\n    }\n} --\x3e\n\x3c!-- /ko --\x3e\n";lt("candidate-verification-already-applied",'<header>\n    <h1 class="apply-flow-dialog__header" data-bind="i18n: \'general.error-already-applied.header\'"></h1>\n</header>\n\n<section class="apply-flow-dialog__content">\n    <p class="apply-flow-dialog__text" data-bind="a11y.skipTo: {elementsContainer: \'.apply-flow__content\'}">\n        <i18n params="key: \'general.error-already-applied.description\'">\n            <a data-i18n-token="homepageLink" data-bind="route: \'home-page\'" class="theme-color-1"></a>\n            <a\n                data-i18n-token="browseLink"\n                data-bind="route: \'search\', routeParams: { jobId: null }"\n                class="theme-color-1"\n            ></a>\n        </i18n>\n    </p>\n</section>\n'),lt("candidate-verification-confirmed-submission",'<header>\n    <h1\n        class="apply-flow-dialog__header"\n        data-bind="i18n: \'apply-flow.thank-you-dialog.confirmed-submission-header\'"\n    ></h1>\n</header>\n\n<section class="apply-flow-dialog__content">\n    <p\n        class="apply-flow-dialog__text"\n        data-bind="i18n: \'apply-flow.thank-you-dialog.confirmed-submission-text\'"\n    ></p>\n    <p class="apply-flow-dialog__text">\n        <i18n params="key: \'apply-flow.thank-you-dialog.submission-info\'">\n            <span\n                data-i18n-token="date"\n                data-bind="text: $parent.unconfirmedApplication.application().submissionDate"\n            ></span>\n            <strong\n                class="submission-info"\n                data-i18n-token="job_title"\n                data-bind="text: $parent.unconfirmedApplication.jobInfo"\n            ></strong>\n        </i18n>\n    </p>\n</section>\n\n<footer class="apply-flow-dialog__footer">\n    <a\n        class="apply-flow-dialog__button apply-flow-dialog__button--primary"\n        role="button"\n        data-bind="i18n: \'apply-flow.thank-you-dialog.acknowledgement-label\', route: \'search\'"\n    ></a>\n</footer>\n'),lt("candidate-verification-unconfirmed-submission",'<header>\n    <h1 class="apply-flow-dialog__header" data-bind="i18n: \'general.error-already-applied.header\'"></h1>\n</header>\n\n<section class="apply-flow-dialog__content">\n    <p class="apply-flow-dialog__text">\n        <i18n params="key: \'apply-flow.thank-you-dialog.unconfirmed-submission-text\'">\n            <span\n                data-i18n-token="submission_date"\n                data-bind="text: $parent.unconfirmedApplication.application().submissionDate"\n            ></span>\n            <strong\n                data-i18n-token="requisition_name"\n                data-bind="text: $parent.unconfirmedApplication.jobInfo"\n                class="submission-info"\n            ></strong>\n        </i18n>\n    </p>\n</section>\n\n<footer class="apply-flow-dialog__footer">\n    <button\n        type="submit"\n        class="apply-flow-dialog__button apply-flow-dialog__button--secondary"\n        data-bind="i18n: \'general.remove-button\', click: removeSubmission"\n    ></button>\n    <button\n        type="button"\n        class="apply-flow-dialog__button apply-flow-dialog__button--primary"\n        data-bind="i18n: \'apply-flow.thank-you-dialog.confirm-label\', click: confirmSubmission"\n    ></button>\n</footer>\n'),lt("candidate-verification-submission-accept",'<header>\n    <h1 class="apply-flow-dialog__header" data-bind="i18n: \'general.submission-accepted.header\'"></h1>\n</header>\n'),lt("candidate-verification-pin-code-required",_u),lt("candidate-verification-removed-submission",'<header>\n    <h1\n        class="apply-flow-dialog__header"\n        data-bind="i18n: \'apply-flow.thank-you-dialog.removed-submission-header\'"\n    ></h1>\n</header>\n\n<section class="apply-flow-dialog__content">\n    <p\n        class="apply-flow-dialog__text"\n        data-bind="i18n: \'apply-flow.thank-you-dialog.removed-submission-text\'"\n    ></p>\n    <p class="apply-flow-dialog__text">\n        <i18n params="key: \'apply-flow.thank-you-dialog.submission-info\'">\n            <span\n                data-i18n-token="date"\n                data-bind="text: $parent.unconfirmedApplication.application().submissionDate"\n            ></span>\n            <strong\n                class="submission-info"\n                data-i18n-token="job_title"\n                data-bind="text: $parent.unconfirmedApplication.jobInfo"\n            ></strong>\n        </i18n>\n    </p>\n</section>\n\n<footer class="apply-flow-dialog__footer">\n    <a\n        class="apply-flow-dialog__button apply-flow-dialog__button--primary"\n        role="button"\n        data-bind="i18n: \'apply-flow.thank-you-dialog.acknowledgement-label\', route: \'search\'"\n    ></a>\n</footer>\n'),lt("candidate-verification-token-verification",'<header>\n    <h1\n        class="apply-flow-dialog__header"\n        data-bind="i18n: \'email-verification.section-thank-you.header\'"\n    ></h1>\n</header>\n\n<section class="apply-flow-dialog__content">\n    <p\n        class="apply-flow-dialog__text"\n        data-bind="i18n: \'email-verification.section-thank-you.description\'"\n    ></p>\n</section>\n\n<footer class="apply-flow-dialog__footer">\n    <button class="apply-flow-dialog__button apply-flow-dialog__button--link" data-bind="click: resendToken">\n        <inline-spinner\n            params="isLoading: isLoading, i18n: \'email-verification.section-thank-you.resend-link\'"\n        ></inline-spinner>\n    </button>\n</footer>\n'),lt("candidate-verification-last-name-check",'<header>\n    <h1\n        class="apply-flow-dialog__header"\n        data-bind="i18n: challenge.verificationStatus() === verificationStates.ATTEMPS_LIMIT_REACHED\n            ? \'apply-flow.candidate-verification.maximum-attemps-reached-header\'\n            : \'apply-flow.candidate-verification.header\'"\n    ></h1>\n</header>\n\n<section\n    class="apply-flow-dialog__content"\n    data-bind="a11y.setInitialFocus: {isVisible: isLastNameCheck, delay: 100}"\n>\n    <p\n        class="apply-flow-dialog__text"\n        data-bind="i18n: \'apply-flow.candidate-verification.last-name-check-description\'"\n    ></p>\n\n    <div\n        class="apply-flow-dialog__form"\n        data-bind="css: {\'apply-flow-dialog__form--invalid\': showLastNameMismatchMessage}"\n    >\n        \x3c!-- ko ifnot: isLoading --\x3e\n        \x3c!-- ko component: { name: \'form-builder\', params: { form: lastNameForm } } --\x3e\x3c!-- /ko --\x3e\n\n        \x3c!-- ko if: showLastNameMismatchMessage --\x3e\n        <p class="apply-flow-verify-method__message-container text-color-secondary" role="alert">\n            <span\n                data-bind="i18n: \'apply-flow.candidate-verification.last-name-mismatch\'"\n                class="apply-flow-verify-method__message"\n            >\n            </span>\n            \x3c!-- ko if: showClaimMessage --\x3e\n            <i18n\n                params="key: \'apply-flow.candidate-verification.claim-phone-number\'"\n                class="apply-flow-verify-method__message"\n            >\n                <button\n                    type="button"\n                    data-i18n-token="claim_link"\n                    class="apply-flow-verify-method__message-link theme-color-1"\n                    data-bind="click: $parent.claimPhoneNumber.bind($parent)"\n                ></button>\n            </i18n>\n            \x3c!-- /ko --\x3e\n        </p>\n        \x3c!-- /ko --\x3e\n        \x3c!-- /ko --\x3e\n\n        \x3c!-- ko if: isLoading --\x3e\n        <indeterminate-progress-bar></indeterminate-progress-bar>\n        \x3c!-- /ko --\x3e\n    </div>\n</section>\n\n\x3c!-- ko ifnot: isLoading --\x3e\n<footer class="apply-flow-dialog__footer">\n    <button\n        type="button"\n        class="apply-flow-dialog__button apply-flow-dialog__button--secondary text-color-secondary"\n        data-bind="click: redirectBackToEmailVerification"\n    >\n        <span class="button__arrow button__arrow--left"></span>\n        <span class="button__label" data-bind="i18n: \'general.previous-button\'"></span>\n    </button>\n\n    <button\n        type="submit"\n        class="apply-flow-dialog__button apply-flow-dialog__button--primary"\n        data-bind="click: verifyLastName"\n    >\n        <span class="button__label" data-bind="i18n: \'general.next-button\'"></span>\n        <span class="button__arrow button__arrow--right"></span>\n    </button>\n</footer>\n\x3c!-- /ko --\x3e\n');n.components.register("candidate-verification-layout",{viewModel:class{constructor(){this.flow=s.a.observable({isSingleClick:!0,iterator:s.a.observable({currentSection:s.a.observable()})})}},template:'<section class="apply-flow">\n    <apply-flow-header params="flow: flow, redirectOnJobError: false"></apply-flow-header>\n\n    <div role="main" tabindex="-1">\n        <div class="apply-flow__content" data-bind="view: \'candidate-verification-content\'"></div>\n    </div>\n</section>\n<notifications></notifications>\n<cx-notifications></cx-notifications>\n'});class yu{constructor({state:e={},mutations:t={},actions:i={},getters:n={}}){this.state=o.a.fromJS(e),this._mutations=t,this._actions=i,this.getters=this._handleGetters(n),this.commit=this.commit.bind(this),this.dispatch=this.dispatch.bind(this)}commit(e,t){if(!(e in this._mutations))throw new Error("Store: unknown mutation "+e);this._mutations[e].call(null,this.state,t)}dispatch(e,t){if(!(e in this._actions))throw new Error("Store: unknown action "+e);const i=this._actions[e];return Promise.resolve().then(()=>i.call(null,{dispatch:this.dispatch,commit:this.commit,state:this.state},t))}_handleGetters(e){const t={};return Object.keys(e).forEach(i=>{t[i]=Object(n.pureComputed)(()=>e[i](this.state))}),t}}var xu={createStore:()=>new yu({state:{secondsLeft:null,clockRevealed:!1,timer:null,blocked:!1},mutations:{init:e=>{e.secondsLeft(60)},"run-timer":(e,t)=>{clearInterval(e.timer()),e.timer(t)},tick:e=>{const t=Math.max(0,e.secondsLeft()-1);e.secondsLeft(t)},"reveal-clock":e=>{e.clockRevealed(!0)},"hide-clock":e=>{e.clockRevealed(!1)},"block-resend":e=>{e.blocked(!0)}},actions:{start:({state:e,commit:t})=>{t("init");const i=setInterval(()=>{t("tick"),e.secondsLeft()<=0&&(t("hide-clock"),t("run-timer",null))},1e3);t("run-timer",i)},stop:({commit:e})=>{e("run-timer",null)},block:({commit:e})=>{e("hide-clock"),e("block-resend")}}})},wu=i(16),ku=i(75);const Iu=Object(l.a)("apply-flow.candidate-verification.invalid-code"),Cu=Object(l.a)("apply-flow.candidate-verification.maximum-attemps-reached"),Su=Object(l.a)("apply-flow.candidate-verification.invalid-person"),Eu={[wu.c]:{[Ya.SMS]:"apply-flow.candidate-verification.code-sent-to-phone-job-application",[Ya.EMAIL]:"apply-flow.candidate-verification.code-sent-to-email-job-application"},[wu.b]:{[Ya.SMS]:"apply-flow.candidate-verification.code-sent-to-phone",[Ya.EMAIL]:"apply-flow.candidate-verification.code-sent-to-email"},[wu.e]:{[Ya.EMAIL]:{newCandidate:"talent-community.candidate-verification-code.new-candidate",oldCandidate:"apply-flow.candidate-verification.code-sent-if-email-exists"}},[wu.g]:{[Ya.SMS]:"unverified-candidate.confirm-email-dialog.phone-description",[Ya.EMAIL]:"unverified-candidate.confirm-email-dialog.email-description"},generic:{[Ya.SMS]:"apply-flow.candidate-verification.code-sent-to-phone",[Ya.EMAIL]:"apply-flow.candidate-verification.code-sent-to-email",mergedCandidate:"apply-flow.candidate-verification.code-sent-to-merged-candidate",default:"apply-flow.candidate-verification.code-sent"}},Ou={[Ya.SMS]:"apply-flow.candidate-verification.new-code-delivered",[Ya.EMAIL]:"apply-flow.candidate-verification.new-code-delivered-email",default:"apply-flow.candidate-verification.new-code-delivered-default"};function Au(e){const{candidate:t,submodule:i,mergedCandidate:n}=o.a.toJS(e),{verificationMethod:s,email:a,phone:r}=t;return{key:n?Eu.generic.mergedCandidate:function(e,t){const i=Eu[t]?Eu[t]:Eu.generic;if(t===wu.e){const t=J.a.restore("isReturningCandidate");return J.a.remove("isReturningCandidate"),t?i[e].oldCandidate:i[e].newCandidate}return i[e]?i[e]:Eu.generic.default}(s,i),tokens:{email_address:a,phone_number:Object(ku.a)(r)}}}n.components.register("resend-pin",{viewModel:class{constructor({resendPin:e}){this.resendPin=e,this.store=xu.createStore(),this.state=this.store.state,this.resendMessage=Object(n.pureComputed)(this.computeMessage,this),this.store.dispatch("start")}computeMessage(){const e=[Math.floor(this.state.secondsLeft()/60),this.state.secondsLeft()%60].map(String).map(e=>e.padStart(2,"0")).join(":");return{key:"apply-flow.candidate-verification.code-resend-counter",tokens:{resend_counter:e}}}async resend(){if(this.state.secondsLeft())return this.store.commit("reveal-clock"),void L.a.pinResend.dispatch();try{await this.resendPin(),this.store.dispatch("start"),this.store.commit("reveal-clock")}catch(e){this._handleError(e)}}_handleError(e){e===Ao.g&&this.store.dispatch("block")}dispose(){this.store.dispatch("stop")}},template:'\x3c!-- ko ifnot: state.blocked --\x3e\n\x3c!-- ko if: state.clockRevealed --\x3e\n<span data-bind="i18n: resendMessage"></span>\n\x3c!-- /ko --\x3e\n\n\x3c!-- ko ifnot: state.clockRevealed --\x3e\n<button\n    class="pin-code-form__action-button text-color-primary"\n    type="button"\n    data-bind="\n            click: resend, \n            i18n: \'apply-flow.candidate-verification.resend-verification-sms\'\n        "\n></button>\n\x3c!-- /ko --\x3e\n\x3c!-- /ko --\x3e\n\n\x3c!-- ko if: state.blocked --\x3e\n<span data-bind="i18n: \'general.error-message-hint\'"></span>\n\x3c!-- /ko--\x3e\n'});var Pu=Object.create(at,{createForm:{value({pinCode:e,keepSignedIn:t}){const i=at.createForm(),n=[this._createPinFormElement(e)];return t&&n.push(this._createKeepSignedInElement(t)),i.elements(n),i}},_createPinFormElement:{value(e){const t=Object(l.a)("apply-flow.candidate-verification.verification-code"),i=nt.create("pin","pin-code");return i.addValidator("required",{label:t}),i.label(t),i.registerModel(e),i}},_createKeepSignedInElement:{value(e){const t=Object(l.a)("apply-flow.candidate-verification.keep-me-signed-in"),i=nt.create("checkbox","keep-signed-in");return i.label(t),i.helpText(Object(l.a)("apply-flow.candidate-verification.keep-me-signed-in-description")),i.attributes({cssClass:"pin-code-form__option"}),i.registerModel(e),i}}});let Tu;var ju={open(e){Tu=e;(g.get("main")||g.get("layout"))("challenge-layout")},getCurrentChallenge:()=>Tu,isChallengeRequired:()=>"NOW"===c.a.shortUrl.challengeFlag,clearChallengeFlag(){c.a.shortUrl.challengeFlag=""}},Ru=i(21),Fu=i(24);class Du{constructor({challenge:e}){this.pinCode=Object(n.observable)(),this.jobId=h.a.routeParams().jobId,this.verificationStatus=e.verificationStatus,this.candidate=e.candidate,this.submodule=e.submodule,this.mergedCandidate=e.mergedCandidate,this.onPinValid=e.actions.onPinValid,this.onAttempsLimitReached=e.actions.onAttempsLimitReached,this.keepSignedIn=Object(n.observable)(!1),this.form=this._createForm(),this.states={FILL_IN:Ao.c,IN_PROGRESS:Ao.e,ATTEMPS_LIMIT_REACHED:Ao.a},this.fillInMessageOptions=Object(n.pureComputed)(this.computeMessages,this),ju.clearChallengeFlag()}computeMessages(){return Au({candidate:this.candidate,submodule:this.submodule,mergedCandidate:this.mergedCandidate})}resendPin(){return this.verificationStatus(Ao.e),this._requestResend().then(()=>{const e=Object(l.a)(function(e){const t=e.verificationMethod();return t?Ou[t]:Ou.default}(this.candidate));bi.success(e,0),this.verificationStatus(Ao.c)}).catch(this._handleResendError.bind(this))}verify(){this.form.enableImmediateValidation(),this.form.validate().then(e=>{e&&(this.verificationStatus(Ao.e),this._presetSessionPersistence(),Is.a.verifyCode({code:this.pinCode(),verificationMethod:this.candidate.verificationMethod,phone:this.candidate.phone,email:this.candidate.email,jobId:this.jobId,persistAccess:this.keepSignedIn}).then(e=>e.accessCode?this.onPinValid():Promise.reject(Ao.h)).then(()=>{this.verificationStatus(Ao.c),Object(Ru.a)()}).catch(this._handleError.bind(this)))})}isKeepSignedInEnabled(){return Fu.a.isEnabled()&&!Is.a.isDraftCandidate()}_presetSessionPersistence(){this.keepSignedIn()?Fu.a.activate():Fu.a.deactivate()}_handleError(e){this.isKeepSignedInEnabled()&&Fu.a.deactivate(),e===Ao.a?this.verificationStatus(Ao.a):e===Ao.h?(this.pinCode(""),this.form=this._createForm(),this.verificationStatus(Ao.c),bi.error(Iu,0)):"ORA_JOB_NOT_AVAILABLE"===e?h.a.go("job-details"):e===Ao.d?(this.verificationStatus(Ao.c),bi.error(Su,0)):this._handleDefaultError()}_handleResendError(e){return e===Ao.g?(this.verificationStatus(Ao.c),bi.error(Cu,0)):this._handleDefaultError(),Promise.reject(e)}_handleDefaultError(){this.verificationStatus(Ao.c),bi.error(void 0,0)}_requestResend(){return Is.a.resendCode({verificationMethod:this.candidate.verificationMethod,email:this.candidate.email,phone:this.candidate.phone,jobId:this.jobId,submodule:this.submodule})}_createForm(){return Pu.createForm({pinCode:this.pinCode,keepSignedIn:this.isKeepSignedInEnabled()?this.keepSignedIn:void 0})}}function Lu(e){return e?"Y":"N"}var Nu={mapEmailPreferredToRest:(e,t)=>({candidateNumber:e,action:"MAKE_EMAIL_PREFERRED",emailPreferredFlag:Lu(t)}),mapPhonePreferredToRest:(e,t)=>({candidateNumber:e,action:"MAKE_PHONE_PREFERRED",phonePreferredFlag:Lu(t)}),mapPhoneVerificationToRest(e,t){const{mobilePhoneNumber:i,mobilePhoneCountryCode:n,mobilePhoneAreaCode:s}=t;return{candidateNumber:e,preferredLanguage:c.a.siteLanguage,action:"REQUEST_PHONE_VERIFICATION",mobilePhoneNumber:i,mobilePhoneCountryCode:n,mobilePhoneAreaCode:s,siteNumber:c.a.siteNumber}},mapEmailVerificationToRest:(e,t)=>({candidateNumber:e,preferredLanguage:c.a.siteLanguage,action:"REQUEST_EMAIL_VERIFICATION",email:t,siteNumber:c.a.siteNumber})};function Mu(e){return U.a.post("/recruitingCECandidates",e,{statusCodes:{400:({response:e})=>e}})}var Vu={makeEmailPreferred:(e,t)=>Mu(Nu.mapEmailPreferredToRest(e,t)),makePhonePreferred:(e,t)=>Mu(Nu.mapPhonePreferredToRest(e,t)),requestPhoneVerification:(e,t)=>Mu(Nu.mapPhoneVerificationToRest(e,t)),requestEmailVerification:(e,t)=>Mu(Nu.mapEmailVerificationToRest(e,t))};class Bu extends Du{constructor({challenge:e,cancel:t,isBlocked:i}){super({challenge:e}),this.cancel=()=>{t(),this.verificationStatus(Ao.c)},this._setVerificationStatus(i()),this.subscription=i.subscribe(e=>{this._setVerificationStatus(e)})}dispose(){this.subscription.dispose()}isKeepSignedInEnabled(){return!1}_presetSessionPersistence(){}_setVerificationStatus(e){e?this.verificationStatus(Ao.a):this.verificationStatus(Ao.c)}_requestResend(){if(this.candidate.verificationMethod()===Ya.SMS){const{countryCode:e,areaCode:t,number:i}=this.candidate.phone(),n={mobilePhoneCountryCode:e,mobilePhoneAreaCode:t,mobilePhoneNumber:i};return Vu.requestPhoneVerification(this.candidate.id,n)}return Vu.requestEmailVerification(this.candidate.id,this.candidate.email())}}n.components.register("pin-code-verification",{viewModel:Du,template:'<form>\n    <section\n        class="apply-flow-dialog__content"\n        aria-live="polite"\n        data-bind="setBodyScrollTo: { to: 0, when: verificationStatus }"\n    >\n        \x3c!-- ko if: verificationStatus() === states.FILL_IN --\x3e\n        <p class="apply-flow-dialog__text" data-bind="i18n: fillInMessageOptions"></p>\n\n        <div class="apply-flow-dialog__form pin-code-form">\n            \x3c!-- ko component: { name: \'form-builder\', params: { form: form } } --\x3e\x3c!-- /ko --\x3e\n        </div>\n        \x3c!-- /ko --\x3e\n\n        \x3c!-- ko if: verificationStatus() === states.ATTEMPS_LIMIT_REACHED --\x3e\n        <p\n            class="apply-flow-dialog__text"\n            data-bind="i18n: \'apply-flow.candidate-verification.maximum-attemps-reached\'"\n        ></p>\n        \x3c!-- /ko --\x3e\n\n        \x3c!-- ko if: verificationStatus() === states.IN_PROGRESS --\x3e\n        <div class="apply-flow-dialog__form">\n            <indeterminate-progress-bar></indeterminate-progress-bar>\n        </div>\n        \x3c!-- /ko --\x3e\n    </section>\n\n    <div class="apply-flow-dialog__footer">\n        \x3c!-- ko if: verificationStatus() === states.FILL_IN --\x3e\n        <button\n            type="submit"\n            class="apply-flow-dialog__button apply-flow-dialog__button--primary"\n            data-bind="click: verify"\n        >\n            <span class="button__label" data-bind="i18n: \'apply-flow.candidate-verification.verify\'"></span>\n            <span class="button__arrow button__arrow--right"></span>\n        </button>\n        \x3c!-- /ko --\x3e\n\n        \x3c!-- ko if: verificationStatus() === states.ATTEMPS_LIMIT_REACHED --\x3e\n        <button\n            type="submit"\n            class="apply-flow-dialog__button apply-flow-dialog__button--primary"\n            data-bind="click: onAttempsLimitReached"\n        >\n            <span class="button__label" data-bind="i18n: \'general.continue-button\'"></span>\n            <span class="button__arrow button__arrow--right"></span>\n        </button>\n        \x3c!-- /ko --\x3e\n    </div>\n    <div class="pin-code-form__action">\n        <resend-pin\n            data-bind="visible: verificationStatus() === states.FILL_IN"\n            params="{ \n                resendPin: resendPin.bind($component) \n            }"\n        >\n        </resend-pin>\n    </div>\n</form>\n'}),n.components.register("inline-pin-code-verification",{viewModel:{createViewModel(e,t){const i=new Bu(e);return i.nodes={},t.templateNodes.filter(e=>e.tagName).forEach(e=>{const t=e.tagName.toLowerCase();i.nodes[t]=e.childNodes}),i}},template:'<div class="inline-pin-code-form">\n    <p class="inline-pin-code-form__text" data-bind="visible: verificationStatus() === states.FILL_IN">\n        \x3c!-- ko template: { nodes: nodes[\'message\'], data: $parent } --\x3e\x3c!-- /ko --\x3e\n    </p>\n\n    \x3c!-- ko if: verificationStatus() === states.FILL_IN --\x3e\n    <div class="inline-pin-code-form__container">\n        \x3c!-- ko component: { name: \'form-builder\', params: { form: form } } --\x3e\x3c!-- /ko --\x3e\n\n        <button\n            type="submit"\n            class="inline-pin-code-form__submit apply-flow-dialog__button apply-flow-dialog__button--primary"\n            data-bind="i18n: \'apply-flow.candidate-verification.verify\', click: verify"\n        ></button>\n    </div>\n    \x3c!-- /ko --\x3e\n\n    \x3c!-- ko if: verificationStatus() === states.IN_PROGRESS --\x3e\n    <div class="pin-code-form__progress-bar">\n        \x3c!-- ko component: \'indeterminate-progress-bar\' --\x3e\x3c!-- /ko --\x3e\n    </div>\n    \x3c!-- /ko --\x3e\n\n    \x3c!-- ko if: verificationStatus() === states.ATTEMPS_LIMIT_REACHED --\x3e\n    <p\n        class="inline-pin-code-form__text"\n        data-bind="i18n: \'apply-flow.candidate-verification.maximum-attemps-reached\'"\n    ></p>\n    \x3c!-- /ko --\x3e\n\n    <div class="inline-pin-code-form__action">\n        <resend-pin\n            data-bind="visible: verificationStatus() === states.FILL_IN"\n            params="{ \n                    resendPin: resendPin.bind($component) \n            }"\n        >\n        </resend-pin>\n        \x3c!-- ko if: verificationStatus() === states.FILL_IN --\x3e\n        <div class="pin-code-form__action-separator"></div>\n        \x3c!-- /ko --\x3e\n\n        \x3c!-- ko if: verificationStatus() !== states.IN_PROGRESS --\x3e\n        <button\n            class="pin-code-form__action-button text-color-secondary"\n            type="button"\n            data-bind="click: cancel, i18n: \'apply-flow.candidate-verification.cancel-request\'"\n        ></button>\n        \x3c!-- /ko --\x3e\n    </div>\n</div>\n'});n.components.register("challenge-layout",{viewModel:class{constructor(){this.challenge=ju.getCurrentChallenge(),this.verificationStates={ATTEMPS_LIMIT_REACHED:Ao.a}}},template:"<div class=\"app__subpage\">\x3c!-- ko template: 'candidate-verification-pin-code-required' --\x3e\x3c!-- /ko --\x3e</div>\n"});n.components.register("email-verification-form",{template:'\x3c!-- ko with: $parent --\x3e\n\x3c!-- ko if: isSMSVerificationEnabled --\x3e\n<ul class="apply-flow-verify-method text-color-secondary font-family-secondary">\n    <li class="apply-flow-verify-method__item">\n        <button\n            type="button"\n            class="apply-flow-verify-method__button"\n            id="applyFlowVerifyEmail"\n            data-bind="\n                css: {\'apply-flow-verify-method__button--active theme-color-1\': candidate.verificationMethod() === verificationMethods.EMAIL},\n                click: setVerificationMethod.bind($data, verificationMethods.EMAIL),\n                attr: {\'aria-pressed\': candidate.verificationMethod() == verificationMethods.EMAIL}"\n        >\n            <span data-bind="i18n: \'apply-flow.candidate-verification.methods.email\'"></span>\n        </button>\n    </li>\n\n    <li class="apply-flow-verify-method__item">\n        <button\n            type="button"\n            class="apply-flow-verify-method__button"\n            data-bind="\n                css: {\'apply-flow-verify-method__button--active theme-color-1\': candidate.verificationMethod() === verificationMethods.SMS},\n                click: setVerificationMethod.bind($data, verificationMethods.SMS),\n                attr: {\'aria-pressed\': candidate.verificationMethod() == verificationMethods.SMS}"\n        >\n            <span data-bind="i18n: \'apply-flow.candidate-verification.methods.sms\'"></span>\n        </button>\n    </li>\n</ul>\n\x3c!-- /ko --\x3e\n\n\x3c!-- ko if: activeForm --\x3e\n\x3c!-- ko component: { name: \'form-builder\', params: { form: activeForm } } --\x3e\x3c!-- /ko --\x3e\n\x3c!-- /ko --\x3e\n\n\x3c!-- ko if: candidate.verificationMethod() === verificationMethods.SMS --\x3e\n<div\n    class="input-row__note text-color-secondary"\n    data-bind="i18n: \'apply-flow.candidate-verification.phone-fees-info\'"\n></div>\n\x3c!-- /ko --\x3e\n\n\x3c!-- ko if: enableLegalDisclaimer --\x3e\n<legal-disclaimer\n    class="apply-flow-verify-method__message-container"\n    params="legalDisclaimer: legalDisclaimer, legalDisclaimerForm: legalDisclaimerForm"\n></legal-disclaimer>\n\x3c!-- /ko --\x3e\n\x3c!-- /ko --\x3e\n'});var qu={mapLegalDisclaimerFromRest({items:e}){const[t]=e;return new ld({isEnabled:t.legalEnabledFlag,versionId:t.legalDescriptionVersionId,description:t.legalDescriptionStr})}},Uu={queryLegalDisclaimer:e=>fd.queryRawFlow(e).then(qu.mapLegalDisclaimerFromRest),async queryTCLegalDisclaimer(){const e=await fd.queryTalentCommunityFlow();return qu.mapLegalDisclaimerFromRest(e)}};class Hu extends st{constructor(e){super(),this.componentName("legal-disclaimer"),this.isAccepted=e,this.validateImmediately=s.a.observable(!1),this.isAccepted.subscribeOnce(this.validateImmediately.bind(this,!0))}enableImmediateValidation(){this.validateImmediately(!0)}_isValid(){const e=this.validateImmediately(),t=this.isAccepted();return!e||t}_getErrorCount(){return this._isValid()?0:1}}var $u=Object.create(at,{createForm:{value(e){const t=at.createForm();return t.elements([this._createEmailFormElement(e.email)]),t}},_createEmailFormElement:{value(e){const t=Object(l.a)("apply-flow.section-personal-information.primary-email-label"),i=nt.create("email","primary-email");return i.addValidator("required",{label:t},"prepend"),i.addValidator("maxLength",{max:128}),i.label(t),i.attributes({id:"primary-email",autocomplete:"email","aria-label":t}),i.registerModel(e),i}}}),Ju=Object.create(at,{createForm:{value(e,t={}){const i=at.createForm();return i.elements([this._createPhoneFormElement(e.phone,t)]),i}},_createPhoneFormElement:{value(e,{preferredTerritoryCode:t}){const i=Object(l.a)("apply-flow.section-personal-information.phone-number-label"),n=nt.create("phone","phone-number");return n.addValidator("required",{label:i}),n.addValidator("maxLength",{max:120}),n.label(i),t&&n.attributes({preferredTerritoryCode:t}),n.attributes({id:"phone-number",autocomplete:"none","aria-label":i}),n.registerModel(e),n}}});class zu{constructor(){this.email=s.a.observable(),this.phone=s.a.observable(),this.verificationMethod=s.a.observable()}}var Wu=class{constructor({candidate:e,verificationStatus:t,submodule:i,actions:s,mergedCandidate:a=!1}){this.verificationStatus=t||Object(n.observable)(Ao.c),this.submodule=i,this.candidate=e,this.actions=s,this.mergedCandidate=a}set actions(e){if("function"!=typeof e.onPinValid)throw new Error("onPinValid callback action was not passed");if("function"!=typeof e.onAttempsLimitReached)throw new Error("onAttempsLimitReached callback action was not passed");this._actions=e}get actions(){return this._actions}},Ku=i(38);async function Gu(e){return e&&Fu.a.isActive()&&(await qo.a.signOut(),Fu.a.deactivate()),e||Object(Ru.a)(),e}class Yu{constructor(){this.candidate=new zu,this.verificationStatus=Object(n.observable)(Ao.c),this.verificationStates={FILL_IN:Ao.c,ATTEMPS_LIMIT_REACHED:Ao.a},this.mergedCandidate=Object(n.observable)(!1),this.challenge=new Wu({verificationStatus:this.verificationStatus,candidate:this.candidate,actions:{onPinValid:this.onPinValid.bind(this),onAttempsLimitReached:this.onAttempsLimitReached.bind(this)},mergedCandidate:this.mergedCandidate})}onPinValid(){throw new Error("Not implemented")}onAttempsLimitReached(){return h.a.go("search")}_triggerChallenge(){const e=Object(Ru.b)();return e?(t=e.token,Is.a.verifyTokenWithChallengeFlag(t).then(e=>Gu(Boolean(null==e?void 0:e.challengeFlag)))):Promise.resolve(!1);var t}_handleError(e){let t;h.a.go("home-page"),"token-expired"===e?t=Object(l.a)("general.error-token-expired.header"):e===Ao.a?t=Object(l.a)("apply-flow.candidate-verification.link-currently-not-active"):e===Ku.a&&(t=Object(l.a)("general.session-expired")),bi.error(t),console.error(e)}handleMergedCandiate(){Object(Ru.b)().mergedCandidate&&this.mergedCandidate(!0)}}class Qu extends Yu{constructor(){super(),this.verificationMethods={SMS:Ya.SMS,EMAIL:Ya.EMAIL},this.isSMSVerificationEnabled="true"===c.a.getSettingByKey("SMS_ENABLED_EXTERNAL_CANDIDATES"),this.activeForm=s.a.observable(),this.forms=s.a.observable(),this._createForms().then(this._onFormsCreated.bind(this)),this.legalDisclaimer=s.a.observable(null),this.legalDisclaimerForm=s.a.observable(null),this.enableLegalDisclaimer=s.a.pureComputed(()=>null!==this.legalDisclaimer()&&this.legalDisclaimer().isEnabled)}async _createForms(){const e={[Ya.EMAIL]:$u.createForm(this.candidate)};this.isSMSVerificationEnabled&&(e[Ya.SMS]=Ju.createForm(this.candidate)),this.forms(e)}setVerificationMethod(e){this.activeForm(null),this.activeForm(this.forms()[e]),this.candidate.verificationMethod(e)}_onFormsCreated(){var e,t;const i=null!==(e=null===(t=this.candidate)||void 0===t?void 0:t.verificationMethod())&&void 0!==e?e:this.verificationMethods.EMAIL;this.setVerificationMethod(i)}_enableLegalDisclaimerValidation(){this.enableLegalDisclaimer()&&this.legalDisclaimerForm().enableImmediateValidation()}_isLegalDisclaimerEmptyOrValid(){var e,t;return null===(e=null===(t=this.legalDisclaimerForm())||void 0===t?void 0:t.isValid())||void 0===e||e}}const Zu="legalDisclaimerAcceptance";var Xu=Object.create(at,{createForm:{value(e){const t=at.createForm();return t.elements([this._createLastNameFormElement(e)]),t}},_createLastNameFormElement:{value(e){const t=Object(l.a)("apply-flow.section-personal-information.lastname-label"),i=nt.create("text","last-name");return i.addValidator("required",{label:t},"prepend"),i.label(t),i.registerModel(e),i}}});const ep=Object(l.a)("apply-flow.candidate-verification.cant-use-this-phone"),tp=["already-applied","confirmed-submission","pin-code-required","removed-submission","submission-accept","token-verification","uncofirmed-submission",Po.f];n.components.register("email-verification",{viewModel:class extends Qu{constructor(){super(),this.isLoading=s.a.observable(!1),this.requestErrorType=s.a.observable(null),this.lastNameNotMatched=s.a.observable(!1),this.jobId=h.a.routeParams().jobId,this.challenge.submodule=wu.c,this._loadLegalDisclaimer(),this.lastName=s.a.observable(),this.lastNameForm=Xu.createForm(this.lastName),this.showLastNameMismatchMessage=s.a.observable(!1),this.showClaimMessage=!0,this.isLastNameCheck=s.a.observable(!1)}async _createForms(){const e={[Ya.EMAIL]:$u.createForm(this.candidate)};if(this.isSMSVerificationEnabled){const{jobId:t}=h.a.routeParams();let i;if(t){const e=await Fs.getLightJob(t).catch(e=>{"job-expired"===e&&h.a.go("job-details",{isExpired:!0})});i=null==e?void 0:e.primaryLocationCountry}e[Ya.SMS]=Ju.createForm(this.candidate,{preferredTerritoryCode:i})}this.forms(e)}next(){const e=this.activeForm();e.enableImmediateValidation(),this._enableLegalDisclaimerValidation(),e.validate().then(e=>{e&&this._isLegalDisclaimerEmptyOrValid()&&(this._storeLegalDisclaimerAcceptance(),this.createToken())})}onPinValid(){Object(To.e)().then(this._resetView.bind(this))}onAttempsLimitReached(){return h.a.go("job-details",{jobId:this.jobId})}createToken(){return this.isLoading(!0),this.lastNameNotMatched(!1),Ro.createToken({jobId:this.jobId,candidate:this.candidate,submodule:this.challenge.submodule,lastName:this.lastName()}).then(this._resetView.bind(this)).catch(this._handleTokenError.bind(this))}verifyLastName(){this.lastNameForm.enableImmediateValidation(),this.lastNameForm.validate().then(e=>{e&&(this.isLoading(!0),Ro.verifyLastName({jobId:this.jobId,candidate:this.candidate,submodule:this.challenge.submodule,lastName:this.lastName()}).then(this._resetView.bind(this)).catch(this._handleTokenError.bind(this)))})}claimPhoneNumber(){return this.isLoading(!0),this.challenge.submodule=wu.a,Ro.claimPhoneNumber({candidate:this.candidate}).then(this._resetView.bind(this)).catch(this._handleTokenError.bind(this))}redirectBack(){const e=h.a.route().parent;h.a.go(e.id)}redirectBackToEmailVerification(){this.lastNameNotMatched(!1),this.showLastNameMismatchMessage(!1),this.lastName(void 0),this.setVerificationMethod(this.candidate.verificationMethod()),this.isLastNameCheck(!1),this._resetView()}resendToken(){return this.isLoading(!0),Ro.resendToken({jobId:this.jobId,candidate:this.candidate,submodule:this.challenge.submodule}).then(()=>this.isLoading(!1)).then(()=>this.requestErrorType("token-resend-thank-you")).catch(this._handleTokenError.bind(this))}dispose(){bi.dismissAll()}_handleTokenError(e){this.isLoading(!1),e!==Po.b&&(e===Ao.a||e===Ao.g?(this.verificationStatus(Ao.a),this.requestErrorType(Ao.b)):e===Ao.f?bi.error(ep,0):e===Po.c?this.showLastNameMismatchMessage(!0):e===Po.f?(this.lastNameNotMatched(!0),this.requestErrorType(e),this.isLastNameCheck(!0)):tp.includes(e)?this.requestErrorType(e):"string"==typeof e&&bi.error(e,0))}_loadLegalDisclaimer(){return this.isLoading(!0),Uu.queryLegalDisclaimer(this.jobId).then(e=>{this.legalDisclaimer(e),this.legalDisclaimerForm(new Hu(this.legalDisclaimer().isAccepted)),this.isLoading(!1)}).catch(e=>console.error(e))}_storeLegalDisclaimerAcceptance(){var e;this.enableLegalDisclaimer()&&(e=this.jobId,J.a.store(Zu,e))}_resetView(){this.isLoading(!1),this.requestErrorType(null)}},template:'<form\n    novalidate\n    data-bind="submit: next, a11y.skipTo: {elementsFocused: \'#applyFlowVerifyEmail, [name=primary-email], [name=last-name]\'}, setBodyScrollTo: { to: 0 }"\n>\n    \x3c!-- ko ifnot: requestErrorType --\x3e\n    <header data-bind="attr: {\'aria-busy\': isLoading}">\n        <h1 class="apply-flow-dialog__header">\n            <span\n                class="oj-helper-hidden-accessible hidden-accessible-copying-disabled"\n                data-bind="i18n: \'email-verification.a11y.header\'"\n            ></span>\n            <span data-bind="i18n: \'email-verification.header\'"></span>\n        </h1>\n    </header>\n\n    <section\n        class="apply-flow-dialog__content"\n        data-bind="attr: {\'aria-busy\': isLoading}, setBodyScrollTo: { to: 0, when: isLoading }"\n    >\n        <p\n            class="apply-flow-dialog__text"\n            data-bind="i18n: isSMSVerificationEnabled ? \'apply-flow.candidate-verification.description.sms-enabled\' : \'email-verification.description\'"\n        ></p>\n\n        <div class="apply-flow-dialog__form">\n            \x3c!-- ko ifnot: isLoading --\x3e\n            <email-verification-form></email-verification-form>\n            \x3c!-- /ko --\x3e\n\n            \x3c!-- ko if: isLoading --\x3e\n            <indeterminate-progress-bar></indeterminate-progress-bar>\n            \x3c!-- /ko --\x3e\n        </div>\n    </section>\n\n    \x3c!-- ko ifnot: isLoading --\x3e\n    \x3c!-- ko component: \'email-verification-footer\' --\x3e\n    \x3c!-- /ko --\x3e\n    \x3c!-- /ko --\x3e\n    \x3c!-- /ko --\x3e\n\n    \x3c!-- ko if: requestErrorType --\x3e\n    <div>\x3c!-- ko template: \'candidate-verification-\' + requestErrorType() --\x3e\x3c!-- /ko --\x3e</div>\n    \x3c!-- /ko --\x3e\n</form>\n'}),n.components.register("email-verification-footer",{template:'<footer class="apply-flow-pagination__buttons">\n    <button\n        type="button"\n        class="button apply-flow-pagination__button apply-flow-pagination__button--prev text-color-secondary"\n        data-bind="click: $parent.redirectBack"\n    >\n        <span class="button__arrow button__arrow--left"></span>\n        <span\n            class="button__label apply-flow-pagination__button-label"\n            data-bind="i18n: \'general.cancel-button\'"\n        ></span>\n    </button>\n\n    <button\n        type="submit"\n        class="button apply-flow-pagination__button apply-flow-pagination__button--next theme-color-1"\n    >\n        <span\n            class="button__label"\n            data-bind="i18n: \'general.next-button\', attr: {\'aria-label\': \'email-verification.a11y.next-button\'}"\n        ></span>\n        <span class="button__arrow button__arrow--right"></span>\n    </button>\n</footer>\n'});const ip={};var np={exists:e=>void 0!==ip[e],put(e,t){ip[e]=t},get:e=>ip[e],remove(e){delete ip[e]}},sp={getUnconfirmedForJob:e=>Ed.getForJob(e).then(e=>0===e.length?Promise.reject():e.filter(e=>!e.isConfirmed()).shift()),hasJobSubmission:e=>(Is.a.get()||{}).candidateNumber||_o.a.isKnownUnverifiedCandidate()?np.exists(e)?Promise.resolve(np.get(e)):Ed.getForJob(e).then(e=>e.length>0).then(t=>(np.put(e,t),t)):Promise.resolve(!1)};class ap{constructor(){const e=h.a.routeParams();this.template=s.a.observable(),this.token=e.token,this.jobId=e.jobId,this.routeId=h.a.route().id,this.notMeMessage=Object(l.a)("referral.not-me.header"),this.tokenExpiredMessage=Object(l.a)("general.error-token-expired.header"),this.jobTitle=s.a.observable(),this.notInterestedMessage=s.a.pureComputed(()=>Object(l.a)("referral.not-interested.description",{job_title:this.jobTitle()||""}))}_handleNotAvailableJob(){return"existing-candidate-verification"===this.routeId?Promise.reject("job-expired"):Promise.resolve()}checkJobAvailability(){return Fs.getLightJob(this.jobId).catch(this._handleNotAvailableJob.bind(this))}showErrorNotification(e){"token-invalid"===e||"token-expired"===e?bi.error(this.tokenExpiredMessage):"job-expired"!==e&&(bi.error(),console.error(e))}}n.components.register("prospect-verification",{viewModel:class extends ap{constructor(){super(),this.action=h.a.routeParams().action,this._loadJob().then(()=>this._performOperation()).catch(e=>this._handleError(e)).then(()=>Bt.a.loaded.dispatch())}_handleError(e){this.showErrorNotification(e)}_handleNotAvailableJob(){return this.action?Promise.resolve():Promise.reject("job-expired")}_loadJob(){return Fs.getJob(this.jobId).then(e=>this.jobTitle(e.title)).catch(()=>this._handleNotAvailableJob())}_performOperation(){switch(this.action){case"not-me":return this._markAsNotMe();case"not-interested":return this._markAsNotInterested();default:return this._checkSubmissions()}}_checkSubmissions(){return sp.hasJobSubmission(this.jobId).then(e=>{e||Object(Ru.d)({token:this.token,jobId:this.jobId})})}_markAsNotMe(){return Is.a.verifyToken(this.token).then(()=>bi.success(this.notMeMessage))}_markAsNotInterested(){return Is.a.verifyToken(this.token).then(()=>bi.success(this.notInterestedMessage()))}},template:" "});n.components.register("share-verification",{viewModel:class{constructor(){this.updateHitCount()}updateHitCount(){const e=h.a.routeParams();if(e.shareId)return ta.updateShareHitCount(e.shareId,e.jobId)}},template:" "});const op=Object(l.a)("apply-flow.drafts.deleted-message");n.components.register("token-verification",{viewModel:class extends ap{constructor(){super(),this.checkJobAvailability().then(this._performOperation.bind(this)).catch(this._handleError).then(()=>Bt.a.loaded.dispatch())}async _checkSubmission(){let e;try{if(e=await Is.a.verifyTokenWithChallengeFlag(this.token).then(e=>null==e?void 0:e.challengeFlag),!e)return void Object(To.e)()}catch(t){t===Ao.a||t===Ao.g?e=!1:(e=!0,console.error(t))}Object(Ru.d)({token:this.token,jobId:this.jobId,pinCodeSent:e}),h.a.go("job-details.pin-verification")}_deleteDraft(){return Is.a.verifyToken(this.token).then(()=>bi.success(op))}_handleError(e){switch(e){case"job-expired":h.a.go("job-details");break;case"token-expired":bi.error(Object(l.a)("general.error-token-expired.header"));break;default:bi.error(),console.error(e)}}_markAsNotMe(){return Is.a.verifyToken(this.token).then(()=>bi.success(this.notMeMessage))}_performOperation(){switch(this.routeId){case"submission-not-me":return this._markAsNotMe();case"delete-draft":return this._deleteDraft();case"existing-candidate-verification":return this._checkSubmission();default:return Promise.resolve()}}},template:"\x3c!-- ko if: template --\x3e\n\x3c!-- ko template: 'candidate-verification-' + template() --\x3e\x3c!-- /ko --\x3e\n\x3c!-- /ko --\x3e\n"});n.components.register("confirm-email",{viewModel:class extends Qu{constructor(){super(),this.queryParams=h.a.routeParams().query,this.userLanguage=b.a.restore(),this.isLoading=Object(n.observable)(!0),this.challenge.submodule=_o.a.hasExceededUnverifiedApplicationsLimit()?wu.g:wu.c;const{email:e,phone:t,verificationMethod:i}=_o.a.getUnverifiedVerificationData();this.candidate.email(e),this.candidate.phone(t),this.candidate.verificationMethod(i),this._initialize()}onPinValid(){_o.a.destroy(),Object(To.e)()}_createToken(){return Is.a.create({jobId:h.a.routeParams().jobId,candidate:this.candidate})}_initialize(){return this.isLoading(!0),this._createToken().then(()=>{this.isLoading(!1),Bt.a.loaded.dispatch()}).catch(this._showError.bind(this))}_showError(e){if(e!==Po.b)throw this.isLoading(!1),bi.error(),new Error(e)}},template:'<apply-flow-accessibility-messages></apply-flow-accessibility-messages>\n<notifications></notifications>\n\n<section class="apply-flow-dialog__content">\n    \x3c!-- ko if: isLoading --\x3e\n    <indeterminate-progress-bar></indeterminate-progress-bar>\n    \x3c!-- /ko --\x3e\n\n    \x3c!-- ko ifnot: isLoading --\x3e\n    <header>\n        <h1\n            class="apply-flow-dialog__header"\n            data-bind="i18n: \'apply-flow.candidate-verification.header\'"\n        ></h1>\n    </header>\n\n    \x3c!-- ko component: {\n                name: \'pin-code-verification\',\n                params: {\n                    challenge: challenge\n                }\n            } --\x3e\n    \x3c!-- /ko --\x3e\n    \x3c!-- /ko --\x3e\n</section>\n'});n.components.register("apply-flow-pin-verification",{viewModel:class extends Yu{constructor(){super(),this.jobId=h.a.routeParams().jobId,this.verificationStatus(Ao.e),this.isReady=Object(n.observable)(!1),Object(Ru.c)()?Gu(!0).then(()=>this.verificationStatus(Ao.c)).finally(()=>this.isReady(!0)):(this.isReady(!0),this._triggerChallenge().then(this._onTriggeredChallenge.bind(this)).catch(this._handleError.bind(this)))}async onPinValid(){const{referralId:e}=Is.a.get();e&&(ta.captureReferralId(Is.a.get()),await ta.updateReferralHitCount(e,this.jobId).catch(this._handleError)),h.a.go("apply-flow",{sectionNumber:"1"})}_onTriggeredChallenge(){this.handleMergedCandiate(),this.verificationStatus(Ao.c)}_handleError(e){if(e===Po.h)return Is.a.destroy(),void h.a.go("job-details.email-verification");e!==Ao.a&&e!==Ao.g?super._handleError(e):this.verificationStatus(Ao.a)}},template:"<header>\n    <h1\n        class=\"apply-flow-dialog__header\"\n        data-bind=\"i18n: challenge.verificationStatus() === verificationStates.ATTEMPS_LIMIT_REACHED\n            ? 'apply-flow.candidate-verification.maximum-attemps-reached-header'\n            : 'apply-flow.candidate-verification.header'\"\n    ></h1>\n</header>\n\n\x3c!-- ko ifnot: isReady --\x3e\n<div class=\"apply-flow-dialog__form\">\n    <indeterminate-progress-bar></indeterminate-progress-bar>\n</div>\n\x3c!-- /ko --\x3e\n\n\x3c!-- ko if: isReady --\x3e\n\x3c!-- ko component: {\n    name: 'pin-code-verification',\n    params: {\n        challenge: challenge\n    }\n} --\x3e\n\x3c!-- /ko --\x3e\n\x3c!-- /ko --\x3e\n"});var rp="<header>\n    <h1\n        class=\"apply-flow-dialog__header\"\n        data-bind=\"i18n: verificationStatus() === verificationStates.ATTEMPS_LIMIT_REACHED\n            ? 'apply-flow.candidate-verification.maximum-attemps-reached-header'\n            : 'apply-flow.thank-you-dialog.thank-you-for-application-header'\"\n    ></h1>\n</header>\n\n\x3c!-- ko component: {\n    name: 'pin-code-verification',\n    params: {\n        challenge: challenge\n    }\n} --\x3e\n\x3c!-- /ko --\x3e\n";n.components.register("apply-flow-confirm-application",{viewModel:class extends Yu{constructor(){super(),this.jobId=h.a.routeParams().jobId,this.token=Is.a.get(),this.verificationStatus(Ao.e),this.challenge.submodule=wu.c,this._initialize()}_initialize(){Mo.create(this.token||_o.a.getUnverifiedVerificationData()).then(e=>(this.candidate.email=e.basicInformation.email,this.candidate.phone=e.basicInformation.phoneNumber,this.candidate.verificationMethod=e.basicInformation.verificationMethod,Is.a.resendCode({verificationMethod:this.candidate.verificationMethod,email:this.candidate.email,phone:this.candidate.phone,jobId:this.jobId}))).then(this.verificationStatus(Ao.c)).catch(this._handleError.bind(this))}onPinValid(){return sp.getUnconfirmedForJob(this.jobId).then(Ed.accept).then(()=>{_o.a.destroy(),h.a.go("candidate-self-service").then(()=>{bi.successAfterLoaded(this.isPartnerLinksEnabled?Object(l.a)("apply-flow.thank-you-dialog.additional-instructions-text"):Object(l.a)("candidate-self-service.returning-candidate-confirm-message"),500)})})}_handleError(e){e!==Ao.a?super._handleError(e):this.verificationStatus(Ao.a)}},template:rp});var lp=i(22);const cp=/ORA_IRC_SUBS_DELETE_FAIL\[(.*?)\]$/;var dp={get:e=>U.a.get(`/recruitingCECandidates/${e}?onlyData=true`),delete:e=>U.a.delete("/recruitingCECandidates/"+e,{statusCodes:{400({response:e}){const t=e.match(cp);return t?{message:"delete-profile-fail",jobId:t[1]}:Promise.reject()}}})};const up={assessment:"ORA_ASSESSMENT","tax-credits":"ORA_TAXCREDITS"};n.components.register("inline-partner-handler",{viewModel:class{constructor(){const e=h.a.routeParams();this.token=e.token,this.jobId=e.jobId,this.partner=e.partner,this.blockCode=up[this.partner];const t=Fu.a.isActive()?Is.a.get():JSON.parse(lp.a.get("verificationToken"));t?this._validateAccessCode(t).then(this._goToFlow.bind(this)).catch(this._handleError):this._applyLinkToken()}async _goToFlow(){try{const{sections:e,isSingleClick:t}=await fd.query(this.jobId),i=sd.findSectionNumberByBlockCode(e,this.blockCode);ju.clearChallengeFlag(),h.a.go("apply-flow",{sectionNumber:t?"1":i,element:".apply-flow-block--inline-"+this.partner,assessmentSection:i})}catch(e){console.error(e)}}_applyLinkToken(){Object(Ru.d)({token:this.token,jobId:this.jobId}),h.a.go("job-details.pin-verification")}_validateAccessCode(e){return function(e){lp.a.remove("verificationToken"),Is.a.applyVerificationToken(e)}(e),dp.get(e.candidateNumber||null).catch(e=>e===Ku.a?(this._applyLinkToken(),Promise.reject()):Promise.resolve())}_handleError(e){console.error(e)}},template:"<skip-navigation-link></skip-navigation-link>\n"});i(197),i(198),i(199),i(200),i(201),i(202),i(203),i(204),i(205),i(206),i(207),i(132),i(208),i(209),i(210);function pp(e){ut()(e).hide().fadeIn(500)}var hp=i(33);function mp({jobId:e},t,i){const n=hp.a.decode(e);return new Promise((s,a)=>{(async function(e){if("apply-flow"===e)return!1;return!0})(i).then(e=>!e||async function(e){await Fs.getLightJob(e)}(n)).then(()=>sp.hasJobSubmission(n)).then(e=>{e&&!Is.a.isCandidateVerified()?a({redirectTo:"job-details.confirm-application"}):e?a({redirectTo:"job-details.existing-submission"}):_o.a.hasAppliedToJob(n)&&_o.a.hasExceededUnverifiedApplicationsLimit()?a({redirectTo:"job-details.confirm-application"}):Is.a.accessCodeExists()?s():a({redirectTo:t})}).catch(t=>{"job-expired"===t&&a({redirectTo:"job-preview",redirectParams:{jobId:e}})})})}h.a.configure({"apply-flow":{url:"/job/{jobId}/apply/section/{sectionNumber}:?query:",view:{layout:"apply-flow"},title:Object(l.a)("apply-flow.page-title"),transition:pp,canEnter:(e,t)=>mp(e,"job-details",t),enter(){lc.a.getMethodConfig("GET").retry=3,Fr.jobDetails.isClosing.dispatch(!0),Bt.a.loaded.dispatch(),fu()},exit(e,t){vu(this.id,t),delete lc.a.getMethodConfig("GET").retry}},"job-preview.apply-flow":{parent:"job-preview",url:"/apply/section/{sectionNumber}",view:{layout:"apply-flow"},transition:pp,canEnter:(e,t)=>mp(e,"job-preview",t),enter(){lc.a.getMethodConfig("GET").retry=3,Bt.a.loaded.dispatch(),fu()},exit(e,t){vu(this.id,t),delete lc.a.getMethodConfig("GET").retry}},"job-details.existing-submission":{parent:"job-details",url:"/apply/{token}/submission-exists",view:{layout:"apply-flow-light","apply-flow-content":"existing-submission"}},"apply-flow.thank-you-assessment":{parent:"job-details",url:"/apply/{token}/thank-you-assessment",view:{layout:"apply-flow-light","apply-flow-content":"thank-you-assessment"}},"job-preview.confirm-email":{parent:"job-preview",url:"/apply/confirm-email",view:{layout:"candidate-verification-layout","candidate-verification-content":"confirm-email"}}});n.components.register("inline-spinner",{viewModel:class{constructor({isLoading:e,alignment:t,className:i,i18n:n}){this.isLoading=e,this.label=n,this.alignment=t,this.className=i,this.cssClass=s.a.pureComputed(()=>{const e=[];return e.push(this.isLoading()?"inline-spinner--loading":null),e.push(this.alignment?"inline-spinner--"+this.alignment:null),e.push(this.className),e.filter(e=>Boolean(e)).join(" ")})}},template:'<span class="inline-spinner" data-bind="css: cssClass">\n    \x3c!-- ko if: label --\x3e\n    <span class="inline-spinner__label" data-bind="i18n: label"></span>\n    \x3c!-- /ko --\x3e\n    <span class="inline-spinner__icon-wrapper">\n        <span class="inline-spinner__icon"></span>\n    </span>\n</span>\n'});class bp{constructor({helpTextId:e,className:t,isVisible:i,helpText:n}){this.helpTextId=e,this.className=t,this.isVisible=i,this.helpText=n,this.nodes={}}}var fp={createViewModel(e,t){const i=new bp(e);return t.templateNodes.filter(e=>e.tagName).forEach(e=>{const t=e.tagName.toLowerCase();i.nodes[t]=e.childNodes}),i}};n.components.register("tooltip",{viewModel:fp,template:'<span class="tooltip-wrapper" data-bind="attr: {id: helpTextId}">\n    \x3c!-- ko template: { nodes: nodes[\'tooltip-anchor\'], data: $parent} --\x3e\x3c!-- /ko --\x3e\n\n    \x3c!-- ko if: isVisible --\x3e\n    <span class="tooltip-content theme-color-2" data-bind="text: helpText, tooltipPosition"></span>\n    <span class="tooltip-pointer"></span>\n    \x3c!-- /ko --\x3e\n</span>\n'});const gp=["ORA_SUMMARY","ORA_PROFILE_IMPORT"];n.components.register("apply-flow-block",{viewModel:class{constructor(e){this.application=e.application,this.section=e.section,this.block=e.block,this.isActive=e.isActive,this.isSingleClickFlow=e.isSingleClickFlow,this.flow=e.flow,this.shouldRenderBlockHeader=()=>-1===gp.indexOf(this.block.code)}},template:'<div class="apply-flow-block" data-bind="css: \'apply-flow-block--\' + block.component">\n    \x3c!-- ko if: shouldRenderBlockHeader() --\x3e\n    <div class="apply-flow-block__header">\n        <apply-flow-block-title\n            params="title: block.title, isSingleClickFlow: isSingleClickFlow"\n        ></apply-flow-block-title>\n        \x3c!-- ko if: block.instructions --\x3e\n        <p class="apply-flow-block__instructions" data-bind="html: block.instructions"></p>\n        \x3c!-- /ko --\x3e\n    </div>\n    \x3c!-- /ko --\x3e\n\n    <span class="oj-helper-hidden-accessible" data-bind="text: block.title || section.title"></span>\n    <div class="apply-flow-block__form-list" role="region">\n        \x3c!-- ko component: {\n            name: block.component,\n            params: {\n                section: section,\n                code: block.code,\n                title: block.title,\n                blockId: block.blockId,\n                application: application,\n                isActive: isActive,\n                additionalData: block.additionalData,\n                metadataServiceUrl: block.metadataServiceUrl,\n                readWriteServiceUrl: block.readWriteServiceUrl,\n                blockProperties: block.blockProperties,\n                flow: flow,\n            }\n        } --\x3e\n        \x3c!-- /ko --\x3e\n    </div>\n</div>\n'});n.components.register("apply-flow-block-title",{viewModel:class{constructor({title:e,isSingleClickFlow:t}){this.title=e,this.isSingleClickFlow=t}},template:'\x3c!-- ko if: title --\x3e\n\x3c!-- ko if: isSingleClickFlow --\x3e\n<h3 class="apply-flow-block__title" data-bind="text: title"></h3>\n\x3c!-- /ko --\x3e\n\n\x3c!-- ko ifnot: isSingleClickFlow --\x3e\n<h2 class="apply-flow-block__title" data-bind="text: title"></h2>\n\x3c!-- /ko --\x3e\n\x3c!-- /ko --\x3e\n'});class vp{constructor(e){this.sections={},e.forEach(e=>{this.sections[e.number]=this._createSectionState(e)}),this.ready=Object(n.pureComputed)(this._isAllSectionsReady,this)}_isSectionReady(e){return Object.keys(this.sections[e].blocks).every(t=>this.sections[e].blocks[t]())}_isAllSectionsReady(){return Object.keys(this.sections).every(e=>this.sections[e].ready())}_createSectionState(e){return{blocks:this._getBlocksForSection(e),ready:Object(n.pureComputed)(this._isSectionReady.bind(this,e.number),this),visited:Object(n.observable)(!1)}}_getBlocksForSection(e){return e.pages.reduce((e,t)=>e.concat(t.blocks),[]).reduce((e,t)=>(e[t.blockId]=Object(n.observable)(!1),e),{})}}var _p={initialize(e){this.sectionState=new vp(e)},getStateOf(e){return this.sectionState.sections[e]},setBlockReady(e,t){this.getStateOf(e).blocks[t](!0)},setBlockUnready(e,t){this.getStateOf(e).blocks[t](!1)},isSectionReady(e){return this.getStateOf(e).ready},isBlockReady(e,t){return this.getStateOf(e).blocks[t]},isAllSectionsReady(){return this.sectionState.ready},setSectionVisited(e){this.getStateOf(e).visited(!0)},isSectionVisited(e){return this.getStateOf(e).visited}};const yp=["education-form","experience-form","name-form","address-form","language-form","license-form"];class xp{constructor(e){this.sections={},e.forEach(({number:e})=>{this.sections[e]=this._createSectionState(e)}),this.valid=Object(n.pureComputed)(this._checkIsAllSectionsValid.bind(this),this)}_createSectionState(e){return{forms:Object(n.observableArray)(),extraValidations:Object(n.observableArray)(),hasRequiredElementExtraValidation:!1,errors:Object(n.pureComputed)(this._countSectionErrors.bind(this,e),this),valid:Object(n.pureComputed)(this._checkIsSectionValid.bind(this,e),this)}}_countSectionErrors(e){return this.sections[e].forms().reduce((e,t)=>e+t().getErrorCount(),0)+this.sections[e].extraValidations().reduce((e,t)=>t()?e:e+1,0)}_checkIsSectionValid(e){const t=this.sections[e],i=t.extraValidations().every(e=>!0===e());return 0===t.errors()&&i}_checkIsAllSectionsValid(){return!Object.keys(this.sections).filter(e=>!this.sections[e].valid()).length}}function wp(e){return yp.indexOf(e().componentName())>-1}var kp={initialize(e){this.sectionValidator=new xp(e),this.summaryErrorCount=Object(n.pureComputed)(this._countAllSectionErrors,this)},registerForm(e,t){-1===this.sectionValidator.sections[t].forms.indexOf(e)&&this.sectionValidator.sections[t].forms.push(e)},unregisterForm(e,t){const i=this.sectionValidator.sections[t].forms.indexOf(e);-1!==i&&this.sectionValidator.sections[t].forms.splice(i,1)},getSectionErrorCount(e){return this.sectionValidator.sections[e].errors},getSummaryErrorCount(){return this.summaryErrorCount},isSectionValid(e){return this.sectionValidator.sections[e].valid},validateAfterImport(){return this.validateAllSections()},validateSection(e){return Promise.all(this.sectionValidator.sections[e].forms().map(e=>(e().enableImmediateValidation(),e().validate()))).then(()=>this.sectionValidator.sections[e].valid())},validateSectionProfileItems(e){return this.sectionValidator.sections[e].forms().filter(wp).forEach(e=>{e().enableImmediateValidation(),e().validate()}),this.sectionValidator.sections[e].valid()},isAllSectionsValid(){return this.sectionValidator.valid},validateAllSections(){const e=Object.keys(this.sectionValidator.sections).map(e=>this.validateSection(e));return Promise.all(e).then(()=>this.sectionValidator.valid())},addValidation(e,t){this.sectionValidator.sections[e].extraValidations.push(t)},_getSectionErrorMessages(e){return this.sectionValidator.sections[e].forms().reduce((e,t)=>[...e,...t().getErrorMessages()],[])},getAllSectionErrorMessages(){return Object.keys(this.sectionValidator.sections).reduce((e,t)=>[...e,...this._getSectionErrorMessages(t)],[]).flat()},_countAllSectionErrors(){return Object.keys(this.sectionValidator.sections).reduce((e,t)=>e+this.getSectionErrorCount(t)(),0)},hasRequiredElement(e){const t=this.sectionValidator.sections[e];if(t.hasRequiredElementExtraValidation)return!0;return t.forms().some((function(e){return e().elements().some(e=>e.isRequired())}))},setHasRequiredElementExtraValidation(e,t){this.sectionValidator.sections[e].hasRequiredElementExtraValidation=t}},Ip=i(29);n.components.register("apply-flow-navigation-multipage",{viewModel:class{constructor({sections:e,iterator:t}){this.sections=e,this.iterator=t,this.sectionValidator=kp,this.isVisible=s.a.observable(!0);const i=this.iterator().currentSectionNumber();this.sectionChange(i),this._sectionSubscription=this.iterator().currentSectionNumber.subscribe(this.sectionChange),this._submitSucceedSignal=Kd.submitSucceed.add(()=>this.isVisible(!1)),this.navigate=this.navigate.bind(this),this.route=Ip.a.isPostApply()?"post-apply":"apply-flow"}hasErrors(e){const t=!kp.isSectionValid(e)(),i=_p.isSectionVisited(e);return t&&i}isCurrent(e){return this.iterator().currentSectionNumber()===e}isActive(e){return _p.isSectionVisited(e)}sectionChange(e){for(let t=1;t<=e;t++)_p.setSectionVisited(t),t<e&&kp.validateSection(t)}navigate(e){_p.isSectionVisited(e)()&&h.a.go(this.route,{sectionNumber:e})}dispose(){this._sectionSubscription.dispose(),this._submitSucceedSignal.detach()}},template:'<div\n    class="apply-flow-navigation text-color-secondary font-family-secondary"\n    data-bind="visible: isVisible"\n    dir="ltr"\n    tabindex="0"\n    role="navigation"\n>\n    \x3c!-- ko if: sections --\x3e\n    <div class="apply-flow-navigation__summary" aria-hidden="true">\n        \x3c!-- ko if: hasErrors(iterator().currentSectionNumber()) --\x3e\n        <i\n            class="\n                apply-flow-navigation-sections__warning-indicator\n                apply-flow-navigation-sections__warning-indicator--global\n            "\n        ></i>\n        \x3c!-- /ko --\x3e\n\n        <span class="apply-flow-navigation-sections__link">\n            \x3c!-- ko text: iterator().currentSectionNumber() --\x3e\x3c!-- /ko --\x3e\n        </span>\n        <div class="apply-flow-navigation__summary-spacer">/</div>\n\n        <span class="apply-flow-navigation-sections__link">\n            \x3c!-- ko text: sections.length --\x3e\x3c!-- /ko --\x3e\n        </span>\n    </div>\n    \x3c!-- /ko --\x3e\n\n    <div class="apply-flow-navigation__details">\n        <ol class="apply-flow-navigation-sections">\n            \x3c!-- ko foreach: { data: sections, as: \'section\' } --\x3e\n            <li class="apply-flow-navigation-sections__section">\n                <button\n                    type="button"\n                    class="apply-flow-navigation-sections__link"\n                    data-bind="\n                        attr: {\n                            title: section.title,\n                            href: $parent.isActive(section.number)() ? \'#\' : null\n                        },\n                        enable: $parent.isActive(section.number),\n                        click: $parent.navigate.bind($parent, section.number) "\n                >\n                    \x3c!-- ko if: $parent.hasErrors(section.number) --\x3e\n                    <i\n                        class="\n                            apply-flow-navigation-sections__warning-indicator\n                            apply-flow-navigation-sections__warning-indicator--small\n                        "\n                    ></i>\n                    \x3c!-- /ko --\x3e\n\n                    \x3c!-- ko text: $index() + 1 --\x3e\x3c!-- /ko --\x3e\n                </button>\n            </li>\n            \x3c!-- /ko --\x3e\n        </ol>\n    </div>\n</div>\n'});n.components.register("apply-flow-navigation-singlepage",{viewModel:class{constructor({sections:e}){this.sections=e,this.sectionValidator=kp,this.isOpen=Object(n.observable)(!1),this.isVisible=Object(n.observable)(!0),this.activeSection=Object(n.observable)(1),this._isOpenSubscription=this.isOpen.subscribe(Kd.navigationOpen.dispatch),this._submitSucceedSignal=Kd.submitSucceed.add(()=>this.isVisible(!1)),this.closeNavigation=this.closeNavigation.bind(this)}isActive(e){return(this.activeSection()||1)===e}toggleNavigation(){this.isOpen(!this.isOpen())}closeNavigation(){this.isOpen(!1)}dispose(){this._isOpenSubscription.dispose(),this._submitSucceedSignal.detach()}},template:'<div\n    class="apply-flow-navigation text-color-secondary font-family-secondary"\n    dir="ltr"\n    data-bind="visible: isVisible, scrollSpy: { observer: activeSection, type: \'apply-flow-sections\', offset: -50 }"\n>\n    \x3c!-- ko if: sections --\x3e\n    <div class="apply-flow-navigation__summary">\n        <span class="apply-flow-navigation-sections__link">\n            \x3c!-- ko text: activeSection --\x3e\x3c!-- /ko --\x3e\n        </span>\n\n        <div class="apply-flow-navigation__summary-spacer">/</div>\n\n        <span class="apply-flow-navigation-sections__link">\n            \x3c!-- ko ifnot: sectionValidator.isAllSectionsValid() --\x3e\n            <i class="apply-flow-navigation-sections__warning-indicator"></i>\n            \x3c!-- /ko --\x3e\n\n            \x3c!-- ko text: sections.length --\x3e\x3c!-- /ko --\x3e\n        </span>\n    </div>\n    \x3c!-- /ko --\x3e\n\n    <div class="apply-flow-navigation__details">\n        <ol class="apply-flow-navigation-sections">\n            \x3c!-- ko foreach: { data: sections, as: \'section\' } --\x3e\n            <li class="apply-flow-navigation-sections__section">\n                <button\n                    type="button"\n                    class="apply-flow-navigation-sections__link"\n                    data-bind="\n                        attr: { title: section.title },\n                        scrollTo: { target: \'#section-\' + section.number, offset: (section.number > 1 ? -50 : 250) }"\n                >\n                    \x3c!-- ko ifnot: $parent.sectionValidator.isSectionValid(section.number) --\x3e\n                    <span\n                        class="\n                            apply-flow-navigation-sections__warning-indicator\n                            apply-flow-navigation-sections__warning-indicator--small\n                        "\n                    ></span>\n                    \x3c!-- /ko --\x3e\n\n                    \x3c!-- ko text: $index() + 1 --\x3e\x3c!-- /ko --\x3e\n                </button>\n            </li>\n            \x3c!-- /ko --\x3e\n        </ol>\n    </div>\n</div>\n'});n.bindingHandlers.scrollSpy={init(e,t){const{observer:i,type:n,offset:s}=t(),a=document.querySelectorAll("[data-scroll-spy={type}]".replace("{type}",n)),o=[].slice.call(a);let r=!1;window.addEventListener("scroll",()=>{r||window.requestAnimationFrame(()=>{const e=document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop;const t=function(e,t){let i=e.filter(e=>e<=t).map((e,t)=>t).pop();return i||(i=0),i}(o.map(e=>e.offsetTop),e+s||0);i(o[t].getAttribute("data-scroll-spy-id")),r=!1}),r=!0})}};var Cp={addMessage:new Ot.a,addAlert:new Ot.a,removeMessage:new Ot.a};let Sp="";class Ep{sendAndNotify(e){const{payload:t,...i}=e;return this._sendRequest(t,i).catch(this._notify.bind(this))}clearNotifications(){Sp="",bi.dismissAll()}_sendRequest(e,t){const{restEndpoint:i,successMessage:n,ignoredErrors:s=[],isUpdate:a=!1}=t,o={statusCodes:{400:({response:e})=>e.includes(n)||s.includes(e)?"is-valid":e},headers:{"Ora-Irc-Validation-Mode":"Y"}};return(a?U.a.patch:U.a.post)(i,e,o)}_isValid(e){return"is-valid"===e}_notify(e){return this._isValid(e)?this._handleSuccess():this._handleError(e)}_handleError(e){if(this._isUnauthorizedMessage(e))return Promise.reject();let t=0;const i=this._formatMessage(e);return Sp!==i&&(t=400,bi.dismissAll()),bi.error(i,t,!1),Sp=i,Promise.reject()}_isUnauthorizedMessage(e){return e===Ku.a}_handleSuccess(){return Sp="",bi.dismissAll(),Promise.resolve()}_formatMessage(e){return e.split(/\n/).filter(e=>Boolean(e)).map(e=>`<p>${e.trim()}</p>`).join("")}}const Op=new Ep,Ap={restEndpoint:"/recruitingCECandidates",successMessage:"IRC-Candidate Data Validation Successful (IRC--1)"};var Pp={validateEmail(e,t){const i=Nu.mapEmailVerificationToRest(e,t);return Op.sendAndNotify({...Ap,payload:i})},validatePhone(e,t){const i=Nu.mapPhoneVerificationToRest(e,t);return Op.sendAndNotify({...Ap,payload:i})},validate(){return Op.sendAndNotify(this.getConfig())},getConfig(){const e=wo.mapCandidateToRest(Ga);return{...Ap,payload:e,ignoredErrors:["ORA_IRC_CAND_EXISTS"]}}};const Tp={[oo]:{restEndpoint:"/recruitingCECandidateCertificationItems",primaryKey:"certificationId"},[ro]:{restEndpoint:"/recruitingCECandidateEducationItems",primaryKey:"educationId"},[lo]:{restEndpoint:"/recruitingCECandidateLanguageItems",primaryKey:"languageId"},[co]:{restEndpoint:"/recruitingCECandidateWorkPreferences",primaryKey:"workPreferenceId"},[uo]:{restEndpoint:"/recruitingCECandidatePreviousExpItems",primaryKey:"previousEmploymentId"},[po]:{restEndpoint:"/recruitingCECandidateSkillItems",primaryKey:"skillId"}},jp=JSON.parse(JSON.stringify(Tp));function Rp(e,t){return Boolean(t[jp[e].primaryKey])}jp[oo].successMessage="IRC-Certification Validation Successful (IRC--1)",jp[ro].successMessage="IRC-Education Validation Successful (IRC--1)",jp[lo].successMessage="IRC-Language Validation Successful (IRC--1)",jp[co].successMessage="IRC-Workpref Validation Successful (IRC--1)",jp[uo].successMessage="IRC-PreviousExp Validation Successful (IRC--1)",jp[po].successMessage="IRC-Skill Validation Successful (IRC--1)";var Fp={validate(e,t){const i=this.getConfig(e,t);return Op.sendAndNotify(i)},getConfig(e,t){const i=Rp(e,t),n=function(e,t){const{restEndpoint:i}=jp[e],n=t[jp[e].primaryKey];return Rp(e,t)?`${i}/${n}`:i}(e,t),{successMessage:s}=jp[e];return{successMessage:s,isUpdate:i,payload:t,restEndpoint:n}}};const Dp=new class extends Ep{async sendAndNotify(e){let t="";return await Promise.all(e.map(async e=>{const i=await this._handleRequest(e);t=this._createMultilineMessage(t,i)})),t?this._handleError(t):this._handleSuccess()}_handleRequest(e){const{payload:t,...i}=e;return this._sendRequest(t,i).catch(e=>this._isValid(e)?"":e)}_createMultilineMessage(e,t){return[e,t].filter(Boolean).join("\n")}_isUnauthorizedMessage(e){return e.split("\n").every(e=>e===Ku.a)}},Lp={restEndpoint:"/recruitingCERegulatoryResponses",successMessage:"IRC-Candidate Data Validation Successful (IRC--1)"};var Np={getConfig(){const e=Ga.regulatoryResponses();if(!e.length)return;const{jobId:t}=h.a.routeParams(),i=Dc.mapDataToRest(e,t);return{...Lp,payload:i}}};i(107);const Mp=new Map;function Vp(e){return Mp.get(e)}function Bp(e){const t=e.find(({status:e})=>"rejected"===e);if(t)throw t.reason;return e.map(({value:e})=>e)}class qp{constructor(){this.services={}}saveAll(e){return Promise.allSettled([this.save(129,e.experience),this.save(106,e.education),this.save(103,e.licensesAndCertificates),this.save(109,e.languages),this.save(117,e.workPreferences),this.save(134,e.skills)]).then(Bp)}save(e,t){return this.services[e]?this.services[e].saveAllByType(t):Promise.resolve()}storeAll(e){this.store(129,e.experience),this.store(106,e.education),this.store(103,e.licensesAndCertificates),this.store(109,e.languages),this.store(117,e.workPreferences),this.store(134,e.skills)}getMappedModel(){return{129:this._getMappedItems(129,Ga.experience()),106:this._getMappedItems(106,Ga.education()),103:this._getMappedItems(103,Ga.licensesAndCertificates()),109:this._getMappedItems(109,Ga.languages()),117:this._getMappedItems(117,Ga.workPreferences()),134:this._getMappedItems(134,Ga.skills())}}_getMappedItems(e,t){if(!this.services[e])return[];return t.reduce((t,i)=>[...t,this.services[e].mapToRestWithOperationalData(i)],[])}store(e,t){this.services[e]&&this.services[e].storeAllByType(e,t)}registerService({type:e,service:t,attributes:i,sectionId:n}){this.services[e]=t,function(e,t){Mp.set(e,t)}(n,i)}}const Up={},Hp="links",$p="links.deleted",Jp="dob",zp="pii",Wp="eff";var Kp={store(e,t){Up[t]||(Up[t]=[]),Up[t].push(e)},remove(e,t){const i=Up[t];i&&(Up[t]=i.filter(t=>t!==e))},unshiftAll(e){const t=Up[e];if(!t)return[];const i=t.map(e=>e);return t.forEach(t=>this.remove(t,e)),i}};const Gp="currencyCode",Yp="payFrequency",Qp={};function Zp(e,t,i){return i.indexOf(e)===t}function Xp(e,t){switch(e){case co:return function(e){if(e.includes("minimumPay"))return e;return e.filter(e=>![Gp,Yp].includes(e))}(t);default:return t}}var eh={set(e,t,i){const n=i.filter(e=>e.isHidden&&!e.keyFlag).map(({name:e})=>e).filter(Zp);Qp[e]=Xp(t,n)},get:e=>Qp[e]||[]},th={removeHiddenFields:e=>(e.forEach(e=>{eh.get(e.sectionId()).forEach(t=>{e[t]=Object(n.observable)(void 0)})}),e)};var ih={createError(e,t){const{statusCode:i,response:n}=t;if(400===i&&n){const t=function(e){const t=fd.get();if(!t)return"";const i=t.sections.map(({pages:e})=>e.map(({blocks:e})=>e)).flat(2).find(({blockProperties:t={}})=>{const{sectionId:i}=t;return function(e,t){return[t].flat().includes(e)}(e,i)});return i?i.title:""}(e);return{validationError:t?`${t}: ${n}`:n}}return t},handleValidationError({validationError:e}){bi.error(e,0,!1)},isValidationError:e=>Boolean(null==e?void 0:e.validationError)};const nh={statusCodes:{400:({response:e})=>function(e){return e.includes("ORA_IRC_ATTACHMENT_FAILED")?"ORA_IRC_ATTACHMENT_FAILED":e}(e)}};var sh={mapToRest(e){let t=e;return t&&"object"==typeof t&&(t.parts.forEach(e=>{const t=e;t.payload?t.payload=$.a.convertKeysToRestFormat(t.payload,!0):delete t.payload}),t=JSON.stringify(t)),t}},ah={baseUrl:"/hcmRestApi/resources/latest",headers:{"Content-Type":"application/vnd.oracle.adf.batch+json"},transformRequest:e=>(e.body=sh.mapToRest(e.body),e)},oh={parse:e=>(e.parts||[]).reduce((e,t)=>t.payload&&t.payload.error?Promise.reject({statusCode:t.payload.status,response:t.payload.error}):(e[t.id]=t.payload,e),{})},rh={resolveAll:(e,t)=>(Object.keys(e).forEach(i=>{const n=i,s=t[n];(0,e[n].resolve)(s)}),Promise.resolve())},lh=i(49);class ch{constructor(e){var t;this.batchParts=[],this.batchPromiseMap={},this.currentBatchConfig=Object.assign({},ah),this.batchPartFactory=e,t=lc.a.headers,-1!==Object.keys(t).indexOf("Ora-Irc-Access-Code")&&Object.assign(this.currentBatchConfig.headers,{"Ora-Irc-Batch":"true"})}flush(){return this.batchParts.length?Object(lh.b)("",{parts:this.batchParts},"POST",this.currentBatchConfig).then(oh.parse.bind(oh)).then(rh.resolveAll.bind(rh,this.batchPromiseMap)).catch(e=>Promise.reject(e)):Promise.resolve()}append(e,t,i,n={}){const s=this.currentBatchConfig.headers;Object.assign(this.currentBatchConfig,n),Object.assign(s,n.headers),this.currentBatchConfig.headers=Object.assign(s,ah.headers);const a=z.a.interpolate(e,n.params,n.paramsDelimiter),o=this.batchPartFactory.createPart(a,t,i);return this.batchParts.push(o),new Promise(e=>{this.batchPromiseMap[o.id]={resolve:e}})}}const dh={GET:"get",POST:"create",PATCH:"update",PUT:"update",DELETE:"delete",JSONP:""};class uh{constructor(){this.batchIdCounter=1}createPart(e,t,i){return{id:this._getNewId(e),path:e,operation:dh[i],payload:t}}_getNewId(){return"batch-"+this.batchIdCounter++}}var ph={create:()=>new ch(new uh),post:(e,t,i,n)=>e.append(t,i,"POST",n),patch:(e,t,i,n)=>e.append(t,i,"PATCH",n),delete:(e,t,i)=>e.append(t,null,"DELETE",i)};const hh="?fields=APPDraftId,Id,CandidateNumber,Category,Type,Attachment,Title",mh="/recruitingCEJobApplicationDrafts";var bh={queryOne(e,t,i=!1){const n=i?hh:"";return U.a.get(`${mh}/${e}/child/attachments/${t}${n}`,{statusCodes:{404:()=>null}}).then(io.mapDraftFileAttachmentFromRest)},query(e,t=!1){const i=t?hh:"";return U.a.get(`${mh}/${e}/child/attachments${i}`,{statusCodes:{404:()=>null}}).then(io.mapDraftFileAttachmentsFromRest.bind(io))},create(e,t,i){const n=io.mapDraftFileAttachmentToRest(t),s={...nh,signal:i,timeout:12e5};return U.a.post(`${mh}/${e}/child/attachments`,n,s).then(io.mapCreateDraftFileAttachmentFromRest.bind(io))},remove(e,t){const i=t.id();return U.a.delete(`${mh}/${e}/child/attachments/${i}`,{statusCodes:{404:()=>Promise.resolve()}})},removeAttachments(e,t){const i=ph.create();return t.map(({id:t})=>ph.delete(i,`${mh}/${e}/child/attachments/${t}`,t)),i.flush()},submitAllDraftAttachments(e,t){const i=t.filter(({isResume:e,isCoverLetter:t})=>e()||t()),n=io.mapDraftAttachmentsToSubmit(e,i);return U.a.post("/recruitingCECandidates",n,nh)},copyAttachmentToDraft(e,t){const i=io.mapCopyDraftAttachment(t);return U.a.post(`${mh}/${e}/child/attachments`,i,nh).then(io.mapDraftFileAttachmentFromRest)}};const fh={isRequired(e,t){if(!Object(pt.b)(e))return{};const i={};return"checkboxStringValue"===t.type&&(i.checkbox={checked:t.checked}),{required:i}},isUpperCaseOnly:e=>Object(pt.b)(e)?{onlyUppercase:{}}:{},maximumLength:e=>({maxLength:{max:e}}),maximumValue:(e,{type:t})=>"integer"===t||"decimal"===t?{lessThan:{max:Number(e),inclusive:!0}}:"date"===t||"datetime"===t?{maxDate:{max:e,inclusive:!0}}:{},minimumValue:(e,{type:t})=>"integer"===t||"decimal"===t?{greaterThan:{min:Number(e),inclusive:!0}}:"date"===t||"datetime"===t?{minDate:{min:e,inclusive:!0}}:{},precision:e=>({precisionNumber:{precision:Number(e)}}),scale:e=>({scaleNumber:{scale:Number(e)}}),zeroFill:e=>({zeroFill:{number_of_characters:e}})};function gh(e,t){return Object.keys(fh).reduce((i,n)=>{const s=e[n];if(s){const e=(0,fh[n])(s,t);Object.assign(i,e)}return i},{})}const vh={TextArea:"textarea",RichTextArea:"textarea",Checkbox:"checkboxStringValue",SingleChoiceList:"select",SingleChoiceRadio:"radio",MultipleChoiceCheck:"multiselect",DatePicker:"date",Integer:"integer",Decimal:"decimal"},_h=["DatePicker","TextArea","Checkbox","Decimal","text","Integer"];function yh(e,t){return Object.assign(e,{hiddenFlag:"true"===e.hiddenFlag,isRequired:"true"===e.requiredFlag?"Y":"N",maximumLength:"ACCOMMODATION_REQUEST"===e.attributeCode?"2000":e.maximumLength,isFlexField:"DDF"===e.attributeType||"DFF"===e.attributeType,flexFieldType:e.attributeType,options:t})}function xh(e,t){return t+"-"+(e.isFlexField?e.flexFieldType:"STANDARD")+"-"+(e.isFlexField?e.attributeName:e.attributeCode)+"-"+(e.isFlexField?e.segmentColumnName:"STANDARD")}var wh={reformatFormElementsFromRest(e){const t={items:[]};0!==e.items.length&&t.items.push({afBlockCode:e.items[0].afblockCode,legislations:[]});const i=[];e.items.forEach(e=>{const n=i.indexOf(e.legislationCode),s=function(e){const t=[];if(null===e)return t;let i=e.substring(1,e.length-1);return""!==i&&(i=i.split("||"),i.forEach(e=>{const i=e.split("=");t.push({lookupCode:i[0].trim(),meaning:i[1]})})),t}(e.options);var a;(s.length||(a=e.displayTypeCode,_h.includes(a)))&&(-1===n?(i.push(e.legislationCode),t.items[0].legislations.push({legislationCode:e.legislationCode,header:e.headerDescription,footer:e.footerDescription,legislationName:e.legislationName,attributes:new Array(yh(e,s))})):t.items[0].legislations[n].attributes.push(yh(e,s)))});const n=i.indexOf("US");if(-1!==n){const[e]=t.items,[i]=e.legislations.splice(n,1);e.legislations.push(i)}return t},mapFormElementsFromRest(e){return e.items.map(e=>({blockCode:e.afBlockCode,legislations:e.legislations.map(this.mapLegislationFromRest)}))},mapLegislationFromRest:e=>({legislationCode:e.legislationCode,legislationName:e.legislationName,header:e.header,footer:e.footer,formElementsDef:e.attributes.map(t=>function(e,t){const i={type:(n=e.displayTypeCode,vh[n]||"text"),name:xh(e,t),label:e.displayPrompt,defaultValue:e.defaultValue,isHidden:e.hiddenFlag,value:e.defaultValue,attributes:{readonly:e.readonlyFlag,required:e.requiredFlag},options:e.options};var n;return"Checkbox"===e.displayTypeCode&&e.checkboxCheckedValue&&e.checkboxUncheckedValue&&(i.checked=e.checkboxCheckedValue,i.unchecked=e.checkboxUncheckedValue),i.validators=gh(e,i),i}(t,e.legislationCode))})};const kh=new Map([["BASIC_BLOCKS",{constructor:class{constructor(){this.blocks=this.getBlocksReduction()}getBlocksReduction(){return this.blocks||(this.blocks=new Map([["ORA_ADDRESS",this.removeAddressData],["ORA_SENSITIVE_PERSONAL_INFO",this.removeSensitiveInformationData],["ORA_AGREEMENTS",this.removeAgreementsData],["ORA_ESIGNATURE",this.removeEsignature]])),this.blocks}getBlockIdentifier(){}removeEsignature({application:e}){e.eSignature.fullName("")}removeAgreementsData({candidate:e}){e.subscribeToJobAlert=!1,e.preferences.optIn=!1}removeAddressData({candidate:e}){e.address=new ma}removeSensitiveInformationData({candidate:e}){e.personalIdentifyingInformationItems=[],e.dateOfBirth=void 0}}}],["MULTI_BLOCK",{constructor:class{constructor(){this.blocks=this.getBlocksReduction()}getBlocksReduction(){if(this.blocks)return this.blocks;const e=this.removeMultiBlockData;return this.blocks=new Map([["ORA_WORK_PREFERENCE",{operation:e,field:"workPreferences"}],["ORA_LANGUAGE",{operation:e,field:"languages"}],["ORA_LICENSE_CERTIFICATES",{operation:e,field:"licensesAndCertificates"}],["ORA_EDUCATION",{operation:this.removeMultiBlockData,field:"education"}],["ORA_EXPERIENCE",{operation:e,field:"experience"}],["ORA_SKILL",{operation:e,field:"skills"}]]),this.blocks}getBlockIdentifier(e){const{blockProperties:t}=e;return t&&t.sectionId?[t.sectionId]:(console.error("missing properties for block "+e.code),null)}assignIdentifiersFromTimeline(e){e.has("ORA_TIMELINE")&&(this._assignIdentifier(e,"ORA_EXPERIENCE",this._getTimelineExperience),this._assignIdentifier(e,"ORA_EDUCATION",this._getTimelineEducation),e.delete("ORA_TIMELINE"))}_assignIdentifier(e,t,i){if(e.has(t)){const n=e.get(t);n.push(i(e)),e.set(t,n)}else e.set(t,[i(e)])}_getTimelineEducation(e){const[[,t]]=e.get("ORA_TIMELINE");return t}_getTimelineExperience(e){const[[t]]=e.get("ORA_TIMELINE");return t}removeMultiBlockData(e,t,i){e[i]=e[i].filter(({sectionId:e})=>t.includes(e))}}}],["REGULATORY_BLOCKS",{constructor:class{constructor(){this.blocks=this.getBlocksReduction()}getBlocksReduction(){if(this.blocks)return this.blocks;const e=this.remove;return this.blocks=new Map([["ORA_DIVERSITY",e],["ORA_VETERAN",e],["ORA_DISABILITY",e]]),this.blocks}remove(e,t){e.regulatoryResponses=e.regulatoryResponses.filter(({id:e})=>t.includes(e))}getData(e){const t=`%22${hp.a.encodeQueryParams(h.a.routeParams().jobId)}%22`,i=`${e.metadataServiceUrl.replace("<REQ_NUM>",t)}#ceCacheLang=${b.a.get()}`;return J.a.restore(i)}prePareKey(e){const t=wh.reformatFormElementsFromRest(e),i=wh.mapFormElementsFromRest(t),[n]=i,[s]=n.legislations;return s.formElementsDef.map(e=>e.name)}getBlockIdentifier(e){const t=this.getData(e);return this.prePareKey(t)}}}],["QUESTIONNAIRE_BLOCKS",{constructor:class{constructor(){this.blocks=this.getBlocksReduction()}getBlocksReduction(){return this.blocks||(this.blocks=new Map([["ORA_QUESTIONNAIRE",this.remove]])),this.blocks}remove(e,t){e.questionnaires=e.questionnaires.filter(({questionnaireId:e})=>t.includes(String(e)))}getBlockIdentifier({blockProperties:e}){return[String(e.questionnaireId)]}}}],["ATTACHMENTS_BLOCKS",{constructor:class{constructor(){this.blocks=this.getBlocksReduction()}getBlocksReduction(){return this.blocks||(this.blocks=new Map([["ORA_MISC_DOCUMENTS",this.removeMiscAttachments],["ORA_DOCUMENTS",this.removeAttachments]])),this.blocks}getBlockIdentifier(e){return[e.blockId]}removeAttachments({candidate:e,id:t}){e.linkedSites=[];const i=e.attachments.filter(({categoryId:e})=>"MISC"!==e);e.attachments=e.attachments.filter(({categoryId:e})=>"MISC"===e),i.length&&bh.removeAttachments(t,i)}removeMiscAttachments({candidate:e,id:t},i){const n=e.attachments.filter(({categoryId:e,blockId:t})=>"MISC"===e&&!i.includes(t));e.attachments=e.attachments.filter(({categoryId:e,blockId:t})=>"MISC"!==e||"MISC"===e&&i.includes(t)),n.length&&bh.removeAttachments(t,n)}}}],["EXTRA_INFO_BLOCKS",{constructor:class{constructor(){this.blocks=this.getBlocksReduction()}getBlocksReduction(){return this.blocks||(this.blocks=new Map([["ORA_JA_EXTRA_INFO",this.removeMultiBlockData]])),this.blocks}removeMultiBlockData(e,t){e.extraInformation=e.extraInformation.filter(e=>t.includes(e.name))}getBlockIdentifier(e){const{blockProperties:t}=e;return t&&t.context?[t.context]:(console.error("missing properties for block "+e.code),null)}}}]]);function Ih(e){const t=kh.get(e);if(!t)throw Error("missing factory "+e);return t.instance||(t.instance=new t.constructor),t.instance}var Ch={getBasicBlocksReduction:()=>Ih("BASIC_BLOCKS").getBlocksReduction(),getMultiBlocksReduction:()=>Ih("MULTI_BLOCK").getBlocksReduction(),getSectionIdentifier(e){if("ORA_TIMELINE"===e.code)return Ih("MULTI_BLOCK").getBlockIdentifier(e);const t=[...kh.keys()].find(t=>Ih(t).getBlocksReduction().has(e.code));return t?Ih(t).getBlockIdentifier(e):null},assignIdentifiersFromTimeline(e){Ih("MULTI_BLOCK").assignIdentifiersFromTimeline(e)},getRegulatoryBlockReduction:()=>Ih("REGULATORY_BLOCKS").getBlocksReduction(),getAttachmentBlockReduction:()=>Ih("ATTACHMENTS_BLOCKS").getBlocksReduction(),getQuestionnaireBlockReduction:()=>Ih("QUESTIONNAIRE_BLOCKS").getBlocksReduction(),getExtraInformationBlockReduction:()=>Ih("EXTRA_INFO_BLOCKS").getBlocksReduction()};class Sh{reduceDraftDataByFlow(e){const t=new Map,i=fd.get();return this._getAllBlocksFromFlow(i).forEach(e=>{if(t.has(e.code)){const i=Ch.getSectionIdentifier(e),n=[...t.get(e.code),...i];t.set(e.code,n)}else t.set(e.code,Ch.getSectionIdentifier(e))}),this._reduceDraftData(i,t,e),e}_getAllBlocksFromFlow({sections:e}){const t=[];return e.forEach(({pages:e})=>e.forEach(({blocks:e})=>e.forEach(e=>t.push(e)))),t}_reduceDraftData(e,t,i){this._handleTimeline(t),this._handleBasicBlocks(t,i),this._handleMultiBlocks(t,i),this._handleQuestionnaire(t,i),this._handleRegulatoryResponses(t,i),this._handleExtraInformation(t,i),this._handleAttachments(t,i)}_handleQuestionnaire(e,{candidate:t}){Ch.getQuestionnaireBlockReduction().forEach((i,n)=>{e.has(n)?i(t,e.get(n)):t.questionnaires=[]})}_handleBasicBlocks(e,t){Ch.getBasicBlocksReduction().forEach((i,n)=>{e.has(n)||i(t)})}_handleMultiBlocks(e,{candidate:t}){Ch.getMultiBlocksReduction().forEach((i,n)=>{e.has(n)?i.operation(t,e.get(n),i.field):t[i.field]=[]})}_handleTimeline(e){Ch.assignIdentifiersFromTimeline(e)}_handleRegulatoryResponses(e,{candidate:t}){const i=Ch.getRegulatoryBlockReduction(),n=[];if(i.forEach((t,i)=>{e.has(i)&&n.push(...e.get(i))}),n.length){const[[,e]]=i;e(t,n)}else t.regulatoryResponses=[]}_handleAttachments(e,t){Ch.getAttachmentBlockReduction().forEach((i,n)=>{e.has(n)||i(t,e.get(n)||[]),e.has(n)&&"ORA_MISC_DOCUMENTS"===n&&i(t,e.get(n))})}_handleExtraInformation(e,{candidate:t}){Ch.getExtraInformationBlockReduction().forEach((i,n)=>{e.has(n)?i(t,e.get(n)):t.extraInformation=[]})}}class Eh{constructor(e,t){this.id=e.id,this.jobId=e.jobId,this.legalDisclaimerId=e.legalDisclaimerId,this.candidateModificationDate=e.candidateModificationDate,this.draftModificationDate=e.draftModificationDate,this.savedContent=e.savedContent,this.contentLanguage=e.contentLanguage,this.draftReducer=new Sh,this.proposedCandidateId=e.proposedCandidateId,this.application=e.application;const i=Ip.a.isPostApply()&&e.candidate?this.draftReducer.reduceDraftDataByFlow(e).candidate:e.candidate;this.candidate=ru.calculateDraftCandidate({isCandidateNewer:this.isCandidateDataNewer(),candidateModel:t,draftCandidate:i}),this.removedProfileItemsMap=this.isCandidateDataNewer()?{}:e.removedProfileItemsMap,this.update=this.update.bind(this)}addRemovedProfileItem(e,t){this.removedProfileItemsMap[e]?this.removedProfileItemsMap[e].push(t):this.removedProfileItemsMap[e]=[t]}clearRemovedProfileItems(e){delete this.removedProfileItemsMap[e]}isCandidateDataNewer(){return!this.id||this.candidateModificationDate&&this.candidateModificationDate>this.draftModificationDate}shouldUpdate({content:e,contentLanguage:t}){return this.savedContent!==e||this.contentLanguage!==t}update(e){Object.assign(this,e)}}function Oh(){return Ba&&!Ba.isCandidateDataNewer()}class Ah{constructor(){this.clearDraft();const e=Number(c.a.getSettingByKey("ORA_IRC_CE_SAVE_DRAFT_INTRVL"));this.timerInterval=1e3*(e||10),this.isActive=!1,this.timerId=null,this.failsCounter=0,this.saveDraft=this.saveDraft.bind(this),this.stop=this.stop.bind(this)}clearDraft(){qa.clear()}saveDraft(){this.isActive&&ru.save().catch(this._handleDraftError.bind(this)).then(()=>{this.timerId=window.setTimeout(this.saveDraft,this.timerInterval)})}setDraft(e,t){qa.set(new Eh(e,t))}start(){this.isActive=!0;const e=_p.isAllSectionsReady();e()?this.saveDraft():e.subscribeOnce(()=>{this.saveDraft()})}stop(){this.isActive=!1,window.clearTimeout(this.timerId)}_handleDraftError(e){return"CONTENT_NOT_CHANGED"===e?Promise.resolve():(this.failsCounter++,Kd.afterApplicationDraftSave.dispatch(),this.failsCounter>=3?(this.stop(),Promise.reject("draft aborted")):Promise.resolve())}}class Ph{constructor(e,{flowVersionId:t,submissionId:i}){this.contentTypeId=e,this.restEndpoint=Tp[e].restEndpoint,this.flowVersionId=t,this.submissionId=i||null}query(e){if(Oh())return Promise.resolve([]);const t=Vp(e),i={sectionId:e,flowVersionId:this.flowVersionId,expand:this._expandClobFields(e)},n=this.restEndpoint+"?finder=findBySectionId;SectionId=:sectionId:,FlowVersionId=:flowVersionId:&onlyData=true&expand=:expand:";return U.a.get(n,{params:i,retry:2}).then(e=>vo.mapProfileItemsFromRest(e,this.contentTypeId,t))}save(e){const t=Vp(e.sectionId()),i=this.mapToRestWithOperationalData(e);return(i[t.primaryKey]?this._update.bind(this):this._create.bind(this))(i).then(()=>Kp.remove(e,this.contentTypeId)).catch(t=>{const i=ih.createError(e.sectionId(),t);return Promise.reject(i)})}mapToRestWithOperationalData(e){const t=Vp(e.sectionId()),i=vo.mapToRest(e,t);return i.flowVersionId=this.flowVersionId,i.submissionId=this.submissionId,i}validate(e){const{contentTypeId:t}=e,i=this.mapToRestWithOperationalData(e);return Fp.validate(o.a.toJS(t),i)}_create(e){return U.a.post(""+this.restEndpoint,e,{retry:3})}_update(e){const t=Vp(e.sectionId);return U.a.patch(`${this.restEndpoint}/${e[t.primaryKey]}`,e)}_expandClobFields(e){return Vp(e).clob.map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(",")}remove(e){const t=Vp(e.sectionId()),i=vo.mapToRest(e,t);return U.a.delete(`${this.restEndpoint}/${i[t.primaryKey]}`,{statusCodes:{404:()=>Promise.resolve(),500:()=>Promise.resolve()}}).then(()=>Kp.remove(e,this.contentTypeId))}storeAllByType(e,t){[...t.getRemovedItems(),...t()].forEach(t=>Kp.store(t,e))}async saveAllByType(e){const t=th.removeHiddenFields(e()),i=e.getRemovedItems();await Promise.all(i.map(e=>this.remove(e))),await Promise.all(t.map(e=>this.save(e))),e.clearRemovedItems(e)}}var Th=new class{constructor(){this.initialize()}getCompositeService(){return this.compositeService}initialize(){this.compositeService=new qp}create(e,t){const i=this._getSectionId(t),n=this._getAttributes(e,t),{flowVersionId:s}=fd.get(),{submissionId:a}=h.a.routeParams(),o=new Ph(e,{flowVersionId:s,submissionId:a});return this.compositeService.registerService({type:e,service:o,attributes:n,sectionId:i}),o}_getSectionId(e){return(e.filter(e=>Boolean(e.sectionId)).shift()||{}).sectionId||null}_getAttributes(e,t){const{primaryKey:i}=Tp[e];return{primaryKey:i,all:this._getDataAttributes(t).concat(i),clob:this._getClobAttributes(t)}}_getDataAttributes(e){return e.map(e=>e.name).concat("sectionId","flowVersionId")}_getClobAttributes(e){return e.filter(e=>"CLOB"===e.datatype).map(e=>e.name)}};function jh(){const e=Th.getCompositeService().getMappedModel(),[t]=e[co];if(t)return Fp.getConfig(co,t)}var Rh={validate(){const e=[Pp.getConfig(),jh(),Np.getConfig()].filter(Boolean);return Dp.sendAndNotify(e)}};n.components.register("apply-flow-pagination",{viewModel:class{constructor({flow:e,isValidationInProgress:t}){this.isSingleClick=e().isSingleClick,this.flowIterator=e().iterator,this.route=Ip.a.isPostApply()?"post-apply":this._getApplyFlowRoute(),this.validationMessage=Object(n.observable)(!1),this.isFirstSection=Object(n.pureComputed)(()=>this.flowIterator().isFirstSection()),this.isLastSection=Object(n.pureComputed)(()=>this.flowIterator().isLastSection()),this._currentSectionSubscription=this.flowIterator().currentSectionNumber.subscribe(()=>{this.validationMessage(!1)}),this._invalidESignatureSignal=Kd.invalidESignature.add(()=>{this._createValidationSubscription(kp.isAllSectionsValid()),this.validationMessage("apply-flow.validation.invalid-application")}),this.isValidationInProgress=t,this.submit=this.submit.bind(this)}_getApplyFlowRoute(){const e=h.a.route();return e.parent&&"job-preview"===e.parent.id?"job-preview.apply-flow":"apply-flow"}_runBeforeExit(){this.flowIterator().runBeforeExit()}async _runBeforeValidation(){await this.flowIterator().runBeforeValidation()}back(){h.a.go(this.route,{sectionNumber:this.flowIterator().previousStepSectionNumber()})}next(){const e=this.flowIterator().currentSectionNumber();this._runBeforeValidation(),this.flowIterator().runBlockValidation(),kp.validateSection(e).then(()=>{this._runBeforeExit(),h.a.go(this.route,{sectionNumber:this.flowIterator().nextStepSectionNumber()})})}isNextEnabled(){return _p.isSectionReady(this.flowIterator().currentSectionNumber())}async submit(){return this.isValidationInProgress(!0),await this._runBeforeValidation(),this.flowIterator().runBlockValidation(),Ls.b.trackJobApplicationSubmit(h.a.routeParams().jobId),kp.validateAllSections().then(e=>{if(e)this.validationMessage(!1),this._runBeforeExit(),this.isValidationInProgress(!0),Rh.validate().then(()=>{Kd.submit.dispatch()}).catch(e=>this._handleValidationError(e)).finally(()=>this.isValidationInProgress(!1));else{const e=kp.isAllSectionsValid();this._createValidationSubscription(e),this.validationMessage("apply-flow.validation.invalid-application"),Cp.addAlert.dispatch(Object(l.a)("apply-flow.validation.invalid-application")),this.isValidationInProgress(!1),Kd.submitHasErrors.dispatch()}})}_handleValidationError(e){"job-expired"===e?h.a.go("job-details"):console.error(e)}isSubmitEnabled(){return!this.isValidationInProgress()&&_p.isAllSectionsReady()}dispose(){Op.clearNotifications(),this._currentSectionSubscription.dispose(),this._invalidESignatureSignal.detach()}_createValidationSubscription(e){const t=e.subscribe(e=>{e&&(this.validationMessage(!1),t.dispose())})}},template:'<div class="apply-flow-pagination">\n    \x3c!-- ko if: validationMessage --\x3e\n    <div class="apply-flow-pagination__error-message" role="alert" data-bind="i18n: validationMessage"></div>\n    \x3c!-- /ko --\x3e\n\n    <div class="apply-flow-pagination__buttons">\n        \x3c!-- ko ifnot: isSingleClick --\x3e\n\n        \x3c!-- ko ifnot: isFirstSection --\x3e\n        <button\n            type="button"\n            class="\n                button\n                apply-flow-pagination__button apply-flow-pagination__button--prev\n                text-color-secondary\n            "\n            data-bind="click: back"\n        >\n            <span class="button__arrow button__arrow--left"></span>\n            <span\n                class="button__label apply-flow-pagination__button-label"\n                data-bind="i18n: \'general.previous-button\'"\n            ></span>\n        </button>\n        \x3c!-- /ko --\x3e\n\n        \x3c!-- ko ifnot: isLastSection --\x3e\n        <button\n            type="button"\n            class="button apply-flow-pagination__button apply-flow-pagination__button--next theme-color-1"\n            data-bind="\n                click: next, enable: isNextEnabled(), a11y.skipTo: {elementsFocused: \'.pin-code-input__input,  #applyFlowLegalDisclaimer\',\n                 elementsContainer: flowIterator().skipToContainer()}"\n        >\n            <span class="button__label" data-bind="i18n: \'general.next-button\'"></span>\n            <span class="button__arrow button__arrow--right"></span>\n        </button>\n        \x3c!-- /ko --\x3e\n\n        \x3c!-- /ko --\x3e\n\n        \x3c!-- ko if: (isSingleClick || isLastSection()) --\x3e\n        <button\n            type="button"\n            class="button apply-flow-pagination__button apply-flow-pagination__button--next theme-color-1"\n            data-bind="a11y.setFocusOnClick: { focusOn: \'.apply-flow-fixer__button\', delay: 100}, click: submit, enable: isSubmitEnabled(), a11y.skipTo: {elementsFocused: \'.pin-code-input__input,  #applyFlowLegalDisclaimer\',\n                 elementsContainer: flowIterator().skipToContainer()}"\n        >\n            <span class="button__label" data-bind="i18n: \'general.submit-button\'"></span>\n            \x3c!-- ko ifnot: isValidationInProgress --\x3e\n            <span class="button__arrow button__arrow--right"></span>\n            \x3c!-- /ko --\x3e\n            \x3c!-- ko if: isValidationInProgress --\x3e\n            <inline-spinner\n                params="isLoading: isValidationInProgress, className:\'apply-flow-pagination__spinner\'"\n            >\n            </inline-spinner>\n            \x3c!-- /ko --\x3e\n        </button>\n        \x3c!-- /ko --\x3e\n    </div>\n</div>\n'});function Fh(e,t){var i=t.get(e);if(!i)throw new TypeError("attempted to get private field on non-instance");return i.get?i.get.call(e):i.value}function Dh(e,t,i){var n=t.get(e);if(!n)throw new TypeError("attempted to set private field on non-instance");if(n.set)n.set.call(e,i);else{if(!n.writable)throw new TypeError("attempted to set read only private field");n.value=i}return i}n.components.register("apply-flow-section",{viewModel:function(e){this.application=e.application,this.flow=s.a.unwrap(e.$raw.flow),this.flowIterator=this.flow.iterator(),this.section=s.a.unwrap(e.section),this.isSingleClickFlow=this.flowIterator.isSingleClick(),this.showHeading=this.section.title&&this.isSingleClickFlow,this.isValid=kp.isSectionValid(this.section.number),this.isActive=s.a.pureComputed(()=>{const e=this.flowIterator.currentSectionNumber();return this.section.number===e||this.isSingleClickFlow})},template:'<div\n    class="apply-flow-section"\n    data-bind="visible: isActive, a11y.setInitialFocus: { isVisible: isActive },\n        attr: { \'data-section-number\': section.number, \'data-section-invalid\': !isValid() },\n        setBodyScrollTo: { to: 0, when: isActive }"\n>\n    \x3c!-- ko if: showHeading --\x3e\n    <h2 class="apply-flow-section__trainstop-name" data-bind="text: section.title"></h2>\n    \x3c!-- /ko --\x3e\n\n    <ol class="apply-flow-page-list">\n        \x3c!-- ko foreach: { data: section.pages, as: \'page\' } --\x3e\n        <li>\n            \x3c!-- ko foreach: { data: page.blocks, as: \'block\' } --\x3e\n            <apply-flow-block\n                params="\n                block: block,\n                section: $component.section,\n                isActive: $component.isActive,\n                application: $component.application,\n                isSingleClickFlow: $component.isSingleClickFlow,\n                flow: $component.flow,\n            "\n            ></apply-flow-block>\n            \x3c!-- /ko --\x3e\n        </li>\n        \x3c!-- /ko --\x3e\n    </ol>\n</div>\n'});var Lh=new WeakMap,Nh=new WeakMap;var Mh=new class{constructor(){Lh.set(this,{writable:!0,value:null}),Nh.set(this,{writable:!0,value:null})}async _createGetJobRequest(e){try{Dh(this,Lh,await Fs.getJob(e))}finally{Dh(this,Nh,null)}return Fh(this,Lh)}async getJob(e){return Fh(this,Lh)?Fh(this,Lh):(Dh(this,Nh,Fh(this,Nh)||this._createGetJobRequest(e)),Fh(this,Nh))}clear(){Dh(this,Lh,null),Dh(this,Nh,null)}};var Vh=new class{constructor(){this.title=Object(n.observable)(null)}clear(){this.title(null)}};n.components.register("apply-flow-header",{viewModel:class{constructor({flow:e,redirectOnJobError:t=!0,closeAction:i=null,summaryTemplate:n}){this.job=s.a.observable(),this.jobAttributes=s.a.observable(),this.flow=e(),this.sections=this.flow.sections,this.iterator=this.flow.iterator.bind(this.flow),this.isSingleClick=e().isSingleClick,this.inViewport=s.a.observable(),this.userLanguage=b.a.restore(),this.isPostApply=Ip.a.isPostApply(),this.summaryTemplate=n,this.closeAction=i||this._closeAction.bind(this),this._currentPageSub=this.iterator().currentSection.subscribe(()=>this._updatePageTitle()),this._updateSubmissionPageTitleSignal=Kd.submitSucceed.add(()=>this._updateSubmissionPageTitle()),Mh.clear(),Vh.clear(),this.jobTitle=Vh.title,this._loadJob(t).then(()=>this._updatePageTitle()),this.isFlowDataAvailable=s.a.pureComputed(()=>this.job()||this.jobTitle())}_loadJob(e){return this.isPostApply?this._getTitleFromSubmission(e):Mh.getJob(h.a.routeParams().jobId).then(e=>{this.job(e),this.jobTitle(e.title),this.jobAttributes(this._getJobAttributes())}).catch(()=>this._handleGetJobFailure(e))}_handleGetJobFailure(e){e&&h.a.go("job-details")}_getTitleFromSubmission(e){return Ed.getSubmission(h.a.routeParams().submissionId).then(e=>{this.jobTitle(e.jobTitle)}).catch(()=>this._handleGetJobFailure(e))}_updatePageTitle(){const e=this.jobTitle()||"",t=this.iterator().currentSection()||{};let i=""+e;!this.isSingleClick&&t.title&&(i=`${t.title} - ${i}`),Bt.a.pageTitleUpdate.dispatch(i)}_updateSubmissionPageTitle(){const e=this.jobTitle()||"";Bt.a.pageTitleUpdate.dispatch(e)}_closeAction(){const{jobId:e}=h.a.routeParams(),t=h.a.route();t.parent&&"job-preview"===t.parent.id?h.a.go("job-preview",{jobId:e}):h.a.go("job-details",{jobId:e})}_getJobAttributes(){return Pn.generate(this.job()).filter(({id:e})=>"locations"!==e)}dispose(){this._updateSubmissionPageTitleSignal.detach(),this._currentPageSub.dispose()}},template:'<header class="app-header apply-flow-header">\n    <div class="apply-flow-header__content">\n        <div class="app-header__current-page text-color-secondary">\n            <button\n                class="app-header-icon-button app-header__close"\n                data-bind="\n                    click: closeAction,\n                    routeLang: userLanguage,\n                    i18nAttr: {title: \'apply-flow.navigation.back-to-jobs-listing\'} "\n            >\n                <span class="app-header-icon-button__icon app-header__close-icon"></span>\n            </button>\n\n            <span class="app-header__spacer app-header__close-spacer"></span>\n\n            <div class="app-header__current-page-title" tabindex="0" data-bind="if: isFlowDataAvailable">\n                \x3c!-- ko text: jobTitle() --\x3e\x3c!-- /ko --\x3e\n\n                <div\n                    class="context-menu apply-flow-header__job-context-menu background-color-dropdown"\n                    aria-live="polite"\n                >\n                    <ul class="context-menu__list">\n                        \x3c!-- ko ifnot: isPostApply --\x3e\n                        <li class="context-menu__item">\n                            <span data-bind="i18n: \'job-details.location-label\'"></span>:\n                            <span class="text-color-primary">\n                                \x3c!-- ko text: job().primaryLocation --\x3e\x3c!-- /ko --\x3e\n\n                                \x3c!-- ko if: job().secondaryLocations.length > 0 --\x3e\n                                <i18n params="key: \'search.job-item.secondary-locations\'">\n                                    <span\n                                        data-i18n-token="locationsCount"\n                                        data-bind="text: $parent.job().secondaryLocations.length"\n                                    ></span>\n                                </i18n>\n                                \x3c!-- /ko --\x3e\n                            </span>\n                        </li>\n                        \x3c!-- /ko --\x3e\n\n                        \x3c!-- ko if: isPostApply --\x3e\n                        <li class="context-menu__item">\n                            <span data-bind="i18n: \'post-apply.header-information\'"></span>\n                        </li>\n                        \x3c!-- /ko --\x3e\n\n                        \x3c!-- ko foreach: jobAttributes --\x3e\n                        <li class="context-menu__item">\n                            \x3c!-- ko text: name --\x3e\x3c!-- /ko --\x3e:\n\n                            \x3c!-- ko if: Array.isArray(value) --\x3e\n                            \x3c!-- ko foreach: value --\x3e\n                            <span class="text-color-primary" data-bind="text: $data"></span>\n                            \x3c!-- /ko --\x3e\n                            \x3c!-- /ko --\x3e\n\n                            \x3c!-- ko ifnot: Array.isArray(value) --\x3e\n                            <span class="text-color-primary" data-bind="text: value"></span>\n                            \x3c!-- /ko --\x3e\n                        </li>\n                        \x3c!-- /ko --\x3e\n                    </ul>\n                </div>\n            </div>\n        </div>\n\n        <apply-flow-draft-saving-indicator\n            class="apply-flow-draft-saving-indicator"\n        ></apply-flow-draft-saving-indicator>\n\n        \x3c!-- ko ifnot: summaryTemplate --\x3e\n        \x3c!-- ko ifnot: isSingleClick --\x3e\n        <div class="apply-flow-header__navigation">\n            <apply-flow-navigation-multipage\n                params="sections: sections, iterator: iterator"\n            ></apply-flow-navigation-multipage>\n        </div>\n        \x3c!-- /ko --\x3e\n\n        \x3c!-- ko if: isSingleClick --\x3e\n        <apply-flow-navigation-singlepage params="sections: sections"></apply-flow-navigation-singlepage>\n        \x3c!-- /ko --\x3e\n        \x3c!-- /ko --\x3e\n    </div>\n\n    <apply-flow-fixer params="isMultipage: !isSingleClick"></apply-flow-fixer>\n\n    <div class="apply-flow-header__background"></div>\n</header>\n'});lt("apply-flow-summary-already-applied",'<h4 class="apply-flow-dialog__header" data-bind="i18n: \'general.error-already-applied.header\'"></h4>\n\n<section class="apply-flow-dialog__content">\n    <p class="apply-flow-dialog__text">\n        <i18n params="key: \'general.error-already-applied.description\'">\n            <a\n                data-i18n-token="homepageLink"\n                data-bind="route: \'home-page\', lang: userLanguage"\n                class="theme-color-1"\n            ></a>\n            <a\n                data-i18n-token="browseLink"\n                data-bind="route: \'search\', routeParams: { query: queryParams, jobId: null }, routeLang: userLanguage"\n                class="theme-color-1"\n            ></a>\n        </i18n>\n    </p>\n</section>\n'),lt("apply-flow-summary-pin-code-required",rp),lt("apply-flow-summary-success",'<h4 class="apply-flow-dialog__header" data-bind="i18n: \'apply-flow.section-thank-you.header\'"></h4>\n\n<footer class="apply-flow-dialog__footer">\n    <a\n        class="apply-flow-dialog__button apply-flow-dialog__button--primary"\n        data-bind="route: \'search\', routeParams: { query: queryParams, jobId: null }, routeLang: userLanguage"\n    >\n        <span data-bind="i18n: \'general.done-button\'"></span>\n    </a>\n</footer>\n'),lt("apply-flow-summary-candidate-exists",'<header>\n    <h1 class="apply-flow-dialog__header" data-bind="i18n: \'apply-flow.submit-errors.cannot-submit\'"></h1>\n</header>\n\n<section class="apply-flow-dialog__content">\n    <div\n        class="apply-flow-dialog__text"\n        data-bind="i18n: \'apply-flow.submit-errors.candidate-already-created\'"\n    ></div>\n</section>\n\n<footer class="apply-flow-dialog__footer">\n    <button\n        id="applyFlowSummaryCandidateExists"\n        class="apply-flow-dialog__button apply-flow-dialog__button--primary"\n        data-bind="click: expiredCandidateRedirection, i18n: \'general.continue-button\',\n        a11y.skipTo: { elementsFocused: \'#applyFlowSummaryCandidateExists\'}"\n    ></button>\n</footer>\n'),lt("apply-flow-summary-token-expired-apply-flow",'<header>\n    <h1 class="apply-flow-dialog__header" data-bind="i18n: \'apply-flow.section-token-expired.header\'"></h1>\n</header>\n\n<footer class="apply-flow-dialog__footer">\n    <button\n        class="apply-flow-dialog__button apply-flow-dialog__button--primary"\n        data-bind="click: expiredCandidateRedirection, i18n: \'apply-flow.section-token-expired.button\'"\n    ></button>\n</footer>\n'),lt("apply-flow-summary-redirect-soon",'<header>\n    <h1\n        class="apply-flow-dialog__header"\n        data-bind="i18n: $component.isPostApplyFlow() ? \'post-apply.message.submit-success\' : \'apply-flow.section-thank-you.header\',\n        css: {\'apply-flow-dialog__header--rif\': $component.isPostApplyFlow()}"\n    ></h1>\n</header>\n<section class="apply-flow-dialog__content">\n    <div class="apply-flow-dialog__text" data-bind="i18n: \'post-apply.confirmation-description\'"></div>\n\n    <div class="apply-flow-dialog__dots-loader">\n        <dots-loader></dots-loader>\n    </div>\n</section>\n');function Bh(e){const{itemId:t,country:i,nationalIdtype:n,nationalId:s,issueDate:a,placeOfIssue:o,expirationDate:r}=e;return{id:t,legislationCode:i,nationalIdentifierType:n,nationalIdentifierNumber:s,issueDate:a,placeOfIssue:o,expirationDate:r}}n.components.register("dots-loader",{template:'<div class="dots-loader">\n    <div class="dots-loader__dot"></div>\n    <div class="dots-loader__dot"></div>\n    <div class="dots-loader__dot"></div>\n    <div class="dots-loader__dot"></div>\n</div>\n'});var qh={mapPersonalIdentifyingInformationItemsToRest(e,t){const i=s.a.toJS(e),n={dateOfBirth:t};return e&&0!==e.length?n.CandidatePIIData=i.map(Bh):n.CandidatePIIData=[],n},mapPersonalIdentifyingInformationItemsFromRest:e=>({candidatePIIData:e.candidatePIIData.map(t=>function(e,t){return new Na({itemId:e.id,country:e.legislationCode,nationalIdtype:e.nationalIdentifierType,nationalId:e.nationalIdentifierNumber,issueDate:e.issueDate,placeOfIssue:e.placeOfIssue,expirationDate:e.expirationDate,action:"UPDATE",readOnly:t})}(t,e.readOnly))})};var Uh={getErrorObjectsWithPiiInfo:e=>e.split(/\n/).filter(Boolean).map(e=>function(e){const t=function(e){return e.substring(e.indexOf("{"),e.lastIndexOf("}")+1)}(e);let i;try{i=JSON.parse(t)}catch{return{errorType:"generalError",errorMessage:e,piiItem:{itemId:null,nationalIdNumber:null,nationalIdType:null,nationalIdCountry:null,issueDate:null,expirationDate:null,placeOfIssue:null}}}return{errorType:"itemError",errorMessage:(n=i.ErrorMessage,n.replace(/\([A-Z]{3}-[0-9]+\)$/,"")),piiItem:{itemId:i.Data.Id,nationalIdNumber:i.Data.NationalIdentifierNumber,nationalIdType:i.Data.NationalIdentifierType,nationalIdCountry:i.Data.LegislationCode,issueDate:i.Data.IssueDate,expirationDate:i.Data.ExpirationDate,placeOfIssue:i.Data.PlaceOfIssue}};var n}(e))};function Hh(e,t,i){e.candidateNumber=t,e.lastName=i.lastName(),e.email=i.email(),e.firstName=i.firstName(),e.previousLastName=i.previousLastName()||void 0,e.middleNames=i.middleNames()||void 0,e.action="updatePII",e.title=i.title()||void 0,e.honors=i.honors()||void 0,e.knownAs=i.knownAs()||void 0,e.militaryRank=i.militaryRank()||void 0,e.preNameAdjunct=i.preNameAdjunct()||void 0,e.suffix=i.suffix()||void 0,e.namInformation15=i.namInformation15()||void 0,e.namInformation16=i.namInformation16()||void 0,e.namInformation17=i.namInformation17()||void 0,e.namInformation18=i.namInformation18()||void 0,e.namInformation19=i.namInformation19()||void 0,e.namInformation20=i.namInformation20()||void 0,e.namInformation21=i.namInformation21()||void 0,e.namInformation22=i.namInformation22()||void 0,e.namInformation23=i.namInformation23()||void 0,e.namInformation24=i.namInformation24()||void 0,e.namInformation25=i.namInformation25()||void 0,e.namInformation26=i.namInformation26()||void 0,e.namInformation27=i.namInformation27()||void 0,e.namInformation28=i.namInformation28()||void 0,e.namInformation29=i.namInformation29()||void 0,e.namInformation30=i.namInformation30()||void 0}function $h(e){return e.exWorker()||e.cwkCandidate()}var Jh={save({id:e,basicInformation:t,personalIdentifyingInformationItems:i,dateOfBirth:n}){if(!i().length&&!function(e){return e&&e()}(n))return Promise.resolve(!0);const s=qh.mapPersonalIdentifyingInformationItemsToRest(i(),n());return Hh(s,e(),t),Kp.remove(i,zp),Kp.remove(i,Jp),U.a.post("/recruitingCECandidates",s)},validate(e,t,i){const n=qh.mapPersonalIdentifyingInformationItemsToRest(i,e.dateOfBirth());return Hh(n,e.id(),t),U.a.post("/recruitingCECandidates",n,{headers:{"Ora-Irc-Validation-Mode":"Y"},statusCodes:{400:({response:e})=>-1!==e.indexOf("IRC-PII Validation Successful (IRC--1")?"pii-valid":e}}).catch(e=>"pii-valid"===e||"ORA_IRC_CAND_EXISTS"===e?Promise.resolve():Promise.reject(Uh.getErrorObjectsWithPiiInfo(e)))},async query(e,t){if(!e||Oh())return Promise.reject();const i=await async function(e,t){const i=await U.a.get(`/recruitingCECandidates/${e}?expand=CandidatePIIData&onlyData=true`);return{candidatePIIData:i.CandidatePIIData,dateOfBirth:i.dateOfBirth,readOnly:$h(t)}}(e,t);return qh.mapPersonalIdentifyingInformationItemsFromRest(i)},store:e=>new Promise(t=>{const i=o.a.toJS(e);J.a.store("personalIdentifyingInformation",i),t(i)})};var zh={query(e,t=!1){const i=t?"?fields=Id,Title,Category,Attachment,Type":"";return U.a.get(`/recruitingCECandidates/${e}/child/attachments${i}`,{retry:2,statusCodes:{404:()=>null}}).then(e=>({fileAttachments:io.mapFileAttachmentsFromRest(e),linkedSites:ao.mapSiteLinksFromRest(e)}))},create:(e,t)=>U.a.post(`/recruitingCECandidates/${e}/child/attachments/`,t,nh),update:(e,t)=>U.a.patch(`/recruitingCECandidates/${e}/child/attachments/${t.id}`,t,nh),save(e,t){return t.id?this.update(e,t):this.create(e,t)},remove:(e,t)=>U.a.delete(`/recruitingCECandidates/${e}/child/attachments/${t}`,{statusCodes:{404:()=>Promise.resolve(),500:()=>Promise.resolve()}}),saveAttachments(e,t){const i=io.mapFileAttachmentsToRest(t).map(t=>this.save(e,t));return Promise.all(i).then(e=>io.mapFileAttachmentsFromRest({items:e}))},removeAll(e,t){return Promise.all(t.filter(e=>e.id()).map(t=>this.remove(e,t.id())))},removeLinks(e,t){const i=t.filter(({id:e})=>e()).map(t=>this.remove(e,t.id()).then(()=>Kp.remove(t,"links.deleted")));return Promise.all(i)},saveLinks(e,t){const i=t.filter(({url:e})=>e()).map(t=>this.create(e,ao.mapSiteLinkToRest(t)).then(e=>(Kp.remove(t,"links"),e)));return Promise.all(i).then(e=>ao.mapSiteLinksFromRest({items:e}))}};function Wh(e){return Object.keys(e).map(t=>({name:t,value:e[t]||null}))}function Kh({contextRowId:e,contextRowLink:t,attributes:i}){return{id:e,link:t,attributes:(n=i,n.reduce((e,{name:t,value:i})=>(e[t]="null"===i?"":i,e),{}))};var n}function Gh({id:e,link:t,attributes:i},n){return{contextRowId:e,contextRowLink:t,rowAction:n,attributes:Wh(i)}}function Yh({name:e,link:t,rows:i,removedRows:n}){return{contextName:e,contextLink:t,dataRows:[...i.map(e=>Gh(e,e.id?"Update":"Create")),...n.map(e=>Gh(e,"Delete"))]}}function Qh({rows:e,removedRows:t}){return[...e,...t].length}function Zh(e,t){return Number(e.id)-Number(t.id)}function Xh(e){const[t]=e.items;return t?function({contextName:e,contextLink:t,dataRows:i}){return{name:e,link:t,rows:i.map(Kh).sort(Zh)}}(t):null}function em(e,t){return e.then(()=>U.a.post("/recruitingCECandidates",t))}function tm(e,t){if(!t.length)return Promise.resolve();Kp.remove(t,Wp);return function(e,t){return o.a.toJS(t).filter(Qh).map(t=>({candidateNumber:e,candidateExtraInformation:[Yh(t)],action:"updateEFF"}))}(e.id(),t).reduce(em,Promise.resolve())}class im{constructor({name:e,label:t}){this.name=Object(n.observable)(e),this.label=Object(n.observable)(t),this.steps=Object(n.observableArray)([]),this.status=Object(n.pureComputed)(()=>this._getStatus())}addStep(e){this.steps.push(e)}_getStatus(){const e=this.steps();if(!e.length)return"pending";if(e.every(e=>"done"===e.status()))return"done";return e.some(e=>"in progress"===e.status())?"in progress":"pending"}}class nm{constructor({name:e}){this.name=Object(n.observable)(e),this.status=Object(n.observable)("pending")}setStatus(e){new Set(["pending","in progress","done"]).has(e)?this.status(e):this.status("unknown")}}const sm="[Checklist] Reset";var am=new yu({state:{showDialog:!1,stages:[]},mutations:{"[Checklist] Add stage":function(e,{name:t,label:i}){e.stages().some(e=>e.name()===t)||e.stages.push(new im({name:t,label:i}))},"[Checklist] Add step":function(e,{stepName:t,stageName:i}){const n=e.stages().find(e=>i===e.name());if(!n)throw new Error(`Unable to add step (${t}) to non existing stage (${i})`);n.addStep(new nm({name:t,matchedStage:n}))},"[Checklist] Update step status":function(e,{stageName:t,stepName:i,status:n}){e.stages().find(e=>t===e.name()).steps().find(e=>i===e.name()).setStatus(n)},"[Checklist] Show dialog":function(e){e.showDialog(!0)},"[Checklist] Hide dialog":function(e){e.showDialog(!1)},[sm]:function(e){e.showDialog(!1),e.stages([])}},getters:{progress:function(e){const t=e.stages().map(e=>e.steps()).flat(2),i=t.filter(e=>"done"===e.status());return t.length?Math.ceil(i.length/t.length*100):0}}}),om={reset(){am.commit(sm)},show(){am.commit("[Checklist] Show dialog")},hide(){am.commit("[Checklist] Hide dialog")},addStage({name:e,label:t}){am.commit("[Checklist] Add stage",{name:e,label:t})},addStep:({stage:e,step:t},i,...n)=>(am.commit("[Checklist] Add step",{stageName:e,stepName:t}),async function(){am.commit("[Checklist] Update step status",{stageName:e,stepName:t,status:"in progress"});const s=await i(...n);return am.commit("[Checklist] Update step status",{stageName:e,stepName:t,status:"done"}),s})};function rm(e){return"string"==typeof e?function(e){return e?e.length<=3?"*".repeat(e.length):[e.slice(0,1),"*".repeat(e.length-2),e.slice(-1)].join(""):e}(e):e}function lm(e){return function(e){"dateOfBirth"in e&&(e.dateOfBirth=rm(e.dateOfBirth))}(e),function(e){if(!("personalIdentifyingInformationItems"in e))return;e.personalIdentifyingInformationItems.forEach(e=>{e.nationalId=rm(e.nationalId)})}(e),e}function cm(e){return{siteNumber:e.siteNumber,jobAlertsEnabled:e.optInJobAlertFlag,preferredLocations:bm(e),preferredJobFamilies:um(e),preferredJobFunctions:hm(e)}}function dm(e){return{flowVersionId:e.flowVersionId||null,legalDescriptionVersionId:e.legalDescriptionVersionId||null,siteNumber:e.siteNumber,optInJobAlertFlag:e.jobAlertsEnabled,preferredLocations:fm(e),preferredJobFamilies:pm(e),preferredJobFunctions:mm(e)}}function um({preferredJobFamilies:e}){return e.filter(({jobFamilyId:e})=>null!==e).map(({jobFamilyId:e})=>e)}function pm({preferredJobFamilies:e}){return e.length?e.map(e=>({jobFamilyId:e})):[{jobFamilyId:null}]}function hm({preferredJobFunctions:e}){return e.filter(({jobFunctionCode:e})=>null!==e).map(({jobFunctionCode:e})=>e)}function mm({preferredJobFunctions:e}){return e.length?e.map(e=>({jobFunctionCode:e})):[{jobFunctionCode:null}]}function bm({preferredLocations:e}){return e.filter(({geographyId:e})=>null!==e).map(({geographyId:e})=>e)}function fm({preferredLocations:e}){return e.length?e.map(e=>({geographyId:e})):[{geographyId:null}]}var gm={mapPreferencesFromRest(e){if(e.siteTCPreferences&&!e.siteTCPreferences.length&&e.optInMarketingEmailFlag)return{optIn:e.optInMarketingEmailFlag};const t=e.siteTCPreferences.map(cm),{candidateNumber:i,optInMarketingEmailFlag:n}=e;return{candidateId:i,optIn:n,siteTCPreferences:t}},mapCreateToRest(e,t,i,n){const s=n.map(e=>this.mapJobFamilyToRest(e)),a=e.jobFunctionCode?[{jobFunctionCode:e.jobFunctionCode}]:[];return{candidateNumber:t,context:wu.h[wu.c],optInMarketingEmailFlag:i.marketingEmailFlag,siteTCPreferences:[{siteNumber:c.a.siteNumber,flowVersionId:null,legalDescriptionVersionId:null,optInJobAlertFlag:i.jobAlertFlag,preferredLocations:[{geographyId:e.geographyId}],preferredJobFamilies:s,preferredJobFunctions:a}]}},mapJobFamilyToRest:e=>({jobFamilyId:e}),mapSaveJobAlertToRest:(e,t)=>({candidateNumber:e,context:t.flowContext,optInMarketingEmailFlag:t.optInMarketingEmailFlag,siteTCPreferences:[dm(t)]}),mapSaveCSSOptInEmailAlertToRest:({candidateId:e,flowContext:t,optInEmailFlag:i})=>({candidateNumber:e,context:t,optInMarketingEmailFlag:i}),mapSaveTCJobAlertToRest:(e,t)=>({candidateNumber:t,context:wu.h[wu.b],siteTCPreferences:[dm(e)]}),mapAcceptToRest:e=>({candidateNumber:e.candidateId,context:e.flowContext,siteTCPreferences:[]}),mapRejectToRest:e=>({candidateNumber:e.candidateId,action:"DELETE",siteTCPreferences:[]})},vm={mapJobFamily(e){return e.items&&e.items.length?e.items.map(this.mapSingleJobFamily):[]},mapSingleJobFamily:e=>({id:e.jobFamilyId.toString(),jobFamilyId:e.jobFamilyId,name:e.jobFamilyName,jobFamilyName:e.jobFamilyName,isActive:"A"===e.activeStatus}),mapActiveJobFamily(e){return e.items&&e.items.length?e.items.map(e=>this.mapSingleJobFamily(e)).filter(e=>e.isActive):[]}};var _m={getPreferences:e=>U.a.get(`/recruitingCECandidateSitePreferences/${e}?expand=:expand:&onlyData=true`,{params:{expand:["siteTCPreferences.preferredLocations","siteTCPreferences.preferredJobFamilies","siteTCPreferences.preferredJobFunctions"].join(",")}}).then(gm.mapPreferencesFromRest.bind(gm)),save(e,t,i,n,s){const a=this._preferences(i,n),o=gm.mapCreateToRest(e,t,a,s);return U.a.post("/recruitingCECandidateSitePreferences",o)},_preferences:(e,{optIn:t})=>({jobAlertFlag:e(),marketingEmailFlag:Object(n.unwrap)(t)}),saveJobAlert:(e,t)=>U.a.post("/recruitingCECandidateSitePreferences",gm.mapSaveJobAlertToRest(e,t)),saveCSSOptInEmailAlert:e=>U.a.post("/recruitingCECandidateSitePreferences",gm.mapSaveCSSOptInEmailAlertToRest(e)),saveTCJobAlert:(e,t)=>U.a.post("/recruitingCECandidateSitePreferences",gm.mapSaveTCJobAlertToRest(e,t)),confirmTalentCommunity:e=>U.a.post("/recruitingCECandidateSitePreferences",gm.mapAcceptToRest(e)),getLocations:e=>U.a.get(`/recruitingHierarchyLocations?onlyData=true&finder=findBySiteNumber;SiteNumber=${e}&limit=1000000`).then(Cl.mapLocations.bind(Cl)),getLocationsByIds:e=>e.length?U.a.get(`/recruitingHierarchyLocations?onlyData=true&finder=findByGeographyIds;Ids="${e.join(",")}"&limit=${e.length}`).then(Cl.mapLocations.bind(Cl)):Promise.reject(),getJobFamilies:e=>U.a.get(`/recruitingJobFamilies?onlyData=true&finder=findBySiteNumber;SiteNumber=${e}&limit=1000000`).then(vm.mapActiveJobFamily.bind(vm)),getJobFamiliesByIds:e=>e.length?U.a.get(`/recruitingJobFamilies?onlyData=true&finder=findByIds;Ids="${e.join(",")}"&limit=${e.length}`).then(vm.mapJobFamily.bind(vm)):Promise.reject(),getJobFamiliesByTerm:e=>null==e.term?Promise.resolve([]):W.get(`/recruitingJobFamilies?onlyData=true&finder=findBySiteNumberAndWord;SiteNumber=${e.siteNumber},FilterAttributes=JobFamilyName,SearchTerms=${e.term},StartsWithFlag=true&limit=1000000`).then(vm.mapActiveJobFamily.bind(vm)),getValidationMessage:e=>e.includes("Job Category")?e.includes("Job Function")?"talent-community.job-alerts-self-service.both-validation-error":"talent-community.job-alerts-self-service.validation-error":"talent-community.job-alerts-self-service.job-function-validation-error"};function ym(e){const{tcOptInEnabled:t}=c.a,{hasEmptySitePreferences:i,subscribeToJobAlert:n}=e;return t&&(i()||n())}function xm(e,t){const{id:i,subscribeToJobAlert:n,preferences:s}=e;return async function(e,t){const{jobFamilyId:i}=t;if(!i)return Promise.resolve([]);const[{isActive:n}]=await _m.getJobFamiliesByIds([i]).catch(e=>console.error(e));if(n)return[i];const{siteTCPreferences:s=[]}=await _m.getPreferences(e).catch(e=>console.error(e)),{preferredJobFamilies:a=[]}=s.find(({siteNumber:e})=>e===c.a.siteNumber)||{};return a}(i(),t).then(e=>_m.save(t,i(),n,s,e))}var wm={async saveForJobApply(e,t){if(!ym(e)&&function(e){const{preferences:t}=e;return Boolean(Object.values(t).length)}(e))return function(e){const{id:t,preferences:i}=e;return _m.saveCSSOptInEmailAlert({candidateId:t(),optInEmailFlag:i.optIn(),flowContext:wu.h[wu.c]})}(e);if(ym(e)){const i=await Fs.getJob(t).catch(console.error);return i?xm(e,i):Promise.resolve()}return Promise.resolve()}};const km={CREATING_CANDIDATE:"apply-flow.submit-progress.creating-candidate-info",SAVING_CANDIDATE:"apply-flow.submit-progress.saving-candidate-info",SAVING_APPLICATION:"apply-flow.submit-progress.saving-application"};function Im(){return Th.getCompositeService().saveAll(Ga)}function Cm(){return Jh.save(Ga)}async function Sm(){const e=[...Ga.linkedSites.getRemovedItems(),...Ga.linkedSites()];await zh.removeLinks(Ga.id(),e),Ga.linkedSites.clearRemovedItems();const t=await zh.saveLinks(Ga.id(),Ga.linkedSites());Ga.linkedSites(t)}async function Em(){const e=Ga.attachments.getRemovedItems().filter(({appDraftId:e})=>!e());if(await zh.removeAll(Ga.id(),e),Ga.attachments.clearRemovedItems(),ru.draftExists())return void await bh.submitAllDraftAttachments(Ga,Ga.attachments());const t=await zh.saveAttachments(Ga.id(),Ga.attachments());Ga.attachments(t)}function Om(){return ru.updateCandidateModificationDate()}function Am(e,t){return Ed.create(e,t,Ga)}function Pm(e){return Ip.a.isPostApply()?Ed.saveSecondary(e,Ga):Ed.savePrimary(e,Ga)}function Tm(e){return wm.saveForJobApply(Ga,e)}function jm(){return Ga.isNew()?"CREATING_CANDIDATE":"SAVING_CANDIDATE"}function Rm(){const e=jm();om.addStage({name:e,label:Object(l.a)(km[e])})}async function Fm(){Th.getCompositeService().storeAll(Ga),Ga.linkedSites().filter(e=>e.url()&&e.id()).forEach(e=>Kp.store(e,Hp)),Ga.linkedSites.getRemovedItems().forEach(e=>Kp.store(e,$p)),Ga.extraInformation().forEach(e=>Kp.store(e,Wp)),Ga.personalIdentifyingInformationItems().forEach(e=>Kp.store(e,zp)),Kp.store(Ga.dateOfBirth(),Jp),Rm();const{handleCandidate:e,handleProfileItems:t,handlePersonalIdentifyingInformation:i,handleExtrainformation:n,handleLinks:s,handleAttachments:a}=function(){const e=jm();return{handleCandidate:om.addStep({stage:e,step:"Handle candidate"},Mo.save,Ga),handleProfileItems:om.addStep({stage:e,step:"Handle profile items"},Im),handlePersonalIdentifyingInformation:om.addStep({stage:e,step:"Handle Personal Identifying Information"},Cm),handleExtrainformation:om.addStep({stage:e,step:"Handle Extra Information"},tm,Ga,Ga.extraInformation()),handleLinks:om.addStep({stage:e,step:"Handle Links"},Sm),handleAttachments:om.addStep({stage:e,step:"Handle attachments"},Em)}}();return om.show(),await e(),Om(),Promise.allSettled([t(),i(),n(),s(),a()]).then(Bp)}var Dm={saveCandidate:Fm,saveCandidateAndApplication:async function(e,t){uu.log({type:"CANDIDATE_SNAPSHOT",data:lm(Mo.getSnapshot(Ga))}),Rm(),om.addStage({name:"SAVING_APPLICATION",label:Object(l.a)(km.SAVING_APPLICATION)});const{handleCandidatePreferences:i,handleCandidateModificationDate:n,handleApplicationCreate:s,handleApplicationSave:a}=function(e,t){return{handleCandidateModificationDate:om.addStep({stage:"SAVING_APPLICATION",step:"Handle Candidate Modification Date"},Om),handleApplicationCreate:om.addStep({stage:"SAVING_APPLICATION",step:"Handle Application Create"},Am,e,t),handleApplicationSave:om.addStep({stage:"SAVING_APPLICATION",step:"Handle Application Save"},Pm,e),handleCandidatePreferences:om.addStep({stage:"SAVING_APPLICATION",step:"Handle Candidate Preferences"},Tm,t)}}(e,t);return om.show(),await ru.updateCandidateDrafts(),await Fm().then(n),await i(),await s().then(a)}};function Lm(){const{accessCode:e,sourceTrackingId:t}=Is.a.get(),{email:i,phoneNumber:n}=Ga.basicInformation,s=Fe.createPhone(n()).asFormattedString();return{accessCode:e,ceUserTrackingId:t,email:i(),phoneNumber:s}}var Nm=i(86);const Mm=["already-applied","candidate-exists","token-expired-apply-flow"];class Vm extends Yu{constructor({application:e,template:t}){super(),this.template=t,this.application=e,this.queryParams=h.a.routeParams().query,this.jobId=h.a.routeParams().jobId,this.job=null,this.userLanguage=b.a.restore(),this.isPartnerLinksEnabled=!1,this.isPostApplyFlow=Object(n.observable)(Ip.a.isPostApply()),this.confirmApplicationErrorOccured=!1,this.jobNotAvailableErrorOccured=!1,this.candidate.email=Ga.basicInformation.email,this.candidate.phone=Ga.basicInformation.phoneNumber,this.candidate.verificationMethod=Ga.basicInformation.verificationMethod,this.challenge.submodule=wu.c,this.verificationMethods=Ya,this.candidateVerificationMethod=Ga.basicInformation.verificationMethod(),this.isPostProcessingPageDisabled="false"===c.a.getSettingByKey("ORA_IRC_CE_APPLY_INTERSTITIAL_PAGE_ENABLED"),this._submitHandler=()=>this._saveCandidate(),Kd.submit.add(this._submitHandler),this._loadJob(),this._unauthorizedSignal=pi.a.unauthorizedError.addOnce(()=>{this._dumpLogsOnError()})}_saveCandidate(){return om.reset(),om.show(),Js.i[Js.e].dispatch(),Dm.saveCandidateAndApplication(this.application(),this.jobId,this.submitProgress).then(this._onCandidateSubmitted.bind(this)).catch(this.manageApplicationCreationErrors.bind(this)).finally(om.hide)}_showPinVerification(){return this.isPostProcessingPageDisabled&&Kd.submitSucceed.dispatch(),om.hide(),this._resetScroll(),this.template("pin-code-required"),Promise.resolve()}async onPinValid(){let e;this.isPostProcessingPageDisabled||this.template("redirect-soon");try{return[e]=await Promise.all([Ed.accept(this.application),this._confirmTCSignup()]),this._setPartnerLinksEnabled(e)}catch(e){return this._onConfirmApplicationError(e)}finally{this._afterCandidateVerification()}}expiredCandidateRedirection(){return _o.a.setUnverifiedVerificationData(),Is.a.destroy(),h.a.go("job-details.confirm-email")}async _onCandidateSubmitted(){if(Js.i[Js.d].dispatch({jobId:this.jobId,candidateId:Ga.id()}),this._dumpLogs(),this.isPostProcessingPageDisabled||Kd.submitSucceed.dispatch(),!Is.a.isKnownCandidate())return _o.a.setUnverifiedCandidateId(Ga.id()),_o.a.addUnverifiedCandidateApplication(this.jobId),this.hasRemainingUnverifiedApplications(),this._showPinVerification();let e;this.isPostProcessingPageDisabled||(om.hide(),this._resetScroll(),this.template("redirect-soon"));try{const{getForJob:t,accept:i}=Ed,n=Ip.a.isPostApply()?t(this.jobId):i(this.application);return[e]=await Promise.all([n,this._confirmTCSignup(),Object(Nm.a)(3e3)]),this._setPartnerLinksEnabled(e)}catch(e){return this._onConfirmApplicationError(e)}finally{this._afterCandidateVerification()}}_setPartnerLinksEnabled(e){return this.isPartnerLinksEnabled=(e.hasAssessment()||e.hasTaxCredit())&&e.isActive(),e}_afterCandidateVerification(){np.remove(this.jobId),this.redirectToCSS()}_onConfirmApplicationError(e){return"ORA_JOB_NOT_AVAILABLE"===e?this.jobNotAvailableErrorOccured=!0:this.confirmApplicationErrorOccured=!0,this._logError(e)}_onAfterCandidateVerificationError(e){return bi.errorAfterLoaded(Object(l.a)("general.error-message-header")),this._logError(e)}async _logError(e){console.error(e),await this._dumpLogs()}_clearCandidate(){const e=Ga.questionnaires(),t=Ga.regulatoryResponses(),i=Ga.attachments();Ga.clear(),Ga.regulatoryResponses(t),Ga.questionnaires(e),Ga.attachments(i)}async manageApplicationCreationErrors(e){this._clearCandidate(),console.error(e),this._dumpLogsOnError(),Kd.refresh.dispatch(),Kd.restartDraftMonitor.dispatch(),"string"==typeof e&&Mm.indexOf(e)>-1?(this.template(e),Kd.submitFailed.dispatch()):"ORA_IRC_ESIGN_INVALID"===e?Kd.invalidESignature.dispatch():"ORA_JOB_NOT_AVAILABLE"===e?bi.error(Object(l.a)("apply-flow.job-no-longer-available"),0):"ORA_IRC_ATTACHMENT_FAILED"===e?bi.error(Object(l.a)("apply-flow.submit-errors.file-upload"),0):ih.isValidationError(e)?ih.handleValidationError(e):"ORA_IRC_DUPLICATE_SUBMISSION"===e?(this.template("already-applied"),Kd.submitFailed.dispatch()):bi.error(Object(l.a)("apply-flow.submit-errors.unhandled-error"),0)}redirectToCSS(){Ga.clear(),_o.a.destroy(),h.a.go("candidate-self-service",{},{inherit:!1}).then(this._notifyAfterRedirectToCSS.bind(this)),this.isPostProcessingPageDisabled&&Kd.submitSucceed.dispatch()}_notifyAfterRedirectToCSS(){if(this.jobNotAvailableErrorOccured)return void bi.errorAfterLoaded(Object(l.a)("candidate-self-service.job-unavailable-confirmation-error"),500);if(this.confirmApplicationErrorOccured)return void bi.errorAfterLoaded(Object(l.a)("candidate-self-service.confirm-your-application",{JOB_TITLE:this.job.title}),500);const e=Object(l.a)("candidate-self-service.returning-candidate-confirm-message"),t=Object(l.a)("apply-flow.thank-you-dialog.additional-instructions-text");this.isPartnerLinksEnabled?bi.successAfterLoaded(t):this.isPostProcessingPageDisabled&&bi.successAfterLoaded(e)}hasRemainingUnverifiedApplications(){_o.a.hasRemainingUnverifiedApplications()||(_o.a.clear(),_o.a.setHasExceededUnverifiedApplicationsLimit(!0),Is.a.destroy())}_confirmTCSignup(){const{id:e,subscribeToJobAlert:t,preferences:i}=Ga;return(t()||Object.values(i).length)&&_m.confirmTalentCommunity({candidateId:e(),flowContext:wu.d}),Promise.resolve()}_dumpLogs(){uu.dump(this._getLogMetadata())}_dumpLogsOnError(){uu.dumpOnError(this._getLogMetadata())}_getLogMetadata(){return Object.assign(Lm(),{module:"IRC_CE_APPLY_FLOW",requisitionNumber:this.job.id,draftApplicationId:Ba.id})}async _loadJob(){const e=await Fs.getJob(this.jobId).catch(e=>(console.error(e),{}));this.job=e}_resetScroll(){$s.scrollTo(0)}dispose(){Kd.submit.remove(this._submitHandler),this._unauthorizedSignal&&this._unauthorizedSignal.detach()}}var Bm='\x3c!-- ko if: template --\x3e\n<div aria-live="polite" class="apply-flow__content" data-bind="setBodyScrollTo: { to: 0, when: template }">\n    \x3c!-- ko template: \'apply-flow-summary-\' + template() --\x3e\x3c!-- /ko --\x3e\n</div>\n\x3c!-- /ko --\x3e\n\n<apply-flow-submission-checklist></apply-flow-submission-checklist>\n\n<awli-confirm></awli-confirm>\n';n.components.register("apply-flow-summary",{viewModel:Vm,template:Bm});n.components.register("apply-flow-legal-disclaimer",{viewModel:class{constructor({legalDisclaimer:e,acceptanceCallback:t}){this.legalDisclaimerDescription=e.description,this.acceptanceCallback=t}},template:'<header>\n    <h1\n        class="apply-flow-dialog__header"\n        data-bind="i18n: \'apply-flow.legal-disclaimer.terms-and-conditions\'"\n    ></h1>\n</header>\n\n<section class="apply-flow-dialog__content">\n    <div class="apply-flow-dialog__text apply-flow-dialog__text--no-align">\n        <div class="basic-formatter" data-bind="html: legalDisclaimerDescription"></div>\n    </div>\n    <div class="app-dialog__footer">\n        <div class="app-dialog__buttons-bar font-family-secondary text-color-primary">\n            <button\n                id="applyFlowLegalDisclaimer"\n                class="button app-dialog__footer-button"\n                data-bind="click: acceptanceCallback"\n            >\n                <span\n                    class="button__label"\n                    data-bind="i18n: \'apply-flow.legal-disclaimer.accept-button\'"\n                ></span>\n            </button>\n        </div>\n    </div>\n</section>\n'});class qm{constructor(){this.application=s.a.observable(),this.jobInfo=s.a.observable()}find(e){return(e?sp.getUnconfirmedForJob(e):Ed.getFirstUnconfirmed()).then(e=>this.application(e)).then(()=>this._fetchUnconfirmedApplicationDetails())}_fetchUnconfirmedApplicationDetails(){const e=this.application();return e?Fs.getJob(e.jobId()).then(e=>{const t=[e.title,e.primaryLocation].join(", ");this.jobInfo(t)}):null}confirm(){return Ed.accept(this.application())}remove(){return Ed.remove(this.application())}}n.components.register("existing-submission",{viewModel:class{constructor(){this.template=s.a.observable(),this.unconfirmedApplication=new qm,this.confirmSubmission=()=>this._confirm(),this.removeSubmission=()=>this._remove(),this._checkSubmissions().then(()=>this._resolveTemplate())}_confirm(){this.unconfirmedApplication.confirm().then(()=>this.template("confirmed-submission")).catch(()=>this._handleError())}_remove(){this.unconfirmedApplication.remove().then(()=>this.template("removed-submission")).catch(()=>this._handleError())}_checkSubmissions(){const e=h.a.routeParams();return this.unconfirmedApplication.find(e.jobId)}_resolveTemplate(){this.unconfirmedApplication.application()&&!_o.a.isKnownUnverifiedCandidate()?this.template("unconfirmed-submission"):this.template("already-applied")}_handleError(){this.template(null)}},template:"\x3c!-- ko if: template --\x3e\n\x3c!-- ko template: 'candidate-verification-' + template() --\x3e\x3c!-- /ko --\x3e\n\x3c!-- /ko --\x3e\n"});lt("apply-flow-submission-checklist-steps",'<ul class="checklist__steps" data-bind="foreach: { data: state.stages, as: \'stage\' }">\n    <li\n        class="checklist__step"\n        data-bind="\n            css: {\n                \'checklist__step--done\': stage.status() === \'done\',\n                \'checklist__step--in-progress\': stage.status() === \'in progress\',\n                \'checklist__step--pending\': stage.status() === \'pending\',\n            }\n        "\n    >\n        <span data-bind="text: stage.label"></span>\n\n        <div class="checklist__status" role="presenation">\n            <div class="checklist__spinner-wrapper">\n                <div class="checklist__spinner"></div>\n            </div>\n            <div class="checklist__check"></div>\n            <div class="checklist__dot"></div>\n        </div>\n    </li>\n</ul>\n');n.components.register("dot-spinner",{template:'<span class="dot-spinner">\n    <span class="dot-spinner__dot dot-spinner__dot--first"></span>\n    <span class="dot-spinner__dot dot-spinner__dot--second"></span>\n    <span class="dot-spinner__dot dot-spinner__dot--third"></span>\n</span>\n'});n.components.register("apply-flow-submission-checklist",{viewModel:class{constructor(){this.state=am.state,this.progress=am.getters.progress}},template:'<minimal-dialog params="isVisible: state.showDialog, baseClass: \'apply-flow-checklist-dialog\'" role="alert">\n    <dialog-bar></dialog-bar>\n    <dialog-body>\n        <div class="apply-flow-checklist-dialog__content">\n            <div class="checklist" role="alert">\n                \x3c!-- ko template: \'apply-flow-submission-checklist-steps\' --\x3e\x3c!-- /ko --\x3e\n\n                <div class="checklist__progress theme-color-1">\n                    <oj-progress-bar class="progress-bar" value="{{progress}}"></oj-progress-bar>\n                </div>\n            </div>\n        </div>\n    </dialog-body>\n</minimal-dialog>\n'});n.components.register("apply-flow-accessibility-messages",{viewModel:class{constructor(){this.alertMessage=s.a.observable(),this.messages=s.a.observableArray(),Cp.addAlert.add(e=>{this.alertMessage(e)}),Cp.addMessage.add(e=>{this.messages.push(e)}),Cp.removeMessage.add(this._removeFirst.bind(this))}_removeFirst(e){let t=!1;this.messages.remove(i=>{const n=i===e&&!t;return n&&(t=!0),n})}dispose(){Cp.addMessage.removeAll(),Cp.removeMessage.removeAll()}},template:'<div\n    aria-live="polite"\n    aria-relevant="additions removals"\n    class="oj-helper-hidden-accessible"\n    data-bind="foreach: { data: messages, as: \'message\' }"\n>\n    <span data-bind="text: message"></span>\n</div>\n\n<div role="alert" class="oj-helper-hidden-accessible" data-bind="text: alertMessage"></div>\n'});n.components.register("agreement-dialog",{viewModel:class{constructor({isVisible:e,model:t,headerText:i,resetFocus:n}){this.isVisible=e,this.model=t,this.headerText=i,this.resetFocus=n,this.backLabel=Object(l.a)("general.previous-button")}accept(){this.model.accept(),this.isVisible(!1)}show(){this.isVisible(!0)}hide(){this.isVisible(!1)}},template:'<minimal-dialog params="isVisible: isVisible">\n    <dialog-body>\n        <div class="app-dialog__header">\n            <h1 class="heading" data-bind="text: headerText"></h1>\n        </div>\n\n        <div\n            class="app-dialog__content basic-formatter"\n            data-bind="html: model.description"\n            aria-live="polite"\n            tabindex="0"\n        ></div>\n\n        <div class="app-dialog__footer">\n            <div class="app-dialog__buttons-bar font-family-secondary text-color-primary">\n                <button class="button app-dialog__footer-button" data-bind="click: accept, hasFocus: true">\n                    <span\n                        class="button__label"\n                        data-bind="i18n: \'apply-flow.legal-disclaimer.accept-button\'"\n                    ></span>\n                </button>\n            </div>\n        </div>\n    </dialog-body>\n</minimal-dialog>\n'});n.components.register("legal-disclaimer",{viewModel:class{constructor({legalDisclaimer:e,legalDisclaimerForm:t}){this.legalDisclaimer=e(),this.isDialogVisible=s.a.observable(!1),this.dialogHeaderText=Object(l.a)("apply-flow.legal-disclaimer.terms-and-conditions"),this.form=t,this.showError=s.a.pureComputed(()=>!this.form().isValid())}toggleAccepted(){const{legalDisclaimer:e}=this;return e.isAccepted()?e.decline():e.accept()}openDialog(){this.isDialogVisible(!0)}},template:'<div\n    class="input-row"\n    aria-labelledby="agreements-checkbox-label"\n    data-bind="css: {\'input-row--invalid\': showError}"\n>\n    <input\n        type="checkbox"\n        class="input-row__hidden-control"\n        id="legal-disclaimer-checkbox"\n        data-bind="checked: legalDisclaimer.isAccepted"\n        aria-labelledby="legal-disclaimer-checkbox-label"\n    />\n\n    <div\n        class="apply-flow-input-checkbox apply-flow-input-checkbox--focus-enabled"\n        id="legal-disclaimer-checkbox-label"\n    >\n        <span\n            class="apply-flow-input-checkbox__button"\n            data-bind="click: toggleAccepted, css: {\'apply-flow-input-checkbox__button--checked\': legalDisclaimer.isAccepted}"\n        ></span>\n        <span class="apply-flow-input-checkbox__label apply-flow-input-checkbox__label--required">\n            <i18n params="key: \'apply-flow.legal-disclaimer.i-agree-with-terms-and-conditions\'">\n                <a\n                    id="legal-disclaimer-link"\n                    data-i18n-token="open_dialog_link"\n                    href="#"\n                    class="agreements-label-text-link"\n                    data-bind="click: $parent.openDialog.bind($parent)"\n                ></a>\n            </i18n>\n        </span>\n    </div>\n\n    \x3c!-- ko if: showError --\x3e\n    <p\n        class="input-row__validation"\n        role="alert"\n        aria-live="assertive"\n        data-bind="i18n: \'validators.field-terms-and-conditions-required\'"\n    ></p>\n    \x3c!-- /ko --\x3e\n</div>\n\n<agreement-dialog\n    params="model: legalDisclaimer, isVisible: isDialogVisible, headerText: dialogHeaderText, resetFocus: \'#legal-disclaimer-link\'"\n></agreement-dialog>\n'});n.components.register("opt-in",{viewModel:class{constructor({optIn:e,candidateNumber:t,savePreferencesFlag:i}){this.optIn=e(),this.isDialogVisible=Object(n.observable)(!1),this.dialogHeaderText=Object(l.a)("apply-flow.opt-in.dialog-header"),this.preferencesLoaded=Object(n.observable)(),this.candidateNumber=t,this.savePreferencesFlag=i,this.isAcceptedSubscription=null,this._loadPreferences().then(this._setPreferences.bind(this)).catch(console.error)}openDialog(){this.isDialogVisible(!0)}toggleAccepted(e){const{optIn:t}=this;e?t.accept():t.decline()}_saveCandidatePreferences(){this.savePreferencesFlag&&_m.saveCSSOptInEmailAlert({candidateId:this.candidateNumber(),optInEmailFlag:Ga.preferences.optIn(),flowContext:wu.h[wu.b]})}_loadPreferences(){if(Oh())return Promise.resolve();const e=Is.a.get();return e.candidateNumber?_m.getPreferences(e.candidateNumber):this._createOptInPreferences()}_createOptInPreferences(){return Promise.resolve({optIn:!1})}_setPreferences(e){e&&this._setOptIn(e);const{isAccepted:t}=this.optIn;this.isAcceptedSubscription=null==t?void 0:t.subscribe(e=>{this.toggleAccepted(e),this._saveCandidatePreferences()}),this.preferencesLoaded(!0)}_setOptIn(e){e.optIn||(e.optIn=!1),this.optIn.set(e)}dispose(){this.isAcceptedSubscription&&(this.isAcceptedSubscription.dispose(),this.isAcceptedSubscription=null)}},template:'\x3c!-- ko if: preferencesLoaded --\x3e\n<div class="input-row" aria-labelledby="agreements-checkbox-label">\n    <label class="apply-flow-input-checkbox" id="opt-in-checkbox-label">\n        <input\n            type="checkbox"\n            class="input-row__hidden-control"\n            data-bind="checked: optIn.isAccepted"\n            aria-labelledby="opt-in-checkbox-label"\n        />\n        <span\n            class="apply-flow-input-checkbox__button apply-flow-input-checkbox--focus-enabled"\n            data-bind="css: {\'apply-flow-input-checkbox__button--checked\': optIn.isAccepted}"\n        ></span>\n        <span class="apply-flow-input-checkbox__label apply-flow-input-checkbox--focus-enabled">\n            <span class="agreements-label-text">\n                \x3c!-- ko if: optIn.hasDescription() --\x3e\n                <i18n params="key: \'apply-flow.opt-in.i-agree\'">\n                    <a\n                        data-i18n-token="open_dialog_link"\n                        id="opt-in-link"\n                        href="#"\n                        class="agreements-label-text-link"\n                        data-bind="click: $parent.openDialog.bind($parent), clickBubble: false"\n                    ></a>\n                </i18n>\n                \x3c!-- /ko --\x3e\n\n                \x3c!-- ko ifnot: optIn.hasDescription() --\x3e\n                <i18n params="key: \'apply-flow.opt-in.i-agree\'">\n                    <span data-i18n-token="open_dialog_link"></span>\n                </i18n>\n                \x3c!-- /ko --\x3e\n            </span>\n        </span>\n    </label>\n</div>\n\n<agreement-dialog\n    params="model: optIn, isVisible: isDialogVisible, headerText: dialogHeaderText, resetFocus: \'#opt-in-link\'"\n></agreement-dialog>\n\x3c!-- /ko --\x3e\n'});var Um={isMarketingOptedIn:e=>e.optIn,isJobAlertsOptedIn(e){const t=e.siteTCPreferences||[],[i]=t.filter(e=>e.siteNumber===c.a.siteNumber);return Boolean(null==i?void 0:i.jobAlertsEnabled)}};n.components.register("job-alerts-opt-in",{viewModel:class{constructor(){this.isCheckboxVisible=Object(n.observable)(!1),this._getCandidateJobAlertsPreferences(),this.isChecked=Ga.subscribeToJobAlert}_getCandidateNumber(){let{candidateNumber:e}=Is.a.get();return e||(e=_o.a.getUnverifiedCandidateId()),e}_getCandidateJobAlertsPreferences(){const e=this._getCandidateNumber();e?_m.getPreferences(e).then(e=>{this._setCheckboxVisibility(e),this._setCandidateHasEmptySitePreferences(e)}):(this.isCheckboxVisible(!0),Ga.hasEmptySitePreferences(!0))}_setCheckboxVisibility(e){e.candidateId&&Um.isJobAlertsOptedIn(e)||this.isCheckboxVisible(!0)}_setCandidateHasEmptySitePreferences(e){if(Object.keys(e).length){e.siteTCPreferences.filter(e=>e.siteNumber===c.a.siteNumber).shift()||Ga.hasEmptySitePreferences(!0)}else Ga.hasEmptySitePreferences(!0)}},template:'\x3c!-- ko if: isCheckboxVisible --\x3e\n<div class="input-row">\n    <input\n        type="checkbox"\n        class="input-row__hidden-control"\n        id="job-alerts-checkbox"\n        data-bind="checked: isChecked"\n    />\n\n    <label\n        class="apply-flow-input-checkbox apply-flow-input-checkbox--focus-enabled"\n        for="job-alerts-checkbox"\n    >\n        <span class="apply-flow-input-checkbox__button"></span>\n        <span\n            class="apply-flow-input-checkbox__label"\n            data-bind="i18n: \'talent-community.job-alerts-opt-in-label\'"\n        ></span>\n    </label>\n</div>\n\x3c!--/ko--\x3e\n'});var Hm={query:e=>K.get("/recruitingCEApplyFlows?finder=findTalentCommunityApplyFlow;FlowTypeCode=ORA_TALENT&expand=sections.pages.blocks,requisitionFlexFields&onlyData=true").then(hd.mapFlowFromRest.bind(hd)).then(t=>e?e.mapFlowFromRest(t):t).then(fd.set),shouldShowMoreFieldsSectionBeExpanded:e=>e.some(e=>kp.hasRequiredElement(e.number))};n.components.register("agreements",{viewModel:class{constructor({section:e,blockId:t,flow:i}){this.section=e,this.blockId=t,this.flow=Object(n.observable)(i),this.isOptInVisible=Object(n.observable)(!0),this.isOptInJobAlertVisible=Object(n.observable)(!0),this.isBlockVisible=Object(n.pureComputed)(()=>{const e=i.optIn.isEnabled&&this.isOptInVisible(),t=i.jobAlertsEnabled&&this.isOptInJobAlertVisible();return e||t}),this._loadPreferences().then(this._setBlockIsReady.bind(this)).catch(console.error)}_loadPreferences(){const e=Is.a.get();return e.candidateNumber?_m.getPreferences(e.candidateNumber).then(this._setOptInsVisibility.bind(this)):Promise.resolve({optIn:!1})}_setOptInsVisibility(e){this.isOptInVisible(!Um.isMarketingOptedIn(e)),this.isOptInJobAlertVisible(!Um.isJobAlertsOptedIn(e))}_getFlowPromise(){return-1!==h.a.route().id.indexOf("apply-flow")?fd.query(h.a.routeParams().jobId):Ip.a.isPostApply()?fd.querySecondary(h.a.routeParams().submissionId):Hm.query()}_setBlockIsReady(){_p.setBlockReady(this.section.number,this.blockId)}},template:'\x3c!-- ko if: flow --\x3e\n\x3c!-- ko if: isBlockVisible --\x3e\n<div class="apply-flow-block__component">\n    \x3c!-- ko if: flow().jobAlertsEnabled --\x3e\n    <job-alerts-opt-in class="apply-flow-agreements__row"></job-alerts-opt-in>\n    \x3c!-- /ko --\x3e\n\n    \x3c!-- ko if: flow().optIn.isEnabled && isOptInVisible --\x3e\n    <opt-in class="apply-flow-agreements__row" params="optIn: flow().optIn"></opt-in>\n    \x3c!-- /ko --\x3e\n</div>\n\x3c!-- /ko --\x3e\n\x3c!-- /ko --\x3e\n'}),Bc.registerBlock("ORA_AGREEMENTS",{component:"agreements"});var $m=Object.create(at,{createForm:{value(e,t){const i=e.map((e,i)=>this._createLinkFormElement({linkedSite:e,linkNumber:i+1,config:t})),n=at.createForm().bindComponent("candidate-links");return n.elements(i),n}},_createLinkFormElement:{value({linkedSite:e,linkNumber:t,config:i}){const n=`${i.label} ${t}`,s=nt.create("siteLink",`${i.name}-${t}`);return s.label(n),s.attributes("id","url-"+t),s.isRemovable(t>1),i.required&&1===t&&s.validators("required",{label:i.label}),s.registerModel(e),s}}});class Jm{constructor(e){this.sectionNumber=e.section.number,this.code=e.code,this.section=e.section,this.blockId=e.blockId,this.form=s.a.observable()}_registerForm(){kp.registerForm(this.form,this.sectionNumber)}_unregisterForm(){kp.unregisterForm(this.form,this.sectionNumber)}_setBlockReady(){_p.setBlockReady(this.sectionNumber,this.blockId)}_setBlockUnready(){_p.setBlockUnready(this.sectionNumber,this.blockId)}}const zm=Object(l.a)("apply-flow.section-more-about-you.site-link-url-label");n.components.register("candidate-links",{viewModel:class extends Jm{constructor(e){super(e),this.linksRequired=e.linksRequired,this.linkedSites=Ga.linkedSites,this.isLimitReached=Object(n.pureComputed)(()=>3===this.linkedSites().length),this._linkedSitesSubscription=this.linkedSites.subscribe(this._renderForm.bind(this)),this._submitFailureEventHandler=Kd.refresh.add(this._getCandidateSiteLinks.bind(this)),this._ensureHavingLinkAfterProfileImport=Kd.profileImportSucceed.add(this._addEmptyLinkIfNoLinks.bind(this)),this._getCandidateSiteLinks().then(this._renderForm.bind(this)).then(this._addAccessibilityMessages.bind(this)),this.lastLinkInputSelector=".candidate-links__link:last-of-type input"}addLink(){this.linkedSites.push(new fa),Cp.addMessage.dispatch(zm)}removeLink(e){this.linkedSites.remove(e),Cp.removeMessage.dispatch(zm)}dispose(){this._linkedSitesSubscription.dispose(),this._submitFailureEventHandler.detach(),this._ensureHavingLinkAfterProfileImport.detach()}async _getCandidateSiteLinks(){const e=Kp.unshiftAll("links"),t=Kp.unshiftAll("links.deleted");e.length&&Ga.linkedSites(e),t.length&&Ga.linkedSites.pushRemovedItems(t),Ga.id()&&await zh.query(Ga.id(),!0).catch(e=>console.error(e)).then(e=>{(null==e?void 0:e.linkedSites)&&this._initializeSiteLinks(e)}),this._addEmptyLinkIfNoLinks()}_addEmptyLinkIfNoLinks(){Boolean(this.linkedSites().length)||this.linkedSites.push(new fa)}_initializeSiteLinks({linkedSites:e}){e.forEach(e=>{const t=({id:t})=>t()===e.id(),i=Ga.linkedSites().find(t),n=Ga.linkedSites.getRemovedItems().find(t);i||n||Ga.linkedSites.push(e)})}_renderForm(){const e=this._createForm();this._unregisterForm(),this.form(null),this.form(e),this._registerForm()}_createForm(){return $m.createForm(this.linkedSites(),{label:zm,name:"siteLink",required:this.linksRequired})}_addAccessibilityMessages(){this.linkedSites().slice(1).forEach(()=>Cp.addMessage.dispatch(zm))}},template:'<div class="candidate-links">\n    \x3c!-- ko if: form --\x3e\n    <form-builder params="form: form"></form-builder>\n    \x3c!-- /ko --\x3e\n\n    <button\n        type="button"\n        class="candidate-links__add-link theme-color-1"\n        data-bind="\n            css: { \'candidate-links__add-link--hidden\': isLimitReached },\n            a11y.setFocusOnClick: { focusOn: lastLinkInputSelector, delay: 100},\n            click: addLink"\n    >\n        <span data-bind="i18n: \'apply-flow.section-more-about-you.site-link-add-another-link\'"></span>\n    </button>\n</div>\n'}),Bc.registerBlock("ORA_LINKS",{component:"candidate-links"});const Wm=/<\w+>/i;var Km={mapFormElementFromRest(e,t,i){const n=e||{},s=t||{};if(!n.dictionary)return Promise.resolve(s);s.dictionary=n.dictionary,s.options=[],function(e){const t=e.dictionary.match(Wm);if(!t)return;const[i]=t,n=i.slice(1,i.length-1);var s;e.dependencyField={attributeName:n,name:(s=n,s[0].toLowerCase()+s.substr(1)),placeholder:i}}(s);const a=function(e,t){let i=e.dictionary;if(e.dependencyField){const n=t.filter(t=>t.attributeName===e.dependencyField.attributeName).pop()||{defaultValue:""};if(null==n.defaultValue)return null;i=i.replace(e.dependencyField.placeholder,n.defaultValue)}return i}(s,i);return function(e,t){return Boolean(e)&&"stateProvinceCode"!==t.name}(a,s)?function(e){return se.getByUrl(e)}(a).then(e=>(s.options=e,function(e,t){const i=t.length>=500,n=e.dictionary.includes("recruitingCEExtraInformationDictionary");if(i&&!n){const[{lookupCodeKey:i,meaningKey:n}]=t;e.type="search",e.optionsKeys={value:i,label:n}}}(s,e),s)).catch(e=>(function(e){e&&console.error(e)}(e),s)):Promise.resolve(s)}};function Gm(e){const t=new Date(e),i=function(e){const t=e.getDate();return String(t).padStart(2,"0")}(t),n=function(e){const t=e.getMonth()+1;return String(t).padStart(2,"0")}(t);return`${t.getFullYear()}-${n}-${i}`}const Ym={BOOLEAN:"checkbox",DATE:"date",NUMBER:"integer",DECIMAL:"decimal",TEXTAREA:"textarea",CLOB:"clob"};function Qm(e,t){return e.displaySequence-t.displaySequence}var Zm={getFormElementType:e=>Ym[e]||"text",mapFormElementsFromRest(e){const t=e.items.sort(Qm);return Promise.all(t.map(e=>this.mapFormElementFromRest(e,t)))},mapFormElementFromRest(e,t){const i=e,{type:n}=i;i.type=i.maximumLength>240?"TEXTAREA":i.type,i.defaultValue=function(e){const{type:t,defaultValue:i}=e;if(i){if("NUMBER"===t)return Number(i);if("DATE"===t)return Gm(i)}return i}(i);const s={type:this.getFormElementType(i.type),datatype:n,name:$.a.toCamelCase(i.attributeName),label:i.prompt,defaultValue:i.defaultValue,value:i.defaultValue,isHidden:i.uihiddenFlag,keyFlag:i.keyFlag,attributes:{readonly:i.readonlyFlag,required:i.requiredFlag},validators:{},options:i.answers,sectionId:i.sectionId};return i.dictionary&&(s.withEmptyOption="checkbox"!==s.type,s.type="select"),i.requiredFlag&&(s.validators.required={label:i.prompt}),i.maximumLength&&(s.validators.maxLength={max:i.maximumLength}),Km.mapFormElementFromRest(i,s,t)}},Xm=Object.create(Zm,{getFormElementType:{value:e=>"DATE"===e?"monthpicker":Zm.getFormElementType(e)}}),eb={getMapper:e=>106===e||129===e?Xm:Zm};const tb={[oo]:"Licenses and Certifications",[ro]:"Education",[lo]:"Languages",[uo]:"Work Experience",[po]:"Skill"};class ib{constructor(e,t,i,n=!1){this._serviceUrl=e,this._contentTypeId=t,this._sectionId=i,this._filterHiddenFields=n}getFormElements(){const e=eb.getMapper(this._contentTypeId),{flowVersionId:t}=fd.get(),i=this._serviceUrl.replace("<SECTION_ID>",this._sectionId).replace("<FLOW_VERSION_ID>",t),n=K.get(i,{retry:2}).then(e.mapFormElementsFromRest.bind(e));return this._filterHiddenFields?n.then(this.filterHiddenFields.bind(this)):n}isMultiProfileItemSupported(e){return e in tb}filterHiddenFields(e){return eh.set(this._sectionId,this._contentTypeId,e),e}}n.components.register("education-form",{viewModel:class{constructor(e){this.form=e.form,this.institutions=s.a.observableArray(),this.levels=s.a.observableArray(),se.get(se.CODES.educationLevels).then(e=>{this.levels(e.map(e=>({levelId:""+e.levelId,name:e.name})))})}},template:'<form-builder params="form: form"></form-builder>\n'}),s.a.extenders.isoStringToDate=function(e){return s.a.pureComputed({read(){const t=e();try{return t?ue.a.IntlConverterUtils.isoToLocalDate(t):t}catch(e){return null}},write(t){e(t)}})};n.components.register("degrees",{viewModel:class{constructor(e){this.educationViewModelsParams=s.a.utils.extend(Object.create(e),{requiredError:"apply-flow.profile-item.required-education-label"})}},template:"<article\n    data-bind=\"component: {\n            name: 'mandatory-profile-items',\n            params: educationViewModelsParams\n         }\"\n></article>\n"}),Bc.registerBlock("ORA_EDUCATION",{component:"degrees",repository:ib,requireBlockProperties:!0});const nb={TextArea:"textarea",TextBox:"textarea",RichTextArea:"textarea",Checkbox:"checkbox",SingleChoiceList:"select",SingleChoiceRadio:"radio",MultipleChoiceCheck:"multiselect",DatePicker:"date",Integer:"integer",Decimal:"decimal",MultipleChoiceList:"multiselectlist",NoResponse:"noresponse"};var sb={mapFormElementsFromRest(e){const t=e.items.map(this.mapFormElementFromRest);var i;return function e(t){return t.reduce((t,i)=>[...t,i,...e(i.conditionedQuestions)],[])}(((i=t).forEach(e=>{e.conditionedQuestions=i.filter(({conditioningQuestionId:t})=>t===e.name)}),i.filter(({conditioningQuestionId:e})=>!e)))},mapFormElementFromRest(e){var t;const i={type:(n=e.uidisplayType,nb[n]||"text"),name:e.attributeName,label:null===(t=e.prompt)||void 0===t?void 0:t.trim(),defaultValue:e.defaultValue,value:e.defaultValue,attributes:{readonly:e.readonlyFlag,required:e.requiredFlag},validators:{},options:e.answers,isHidden:"Y"===e.conditionDisplay,conditioningQuestionId:e.conditionQuestionId,conditioningAnswerId:e.conditionAnswerId,conditionedQuestions:[],questionnaireId:e.questionnaireId,questionnaireVersionNumber:e.qstnrVersionNumber};var n;return e.requiredFlag&&(i.validators.required={}),e.minimumLength&&(i.validators.minLength={min:e.minimumLength}),e.maximumLength&&(i.validators.maxLength={max:e.maximumLength}),e.minimumSelections&&(i.validators.minSelection={minSelection:e.minimumSelections}),e.maximumSelections&&(i.validators.maxSelection={maxSelection:e.maximumSelections}),e.minimumDate&&(i.validators.minDate={min:e.minimumDate,inclusive:!0}),e.maximumDate&&(i.validators.maxDate={max:e.maximumDate,inclusive:!0}),i}};class ab{constructor(e){this._serviceUrl=e}getFormElements(e){const t=this._prepareServiceUrl(e);return K.get(t,{statusCodes:{404:()=>Promise.resolve({items:[]})}}).then(sb.mapFormElementsFromRest.bind(sb))}_prepareServiceUrl({requisitionNumber:e,questionnaireId:t,questionnaireVersionNumber:i}){return this._serviceUrl.replace("<REQ_NUM>",`%22${hp.a.encodeQueryParams(e)}%22`).replace("<QUEST_ID>",t).replace("<QUEST_VER_NUM>",i)}isEmpty(e){const t=h.a.routeParams().jobId,{questionnaireId:i,questionnaireVersionNumber:n}=Yc.getBlockProperties(e),s={requisitionNumber:t,questionnaireId:i,questionnaireVersionNumber:n},a=e.blockCode===Pc;return i&&n||!a?this.getFormElements(s).then(e=>!e.length):Promise.resolve(!0)}}const ob={"textarea-form-element":Ic,"checkbox-form-element":"single-choice","select-form-element":"single-choice","radio-form-element":"single-choice","multiselect-form-element":"multiple-choice","multiselectlist-form-element":"multiple-choice","date-form-element":Ic,"integer-form-element":Ic,"decimal-form-element":Ic,"noresponse-form-element":"none"};class rb extends Jm{constructor(e){super(e);const{questionnaireId:t,questionnaireVersionNumber:i}=e.blockProperties,s=h.a.routeParams().jobId;this.existingQuestionnaireModel=function(e,t){const i=Ga.questionnaires().find(({questionnaireId:i,blockCode:n})=>e?String(i())===String(e):n()===t);return i&&i.questionnaireId(e),i}(t,e.code),this.noQuestions=Object(n.observable)(),this.conditioningQuestions=[],this.conditioningSubscriptions=[],this.questionnaire=this.existingQuestionnaireModel||new Fa({blockCode:e.code,readWriteServiceUrl:e.readWriteServiceUrl,requisitionNumber:s,questionnaireId:t,questionnaireVersionNumber:i});const a={requisitionNumber:s,questionnaireId:t,questionnaireVersionNumber:i};new ab(e.metadataServiceUrl).getFormElements(a).then(this._setConditioningQuestions.bind(this)).then(this._createQuestions.bind(this)).then(this._saveQuestionnaireInModel.bind(this)).then(this._createForm.bind(this)).then(this._registerForm.bind(this)).then(this._supplementConditioningQuestions.bind(this)).then(this._computeConditionedQuestionsVisibilityOnInit.bind(this)).then(this._subscribeToConditioningQuestions.bind(this)).then(this._setBlockReady.bind(this)).catch(e=>console.error(e))}_createQuestions(e){if(this.noQuestions(!e.length),!this.noQuestions()){const[{questionnaireId:t,questionnaireVersionNumber:i}]=e;this.questionnaire.questionnaireId=t,this.questionnaire.questionnaireVersionNumber=i}return e.map(e=>at.createFormElement(e)).map(e=>{const t=this._getQuestion(e.name())||this._createQuestion(e.name(),e.isHidden());var i;return t.bindFormElementVisibility(e.isHidden),t.type=(i=e.component(),ob[i]||Ic),e.registerModel(t.answer)})}_getQuestion(e){return this.questionnaire.questions().find(t=>t.questionId()===e)}_createQuestion(e,t){const i=new ja({questionId:e,isHidden:t});return this.questionnaire.questions.push(i),i}_setConditioningQuestions(e){return this.conditioningQuestions=e.filter(({conditionedQuestions:e})=>e.length),e}_supplementConditioningQuestions(){this.conditioningQuestions.forEach(e=>{e.conditionedQuestions.forEach(e=>{e.element=this.form().getElement(e.name)}),e.questionModel=this._getQuestion(e.name)})}_computeConditionedQuestionsVisibilityOnInit(){this.conditioningQuestions.filter(({questionModel:{answer:e,isHidden:t}})=>e()&&!t()).forEach(({conditionedQuestions:e,questionModel:{answer:t}})=>this._setConditionedQuestionsVisibility(e,t()))}_subscribeToConditioningQuestions(){this.conditioningSubscriptions=this.conditioningQuestions.map(e=>e.questionModel.answer.subscribe(t=>this._setConditionedQuestionsVisibility(e.conditionedQuestions,t)))}_setConditionedQuestionsVisibility(e,t,i=!1){e.forEach(({questionModel:e,element:n,conditionedQuestions:s,conditioningAnswerId:a})=>{const o=t===a,r=Array.isArray(t)&&-1!==t.indexOf(a),l=i||!o&&!r;n.isHidden(l),s.length&&this._setConditionedQuestionsVisibility(s,e.answer(),l)})}_saveQuestionnaireInModel(e){return this.existingQuestionnaireModel||Ga.questionnaires.push(this.questionnaire),e}_createForm(e){const t=at.createForm().elements(e);return this.form(t),t}dispose(){this.conditioningSubscriptions.forEach(e=>e.dispose())}}var lb='\x3c!-- ko if: form --\x3e\n<form-builder params="form: form()"></form-builder>\n\x3c!-- ko if: noQuestions --\x3e\n<p class="apply-flow-block__instructions apply-flow-block__instructions--empty">\n    <span\n        data-bind="i18n: \'apply-flow.section-more-about-you.no-disqualification-questions-instruction\'"\n    ></span>\n    <span\n        data-bind="i18n: \'apply-flow.section-more-about-you.no-disqualification-questions-move-forward\'"\n    ></span>\n</p>\n\x3c!-- /ko --\x3e\n\x3c!-- /ko --\x3e\n';n.components.register(Ac,{viewModel:rb,template:lb}),Bc.registerBlock(Oc,{component:Ac,repository:ab}),n.components.register(Tc,{viewModel:rb,template:lb}),Bc.registerBlock(Pc,{component:Tc,repository:ab});var cb={blockCode:"ORA_DIVERSITY",componentName:"diversity"},db={blockCode:"ORA_VETERAN",componentName:"veteran"},ub={blockCode:"ORA_DISABILITY",componentName:"disability"};class pb{constructor(e){this._serviceUrl=e.replace("<BLOCK_CODE>",this.getBlockCode())}getBlockCode(){throw new Error("not implemented")}getServiceConfig(){return{}}_callService(e){const t=this._serviceUrl.replace("<REQ_NUM>",`%22${hp.a.encodeQueryParams(e)}%22`);return K.get(t,Object.assign({statusCodes:{404:()=>Promise.resolve({items:[]})}},this.getServiceConfig())).then(wh.reformatFormElementsFromRest.bind(wh)).then(wh.mapFormElementsFromRest.bind(wh))}getFormElements(e){return this._callService(e).then(e=>e.shift())}isEmpty(){const e=h.a.routeParams().jobId;return this._callService(e).then(e=>!e.length)}}class hb extends pb{getBlockCode(){return cb.blockCode}}class mb extends Jm{constructor(e,t){super(e);const i=h.a.routeParams().jobId;this.displayBlock=s.a.observable(!1),this.legislations=s.a.observableArray(),this.baseReportHeader=s.a.observable(""),this.reportHeader=s.a.computed(()=>this.baseReportHeader().replace("&amp;DISPLAY_NAME",this._getCandidateFullName())),t.getFormElements(i).then(this._createModels.bind(this)).then(this._setBlockReady.bind(this))}_createModels(e){const t=[];return e.legislations.forEach(e=>{const{header:i,footer:n,legislationCode:a,legislationName:o}=e;"US"===a&&(this.displayBlock(!0),i&&i.trim()&&this.baseReportHeader(i.replace("&amp;DATE",(new Date).toLocaleDateString("en-US"))));const r=e.formElementsDef.map(e=>at.createFormElement(e)).map(e=>e.registerModel(this._getResponseModel(e.name()).value));r.forEach(e=>{const t=e.component();if("text-form-element"===t||"textarea-form-element"===t){const t=qe.create("notIncludes",{substring:"&&"}),i=qe.create("notIncludes",{substring:"||"});e.addValidator(t),e.addValidator(i)}});const l=at.createForm().elements(r),c=s.a.observable(l);t.push({code:a,name:o,hasReport:"US"===a,header:i,footer:n,form:c}),kp.registerForm(c,this.sectionNumber)}),this.legislations(t)}_getCandidateFullName(){const{basicInformation:e}=Ga,{lastName:t,firstName:i,middleNames:n,suffix:s}=o.a.toJS(e);return[i,n,t,s].filter(Boolean).join(" ").replace(/</g,"&lt;").replace(/>/g,"&gt;")}_getResponseModel(e){let t=s.a.utils.arrayFirst(Ga.regulatoryResponses(),t=>t&&t.id()===e);return t||(t=new Da({id:e}),Ga.regulatoryResponses.push(t)),t}}n.components.register(cb.componentName,{viewModel:class extends mb{constructor(e){super(e,new hb(e.metadataServiceUrl))}},template:'<div data-bind="foreach: legislations">\n    \x3c!--ko if: form --\x3e\n    \x3c!--ko if: $parent.legislations().length > 1 --\x3e\n    <div class="apply-flow-block__header">\n        <h2 class="diversity-country-title input-row__label">\n            <span data-bind="i18n: \'apply-flow.section-personal-information.country-label\'"></span>\n            <span data-bind="text: \': \' + name"></span>\n        </h2>\n    </div>\n    \x3c!-- /ko --\x3e\n    <div class="regulatory-disability" data-bind="html: header"></div>\n    <form-builder params="form: form()"></form-builder>\n    <div class="regulatory-disability-footer" data-bind="html: footer"></div>\n    \x3c!-- /ko --\x3e\n</div>\n'}),Bc.registerBlock(cb.blockCode,{component:cb.componentName,repository:hb});class bb extends pb{getBlockCode(){return db.blockCode}}n.components.register(db.componentName,{viewModel:class extends mb{constructor(e){super(e,new bb(e.metadataServiceUrl))}},template:'\x3c!--ko if: legislations().length > 0 && displayBlock()--\x3e\n<div data-bind="foreach: legislations">\n    \x3c!--ko if: form --\x3e\n    <form-builder params="form: form()"></form-builder>\n    \x3c!-- /ko --\x3e\n</div>\n\x3c!-- /ko --\x3e\n'}),Bc.registerBlock(db.blockCode,{component:db.componentName,repository:bb});class fb extends pb{getBlockCode(){return ub.blockCode}getServiceConfig(){return{baseUrl:c.a.uiBaseUrl+"/CandidateExperience/ircRestAuthApi"}}}n.components.register(ub.componentName,{viewModel:class extends mb{constructor(e){super(e,new fb(e.metadataServiceUrl))}},template:'<div data-bind="foreach: legislations">\n    \x3c!--ko if: form --\x3e\n    \x3c!--ko if: $parent.legislations().length > 1 --\x3e\n    <div class="apply-flow-block__header">\n        <h2 class="diversity-country-title input-row__label">\n            <span data-bind="i18n: \'apply-flow.section-personal-information.country-label\'"></span>\n            <span data-bind="text: \': \' + name"></span>\n        </h2>\n    </div>\n    \x3c!-- /ko --\x3e\n    \x3c!--ko if: hasReport --\x3e\n    <div class="regulatory-disability" data-bind="html: $parent.reportHeader"></div>\n    \x3c!-- /ko --\x3e\n    <form-builder params="form: form()"></form-builder>\n    \x3c!--ko if: hasReport --\x3e\n    <div class="regulatory-disability-footer" data-bind="html: footer"></div>\n    \x3c!-- /ko --\x3e\n    \x3c!-- /ko --\x3e\n</div>\n'}),Bc.registerBlock(ub.blockCode,{component:ub.componentName,repository:fb}),n.bindingHandlers.setFocusWhenInvalid={init(e){const t=Kd.invalidESignature.add((function(){e.querySelector('[name="fullName"]').focus()}));n.utils.domNodeDisposal.addDisposeCallback(e,()=>{t.detach()})}},n.bindingHandlers.hasScrollbar={update(e,t){const{resultTo:i,isActive:n}=t();n()&&i(e.scrollHeight>e.clientHeight)}};n.components.register("text-truncate",{viewModel:class extends class{constructor({text:e,minTextLength:t,isSectionActive:i}){this.text=e,this.worthTruncate=e.length>t,this.isTruncated=s.a.observable(this.worthTruncate),this.isSectionActive=i,this.buttonLabel=s.a.pureComputed(()=>this.isTruncated()?Object(l.a)("general.show-more"):Object(l.a)("general.show-less"))}toggle(){this.isTruncated(!this.isTruncated())}}{constructor(...e){super(...e),this.worthTruncate=s.a.observable(),this.isTruncated=s.a.observable(!0),this.isCollapsible=s.a.pureComputed(()=>this.worthTruncate()&&this.isSectionActive()),this.isCollapsed=s.a.pureComputed(()=>this.worthTruncate()&&this.isTruncated())}},template:'<div\n    class="text-truncate"\n    data-bind="\n        css: {\n            \'text-truncate--collapsible\': isCollapsible(),\n            \'text-truncate--collapsed\': isCollapsed()\n        }\n    "\n>\n    <div\n        class="text-truncate__content basic-formatter"\n        data-bind="html: text, hasScrollbar: { resultTo: worthTruncate, isActive: isSectionActive }, a11y.setTabIndex: { isTruncated: isCollapsed }"\n    ></div>\n\n    \x3c!-- ko if: worthTruncate --\x3e\n    <div class="text-truncate__footer">\n        \x3c!-- ko if: isTruncated --\x3e\n        <div class="text-truncate__more-indicator text-color-secondary">\n            <div class="text-truncate__shade"></div>\n        </div>\n        \x3c!-- /ko --\x3e\n\n        <button\n            aria-hidden="true"\n            type="button"\n            class="text-truncate__toggle theme-color-1"\n            data-bind="\n                click: toggle, \n                text: buttonLabel\n            "\n        ></button>\n    </div>\n    \x3c!-- /ko --\x3e\n</div>\n'});const gb=/\s+/;class vb extends pe{constructor(...e){super(...e),this._message="apply-flow.e-signature.validation.description"}setInvalid(){this._isValid=!1}_validate(e,t){const{lastName:i}=o.a.toJS(t);if(!i||!e)return!0;const n=i.toLowerCase().split(gb);return e.toLowerCase().split(gb).some(e=>n.includes(e))}}var _b=Object.create(at,{createForm:{value(e){const t=at.createForm();return t.elements(this._createNameFormElement(e)),t}},_createNameFormElement:{value({eSignature:e,candidate:t}){const i=nt.create("text","fullName"),n=new vb({lastName:t.basicInformation.lastName}),s=Object(l.a)("apply-flow.section-personal-information.fullname-label");return i.registerModel(e.fullName).label(Object(l.a)("apply-flow.section-personal-information.fullname-label")).attributes("autocomplete","off"),i.addValidator("required",{label:s}),i.addValidator("maxLength",{max:240}),i.addValidator(n),this._invalidESignatureSignal=Kd.invalidESignature.add(()=>{i.isValidElement(!1),i.getErrorMessage(Object(l.a)(n._message))}),i}}});n.components.register("apply-flow-e-signature",{viewModel:class{constructor({application:e,section:t,blockId:i,additionalData:n,isActive:a}){this.application=e,this.sectionNumber=t.number,this.isSectionActive=a,this.blockId=i,this.form=s.a.observable(),this.model=this.application().eSignature,this.esignDescription=n.description,this._createForm()}_createForm(){const e=_b.createForm({eSignature:this.model,candidate:Ga});this.form(e),kp.registerForm(this.form,this.sectionNumber),_p.setBlockReady(this.sectionNumber,this.blockId)}dispose(){kp.unregisterForm(this.form,this.sectionNumber)}},template:'<div class="apply-flow-block__component apply-flow-esign" data-bind="setFocusWhenInvalid">\n    <text-truncate\n        class="apply-flow-esign__description"\n        params="\n            text: esignDescription, \n            minTextLength: 150,\n            isSectionActive: isSectionActive() && $parents[5].isFlowVisible()\n        "\n    >\n    </text-truncate>\n\n    <form-builder params="form: form"></form-builder>\n</div>\n'}),Bc.registerBlock("ORA_ESIGNATURE",{component:"apply-flow-e-signature"});var yb='<div data-bind="css: {\'input-row--invalid\': !isUploadingValidation() || !isRequiredValidation()}">\n    \x3c!-- ko if: isDragAndDropActive --\x3e\n    <div\n        class="attachment-upload-button"\n        role="application"\n        data-bind="event: { dragover: handleDragOver, dragenter: handleDragEnter, dragleave: handleDragLeave, drop: handleDrop.bind($component, event) }, \n                   class: containerClass,\n                   css: {\'attachment-upload-button--required\': !isRequiredValidation()}"\n    >\n        <div class="attachment-upload-button__container font-family-secondary">\n            \x3c!-- ko if: status() === STATES.WAITING || status() === STATES.DRAGOVER --\x3e\n            <div class="attachment-upload-button__drag-and-drop">\n                <span\n                    class="attachment-upload-button__drag-and-drop-label"\n                    data-bind="i18n: dropdownLabel,\n                               css: {\'attachment-upload-button__drag-and-drop-label--required\': isRequired}"\n                ></span>\n            </div>\n\n            \x3c!-- ko ifnot: defaultStatus() === STATES.FILLED --\x3e\n            <div class="attachment-upload-button__upload-button">\n                <span class="attachment-upload-button__or" data-bind="i18n: \'general.or\'"></span>\n                \x3c!-- ko component: {\n                        name: fileElement.component,\n                        params: {\n                            element: fileElement\n                        }\n                    } --\x3e\n                \x3c!-- /ko --\x3e\n            </div>\n            \x3c!-- /ko --\x3e\n            \x3c!-- /ko --\x3e\n\n            \x3c!-- ko if: status() === STATES.UPLOADING --\x3e\n            <div class="attachment-upload-button__uploading">\n                <span\n                    tabindex="-1"\n                    class="attachment-upload-button__top-message"\n                    data-bind="\n                            i18n: \'apply-flow.section-more-about-you.uploading\',\n                            hasFocus: status() === STATES.UPLOADING"\n                >\n                </span>\n                <indeterminate-progress-bar></indeterminate-progress-bar>\n                <button\n                    type="button"\n                    class="attachment-upload-button__bottom-button"\n                    data-bind="i18n: \'general.cancel-button\', click: cancelUpload"\n                ></button>\n            </div>\n            \x3c!-- /ko --\x3e\n\n            \x3c!-- ko if: status() === STATES.SAVED --\x3e\n            <div class="attachment-upload-button__success">\n                <span\n                    tabindex="-1"\n                    class="attachment-upload-button__success-label"\n                    data-bind="\n                            i18n: \'apply-flow.drafts.progress-indicator.done\',\n                            hasFocus : status() === STATES.SAVED"\n                >\n                </span>\n            </div>\n            \x3c!-- /ko --\x3e\n\n            \x3c!-- ko if: status() === STATES.FILLED --\x3e\n            <div class="attachment-upload-button__filled">\n                <button\n                    type="button"\n                    class="attachment-upload-button__download"\n                    data-bind="text: model().fileName, click: downloadAttachment"\n                ></button>\n                <button\n                    type="button"\n                    class="attachment-upload-button__bottom-button"\n                    data-bind="i18n: \'general.remove-button\', click: removeFile"\n                ></button>\n            </div>\n            \x3c!-- /ko --\x3e\n        </div>\n\n        \x3c!-- ko if: pendingAction --\x3e\n        <div class="attachment-upload-button__working">\n            <indeterminate-progress-bar></indeterminate-progress-bar>\n        </div>\n        \x3c!-- /ko --\x3e\n    </div>\n    \x3c!-- /ko --\x3e\n\n    \x3c!-- ko ifnot: isDragAndDropActive --\x3e\n    <div\n        class="attachment-upload-button-mobile"\n        data-bind="css: {\n            \'attachment-upload-button-mobile--waiting\': status() === STATES.WAITING,\n            \'theme-color-1\': status() === STATES.FILLED,\n            \'attachment-upload-button-mobile--required\': !isRequiredValidation()\n        }"\n    >\n        \x3c!-- ko if: status() === STATES.WAITING --\x3e\n        \x3c!-- ko component: {\n                name: fileElement.component,\n                params: {\n                    element: fileElement\n                }\n            } --\x3e\n        \x3c!-- /ko --\x3e\n        \x3c!-- /ko --\x3e\n\n        \x3c!-- ko if: status() === STATES.UPLOADING --\x3e\n        <div class="attachment-upload-button-mobile__uploading">\n            <span data-bind="i18n: \'apply-flow.section-more-about-you.uploading\'"></span>\n            <indeterminate-progress-bar></indeterminate-progress-bar>\n            <button\n                type="button"\n                class="attachment-upload-button-mobile__cancel-upload theme-color-1"\n                data-bind="click: cancelUpload"\n            ></button>\n        </div>\n        \x3c!-- /ko --\x3e\n\n        \x3c!-- ko if: status() === STATES.SAVED --\x3e\n        <div\n            class="attachment-upload-button-mobile__success"\n            data-bind="i18n: \'apply-flow.drafts.progress-indicator.done\'"\n        ></div>\n        \x3c!-- /ko --\x3e\n\n        \x3c!-- ko if: status() === STATES.FILLED --\x3e\n        <div class="attachment-upload-button-mobile__filled">\n            <button\n                type="button"\n                class="attachment-upload-button-mobile__download"\n                data-bind="click: downloadAttachment"\n            >\n                \x3c!-- ko text: model().fileName --\x3e\x3c!-- /ko --\x3e\n                \x3c!-- ko if: pendingAction() === ACTIONS.DOWNLOAD --\x3e\n                <indeterminate-progress-bar></indeterminate-progress-bar>\n                \x3c!-- /ko --\x3e\n            </button>\n            <button\n                type="button"\n                class="attachment-upload-button-mobile__remove"\n                data-bind="click: removeFile, css: { \'attachment-upload-button-mobile__remove--working\': isRemoving }"\n            >\n                <inline-spinner params="isLoading: isRemoving"></inline-spinner>\n            </button>\n        </div>\n        \x3c!-- /ko --\x3e\n    </div>\n    \x3c!-- /ko --\x3e\n\n    \x3c!-- ko if: attachmentChangedLabelVisible --\x3e\n    <p role="alert" aria-live="assertive" data-bind="i18n: attachmentChangedLabel"></p>\n    \x3c!-- /ko --\x3e\n\n    \x3c!-- ko foreach: {data: validationErrors, as: \'error\' } --\x3e\n    <p class="input-row__validation" role="alert" data-bind="text: error"></p>\n    \x3c!-- /ko --\x3e\n\n    \x3c!-- ko ifnot: isUploadingValidation --\x3e\n    <p\n        class="input-row__validation"\n        role="alert"\n        data-bind="i18n: \'apply-flow.validation.file-upload-in-progress\'"\n    ></p>\n    \x3c!-- /ko --\x3e\n\n    \x3c!-- ko ifnot: isRequiredValidation --\x3e\n    <p class="input-row__validation" role="alert" data-bind="i18n: \'validators.field-is-required\'"></p>\n    \x3c!-- /ko --\x3e\n</div>\n\n\x3c!-- ko if: isResumeButton --\x3e\n<referral-resume-block params="resumeModel: model"></referral-resume-block>\n\x3c!-- /ko --\x3e\n';var xb=function(e){const t={fileName:e.name,fileSize:e.size,mimeType:e.type,categoryId:e.categoryId,blockId:e.blockId};o.a.fromJS({fileName:void 0,fileSize:void 0,fileContents:void 0,categoryId:void 0},{},this),o.a.fromJS(t,{},this)},wb={create(e,t){const i=o.a.toJS(e);return(new Ut).encode(t).then(e=>(i.fileContents=e,new ba(i)))}};const kb={WAITING:"WAITING",DRAGOVER:"DRAGOVER",UPLOADING:"UPLOADING",SAVED:"SAVED",FILLED:"FILLED"},Ib={DOWNLOAD:"DOWNLOAD",REMOVE:"REMOVE"},Cb={WAITING:"attachment-upload-button--waiting",DRAGOVER:"attachment-upload-button--dragover",UPLOADING:"attachment-upload-button--uploading",SAVED:"attachment-upload-button--saved",FILLED:"attachment-upload-button--filled"};var Sb=Object.create(at,{createForm:{value(e){const t=at.createForm(),i=[this._createFileElement(e)];return t.elements(i),t}},_createFileElement:{value(e){const t=nt.create("file",e.name);return t.label(Object(l.a)(e.label)),t.onFileSelected=e.onFileSelected,t.hasFocus=e.hasFocus,t.labelClass=e.labelClass,t.attributes({accept:e.acceptedFileExtensions,title:t.label()}),e.acceptedFileExtensions&&t.addValidator("fileExtension",{allowed_extensions:e.acceptedFileExtensions.split(", ")}),t.addValidator("fileSize",{fileSizeLimit:e.sizeLimit}),t}}});class Eb{constructor({blockId:e,section:t,required:i}){this.categoryId="MISC",this.dropdownLabel="apply-flow.section-more-about-you.drop-your-attachment-here",this.attachments=Ga.attachments,this.isResumeButton=Object(n.observable)(!1),this.blockId=e,this.isRequired=i,this.STATES=kb,this.defaultStatus=Object(n.observable)(kb.WAITING),this.status=Object(n.observable)(this.defaultStatus()),this.validationErrors=Object(n.observableArray)().extend({elementsLivingTime:5e3}),this.containerClass=Object(n.pureComputed)(()=>Cb[this.status()]),this.isDragAndDropActive=Ct.isLargeUp,this.isAddFileButtonFocused=Object(n.observable)(!1),this.ACTIONS=Ib,this.pendingAction=Object(n.observable)(),this.isRemoving=Object(n.pureComputed)(()=>this.pendingAction()===Ib.REMOVE),this._attachmentBeingUploaded=null,this.miscAttachmentAllowedTypes=c.a.getSettingByKey("ORA_IRC_MISC_ATTACH_FILE_TYPES"),this.fileElement=this.createFileFormElement(),this.uploadingValidationEnabled=Object(n.observable)(!1),t.addBeforeValidationCallback(()=>this._enableUploadingValidation()),this.isUploadingValidation=Object(n.pureComputed)(()=>this._computeUploadingValidation()),kp.addValidation(t.number,this.isUploadingValidation),this.requiredValidationEnabled=Object(n.observable)(!1),t.addBeforeValidationCallback(()=>this._enableRequiredValidation()),this.isRequiredValidation=Object(n.pureComputed)(()=>this._computeRequiredValidation()),kp.addValidation(t.number,this.isRequiredValidation),this.isRequired&&kp.setHasRequiredElementExtraValidation(t.number,!0),this.attachmentChangedLabelVisible=Object(n.observable)(!1)}handleDragOver(e,t){t.preventDefault()}cancelUpload(){this._attachmentBeingUploaded&&(this._attachmentBeingUploaded.isCancelled(!0),this._attachmentBeingUploaded=null,this.status(this.defaultStatus()),this._disableUploadingValidation())}createFileFormElement(){const e=this.getFileElementConfig();return Sb.createForm(e).getElement(e.name)}getButtonLabel(){return"apply-flow.section-more-about-you.upload-attachment"}getFileElementConfig(){return{name:"attachment-upload",label:this.getButtonLabel(),onFileSelected:this.onFileSelected.bind(this),sizeLimit:50,labelClass:Object(n.pureComputed)(()=>{if(this.isDragAndDropActive())return"attachment-upload-button__label theme-color-1";const e=["attachment-upload-button-mobile__label"];return this.isRequired&&e.push("attachment-upload-button-mobile__label--required"),e.join(" ")}),hasFocus:Object(n.observable)(!1),acceptedFileExtensions:this.miscAttachmentAllowedTypes}}handleDragEnter(){this.status()===kb.UPLOADING||this.pendingAction()||this.status(kb.DRAGOVER)}handleDragLeave(){this.status()!==kb.UPLOADING&&this.status(this.defaultStatus())}handleDrop(e){if(this.pendingAction())return;this.status()===kb.UPLOADING&&this.cancelUpload(),e.stopPropagation(),e.preventDefault();const{files:t}=e.dataTransfer;e.dataTransfer.dropEffect="copy",t&&t.length>0&&this.onFileSelected(t,e)}_countBlockAttachments(){return this.attachments().filter(e=>this.blockId===e.blockId()).length}async onFileSelected(e,t){if(this._disableUploadingValidation(),"MISC"===this.categoryId&&this._countBlockAttachments()>=10)return void this.validationErrors.push(Object(l.a)("apply-flow.validation.file-upload-limit-error",{filesLimit:10}));const[i]=t.target.files||t.dataTransfer.files;if(!await this.fileElement.validate(i))return this.fileElement.value(""),this.validationErrors.push(this.fileElement.getErrorMessage()),void this.status(this.defaultStatus());i.categoryId=this.categoryId,i.blockId=this.blockId,this._addFile(i).then(this._addAttachmentToModel.bind(this)).then(this._afterSaveAttachment.bind(this)).catch(this._handleError.bind(this))}async _saveDraftAttachment(e){this._attachmentBeingUploaded=e;const t=await bh.create(Ba.id,e);return this._attachmentBeingUploaded=null,e.isCancelled()?(bh.remove(Ba.id,t).catch(console.error),Promise.reject("attachment-cancelled")):t}async _addFile(e){const t=new xb(e),i=await wb.create(t,e);if(!Ba)return i;this.status(kb.UPLOADING);return await this._saveDraftAttachment(i)}_addAttachmentToModel(e){return e.blockId(this.blockId),this.attachments.push(e),ru.save()}_afterSaveAttachment(){this.status(kb.SAVED),setTimeout(()=>{this.status(this.defaultStatus()),this.fileElement.hasFocus(!0)},3e3)}_computeUploadingValidation(){const e=this.uploadingValidationEnabled(),t=this.status()!==kb.UPLOADING;return!e||t}_enableUploadingValidation(){return this.uploadingValidationEnabled(!0)}_disableUploadingValidation(){return this.uploadingValidationEnabled(!1)}_enableRequiredValidation(){return this.requiredValidationEnabled(!0)}_computeRequiredValidation(){return!(this.isRequired&&this.requiredValidationEnabled()&&this.status()!==kb.UPLOADING)||this._attachmentExists()}_attachmentExists(){const e=this.attachments().filter(({blockId:e})=>e()===Number(this.blockId));return Boolean(e.length)}_handleError(e){"attachment-cancelled"!==e&&(this.status(this.defaultStatus()),"ORA_IRC_ATTACHMENT_FAILED"!==e?(console.error(e),bi.error()):this.validationErrors.push(Object(l.a)("apply-flow.validation.file-upload-errors")))}}n.components.register("attachment-upload-button",{viewModel:Eb,template:yb}),n.components.register("resume-upload-button",{viewModel:{createViewModel:({model:e})=>e},template:yb}),n.components.register("cover-letter-upload-button",{viewModel:{createViewModel:({model:e})=>e},template:yb});const Ob={responseType:"arraybuffer"};var Ab={download(e,t){const i=s.a.utils.extend(t||{},Ob),n=window.open(""+m.b.interpolate({lang:b.a.get()},"downloader"));Ft.add("ready",(async function t(){const s=await e.catch(()=>{n.close(),bi.error()});Ft.dispatch("download",{fileInfo:s,httpConfig:i},n),Ft.remove("ready",t)}))}};async function Pb(e){const{id:t,fileContents:i}=e,n=Ba&&!i()?(s=t(),bh.queryOne(Ba.id,s)):Promise.resolve(e);var s;Ab.download(n.then(e=>e.fileContents()?{fileName:e.fileName(),fileContents:e.fileContents(),mimeType:e.getMimeType()}:Promise.reject(new Error("No file contents found"))))}n.components.register("attachment-preuploaded",{viewModel:class{constructor({attachments:e,finder:t}){this.attachments=e,this.finder=t,this.use=this._use.bind(this)}_use(e){Ba?bh.copyAttachmentToDraft(Ba.id,e).then(this._replaceAttachment.bind(this)).catch(e=>{console.error(e),bi.error()}):this._replaceAttachment(e)}_replaceAttachment(e){const t=Ga.attachments().find(e=>e[this.finder]());Ga.attachments.remove(t),Ga.attachments.push(e),Ba&&t&&bh.remove(Ba.id,t)}download(e){Pb(e)}},template:'\x3c!-- ko if: attachments().length --\x3e\n<div class="file-upload-attachments-preuploaded">\n    <div\n        class="file-upload-attachments-preuploaded__description"\n        data-bind="i18n: \'apply-flow.section-more-about-you.upload-preuploaded-attachments-description\'"\n    ></div>\n    \x3c!-- ko foreach: attachments  --\x3e\n    <div class="file-upload-attachments-preuploaded__item">\n        <button\n            class="file-upload-attachments-preuploaded__filename"\n            data-bind="text: fileName, click: $parent.download"\n        ></button>\n        <button\n            class="apply-flow-dialog__button--link file-upload-attachments-preuploaded__use-button"\n            data-bind="click: $parent.use,\n                               i18n:\'apply-flow.section-more-about-you.upload-preuploaded-attachments-button-label\'"\n        ></button>\n    </div>\n    \x3c!-- /ko --\x3e\n</div>\n\x3c!-- /ko --\x3e\n'});n.components.register("referral-resume-block",{viewModel:class{constructor({resumeModel:e}){this.candidateResume=e,this.referral=s.a.observable({}),this.referralResume=s.a.observable({}),this.isDraftReady=s.a.observable(!1),this.referralId=ta.getReferralId(h.a.routeParams().jobId),Kd.afterApplicationDraftSave.addOnce(()=>this.isDraftReady(!0)),this.isVisible=s.a.pureComputed(()=>{if(!this.referralId||!this.referralResume().fileContents||!this.isDraftReady())return!1;const e=this.candidateResume()&&this.candidateResume().isReferral();return!this.candidateResume()||!e}),this.referralId&&this._loadReferral(),this.download=()=>this._download()}_loadReferral(){ta.get(this.referralId).then(this.referral.bind(this)).then(ta.getResume.bind(ta,this.referralId)).then(this.referralResume.bind(this)).catch(e=>console.error(e))}_download(){const{fileName:e,fileContents:t,mimeType:i}=this.referralResume();Ab.download(Promise.resolve({fileName:e,fileContents:t,mimeType:i}))}attach(){Ba?bh.copyAttachmentToDraft(Ba.id,this.referralResume()).then(this._replaceAttachment.bind(this)).catch(e=>{console.error(e),bi.error()}):this.candidateResume(new ba(this.referralResume()))}_replaceAttachment(e){const t=this.candidateResume();e.isReferral(!0),this.candidateResume(e),Ba&&t&&bh.remove(Ba.id,t)}},template:'\x3c!-- ko if: isVisible --\x3e\n\n<p class="referral-resume text-color-secondary" role="alert" aria-live="polite">\n    <i18n class="referral-resume__message" params="key: \'referral.resume-choice.referrer-uploaded\'">\n        <span data-i18n-token="referrer" data-bind="text: $parent.referral().refererName"></span>\n        <a\n            href="#"\n            class="referral-resume__file-link theme-color-1"\n            data-i18n-token="filename"\n            data-bind="text: $parent.referralResume().fileName, click: $parent.download"\n        ></a>\n    </i18n>\n\n    <button\n        class="referral-resume__button theme-color-1"\n        data-bind="i18n:\'referral.resume-choice.attach-cv-label\', click: attach"\n    ></button>\n</p>\n\n\x3c!-- /ko --\x3e\n'});const Tb={DOWNLOAD:"DOWNLOAD",REMOVE:"REMOVE"};n.components.register("misc-attachment-list-item",{viewModel:class{constructor({attachment:e}){this.attachment=e,this.ACTIONS=Tb,this.pendingAction=Object(n.observable)(),this.isRemoving=Object(n.pureComputed)(()=>this.pendingAction()===Tb.REMOVE),this.buttonTitle=`${e.fileName()} ${Object(l.a)("general.remove-button")}`}downloadAttachment(){this.pendingAction()||(this.pendingAction(Tb.DOWNLOAD),Pb(this.attachment).catch(()=>bi.error()).then(()=>this.pendingAction(!1)))}removeAttachment(e,t){t.stopPropagation(),this.pendingAction()||(this.pendingAction(Tb.REMOVE),bh.remove(Ba.id,this.attachment).then(()=>Ga.attachments.remove(this.attachment)).catch(()=>bi.error()).finally(()=>this.pendingAction(!1)))}},template:'<div class="misc-attachment-list__item">\n    <button\n        class="misc-attachment-list__item-name input-row__control"\n        data-bind="click: downloadAttachment,\n                       i18nAttr: { title: \'apply-flow.section-more-about-you.a11y.download-attachment-label\' }"\n    >\n        \x3c!-- ko text: attachment.fileName --\x3e\x3c!-- /ko --\x3e\n        \x3c!-- ko if: pendingAction() === ACTIONS.DOWNLOAD --\x3e\n        <indeterminate-progress-bar></indeterminate-progress-bar>\n        \x3c!-- /ko --\x3e\n    </button>\n    <button\n        class="misc-attachment-list__item-remove"\n        data-bind=" attr: { \'title\': buttonTitle }, click: removeAttachment,\n                        css: { \'misc-attachment-list__item-remove--working\': pendingAction() === ACTIONS.REMOVE }"\n    >\n        <inline-spinner params="isLoading: isRemoving"> </inline-spinner>\n    </button>\n    \x3c!--  ko if: isRemoving--\x3e\n    <span\n        role="alert"\n        aria-live="assertive"\n        data-bind="\n                    i18nAttr: {\n                            title: {\n                                key: \'apply-flow.section-more-about-you.a11y.attachment-removed\', \n                                tokens: {\'filename\': attachment.fileName() } \n                            } \n                    }"\n    >\n    </span>\n    \x3c!-- /ko --\x3e\n</div>\n'});n.components.register("misc-attachments",{viewModel:class{constructor({section:e,blockId:t,isActive:i,blockProperties:{required:s}}){this.section=e,this.isActiveBlock=i,this.blockId=t,this.required=s,this.attachments=Object(n.pureComputed)(this.filterMiscellaneousAttachments,this),_p.setBlockReady(this.section.number,this.blockId)}filterMiscellaneousAttachments(){return Ga.attachments().filter(({blockId:e})=>e()===Number(this.blockId)).reverse()}dispose(){this.attachments.dispose()}},template:"<attachment-upload-button\n    params=\"blockId: blockId, section: section, required: required\"\n></attachment-upload-button>\n\n\x3c!-- ko if: attachments().length --\x3e\n<div class=\"misc-attachment-list\">\n    \x3c!-- ko foreach: { data: attachments, as: 'attachment' } --\x3e\n    \x3c!-- ko component: {\n            name: 'misc-attachment-list-item',\n            params: { attachment: attachment }\n        } --\x3e\n    \x3c!-- /ko --\x3e\n    \x3c!-- /ko --\x3e\n</div>\n\x3c!-- /ko --\x3e\n"}),Bc.registerBlock("ORA_MISC_DOCUMENTS",{component:"misc-attachments"}),s.a.extenders.elementsLivingTime=function(e,t){const i=e.removeAll(),n=e.push.bind(e);return e.push=i=>{n(i),setTimeout(()=>e.shift(),t)},i.forEach(t=>e.push(t)),e};class jb extends Eb{constructor(e){super(e),this.model=Object(n.pureComputed)({read:()=>this.finderFunction(this.attachments()),write:this._replaceAttachment,owner:this}),this.model.subscribe(this._changeStatusOnModelChange,this),this.defaultStatus=Object(n.pureComputed)(this._computeDefaultStatus,this),this.status(this.defaultStatus()),this.isDocumentReplaced=!1}_computeDefaultStatus(){return this.model()?kb.FILLED:kb.WAITING}_showAttachmentChangedLabel(){this.attachmentChangedLabelVisible(!0),setTimeout(()=>this.attachmentChangedLabelVisible(!1),5e3)}_changeStatusOnModelChange(e){const t=e?kb.FILLED:kb.WAITING;this.status(t)}finderFunction(e=[]){throw new Error(`Method is not implemented, attachments: [${e}]`)}getFileElementConfig(){return Object.assign(super.getFileElementConfig(),{sizeLimit:5,acceptedFileExtensions:".txt, .rtf, .doc, .docx, .pdf, .odt, .htm, .html"})}downloadAttachment(){this.pendingAction()||(this.pendingAction(Ib.DOWNLOAD),Pb(this.model()).catch(()=>bi.error()).then(()=>this.pendingAction(null)))}async _removeDraftAttachment(e){this.pendingAction(Ib.REMOVE),await bh.remove(Ba.id,e).catch(console.error),this.pendingAction(null)}async removeFile(){this.pendingAction()||(Ba&&this.model().appDraftId()&&await this._removeDraftAttachment(this.model()),this._removeAttachmentFromModel(),this._addFocusToFileButton())}_addFocusToFileButton(){this.isAddFileButtonFocused(!0)}_removeAttachmentFromModel(){this.model(null)}async _removeOldFileBeforeAdding(){this.model()&&(this.status(this.defaultStatus()),Ba&&await this._removeDraftAttachment(this.model()),this._removeAttachmentFromModel())}async _addFile(e){return await this._removeOldFileBeforeAdding(),super._addFile(e)}_addAttachmentToModel(e){this.model(e)}_replaceAttachment(e){const t=this.finderFunction(this.attachments());t&&(this.attachments.remove(t),this.isRemoving()||(this.isDocumentReplaced=!0)),e?(this.attachments.push(e),this.isDocumentReplaced&&(this._showAttachmentChangedLabel(),this.isDocumentReplaced=!1)):this.attachments.notifySubscribers()}_attachmentExists(){const e=this.finderFunction(this.attachments());return Boolean(e)}}class Rb extends jb{constructor(e){super(e),this.isResumeButton(!0),this.categoryId=Zs,this.dropdownLabel="apply-flow.section-more-about-you.drop-cv-here",this.attachmentChangedLabel="apply-flow.section-more-about-you.cv-changed-label"}finderFunction(e){return e.find(({isResume:e})=>e())}getButtonLabel(){return"apply-flow.section-more-about-you.upload-resume"}}class Fb extends jb{constructor(e){super(e),this.categoryId="IRC_CANDIDATE_COVERLETTER",this.dropdownLabel="apply-flow.section-more-about-you.drop-cover-letter-here",this.attachmentChangedLabel="apply-flow.section-more-about-you.cover-letter-changed-label"}finderFunction(e){return e.find(({isCoverLetter:e})=>e())}getButtonLabel(){return"apply-flow.section-more-about-you.upload-cover-letter-label"}}n.components.register("file-upload",{viewModel:class{constructor({section:e,code:t,blockId:i,isActive:s,blockProperties:a}){const{resumeRequired:o,cvRequired:r,linksRequired:l}=a;this.attachments=Object(n.observableArray)(),this.resumeUploadButtonViewModel=new Rb({blockId:"resume",section:e,required:o}),this.coverLetterUploadButtonViewModel=new Fb({blockId:"cv",section:e,required:r}),this.findResume=this.resumeUploadButtonViewModel.finderFunction,this.section=e,this.code=t,this.blockId=i,this.isActiveBlock=s,this.linksRequired=l,this.resumeAttachments=Object(n.pureComputed)(()=>this.attachments().filter(e=>e.isResume())),this.coverLetterAttachments=Object(n.pureComputed)(()=>this.attachments().filter(e=>e.isCoverLetter())),this._loadAttachments().then(this._setUpAttachments.bind(this)).then(()=>{_p.setBlockReady(this.section.number,this.blockId)}),this.addResume=(e,t)=>{this.resumeUploadButtonViewModel.onFileSelected(e,t)},this.addCoverLetter=(e,t)=>{this.coverLetterUploadButtonViewModel.onFileSelected(e,t)}}_loadAttachments(){return Oh()?Promise.resolve():this._getCandidateAttachments().then(e=>this._initializeAttachments(e))}_getCandidateAttachments(){const e=ru.draftExists();return Promise.resolve(Ga.id()).then(e=>e||Promise.reject()).then(t=>zh.query(t,e)).catch(()=>({fileAttachments:[],linkedSites:Ga.linkedSites()}))}_initializeAttachments(e){const t=[...e.fileAttachments],i=t.filter(({isResume:e})=>e()),n=t.filter(({isCoverLetter:e})=>e()),s=1===i.length,a=1===n.length;if(s){const e=i.pop();Ga.attachments.push(e)}if(a){const e=n.pop();Ga.attachments.push(e)}[...i,...n].forEach(e=>{Ga.attachments.markAsDeleted(e)})}_setUpAttachments(){const e=Ga.attachments.getRemovedItems().filter(({appDraftId:e})=>!e());this.attachments(e)}},template:'<div class="file-upload-wrapper">\n    <div class="file-upload-wrapper__section">\n        <resume-upload-button params="model: resumeUploadButtonViewModel"></resume-upload-button>\n        <attachment-preuploaded\n            params="attachments: resumeAttachments, finder: \'isResume\'"\n        ></attachment-preuploaded>\n    </div>\n    <div class="file-upload-wrapper__section">\n        <cover-letter-upload-button\n            params="model: coverLetterUploadButtonViewModel"\n        ></cover-letter-upload-button>\n        <attachment-preuploaded\n            params="attachments: coverLetterAttachments, finder: \'isCoverLetter\'"\n        ></attachment-preuploaded>\n    </div>\n</div>\n\n<candidate-links params="section: section, code: code, linksRequired: linksRequired"></candidate-links>\n'}),Bc.registerBlock("ORA_DOCUMENTS",{component:"file-upload"});n.components.register("multi-select-pill-form-element",{viewModel:class extends k{constructor(...e){super(...e),this.value=Object(n.observable)(null),this.onValueChanged=this.onValueChanged.bind(this),this.resetHandler=this.resetHandler.bind(this),this.blurHandler=this.blurHandler.bind(this),this.focusHandler=this.focusHandler.bind(this),this.genericRemoveLabel=Object(l.a)("general.remove-button")}onValueChanged(e){const{value:t,label:i}=e.detail.value,n=this.element.options().find(({id:e,label:n})=>e===t&&n===i);n&&(this.element.value().push(n),this.element.value.notifySubscribers(),this.hasFocus(!0))}resetHandler(){this.value(null)}blurHandler(){this.hasFocus(!1),super.blurHandler()}},template:'<div\n    class="input-row input-row--multi-select-pill"\n    data-bind="css: { \'input-row--focused\': isFocused,\n                       \'input-row--invalid\': isInvalid }"\n>\n    \x3c!-- ko if: element.label --\x3e\n    <label\n        class="input-row__label"\n        data-bind="text: element.label,\n            css: { \'input-row__label--required\': element.isRequired,\n                   \'input-row__label--disabled\': element.isDisabled },\n            attr: { for: attributes.id }"\n    ></label>\n    \x3c!-- /ko --\x3e\n\n    <div class="input-row__control-container">\n        <oj-combobox-one\n            class="input-row__control input-row__search-input"\n            value="{{value}}"\n            options="[[element.fetchOptions]]"\n            options-keys="[[{ value: \'id\', label: \'name\' }]]"\n            on-value-option-changed="[[onValueChanged]]"\n            on-value-changed="[[resetHandler]]"\n            on-focus="[[focusHandler]]"\n            on-click="[[focusHandler]]"\n            on-blur="[[blurHandler]]"\n            picker-attributes="[[{ \'class\': \'input-row__listbox background-color-dropdown\' }]]"\n        ></oj-combobox-one>\n\n        <div class="input-row__control-decorator"></div>\n\n        \x3c!-- ko if: isInvalid --\x3e\n        <p class="input-row__validation" role="alert" data-bind="text: element.getErrorMessage"></p>\n        \x3c!-- /ko --\x3e\n    </div>\n</div>\n\n\x3c!-- ko if: element.value().length --\x3e\n<ul class="multi-select-pill__values">\n    \x3c!-- ko foreach: element.value --\x3e\n    <li class="multi-select-pill__value background-color-secondary">\n        <span class="multi-select-pill__value-text text-color-light" data-bind="text: label"> </span>\n\n        <button\n            type="button"\n            class="multi-select-pill__value-remove text-color-light"\n            data-bind="a11y.setFocusOnClick: {focusOn: `label[for=\'${$component.attributes.id}\'] + div input`, delay: 0},\n                        click: $component.element._removeOption.bind($component.element, $data),\n                        attr: { \'title\': `${$component.genericRemoveLabel} ${label}` }"\n        ></button>\n    </li>\n    \x3c!-- /ko --\x3e\n</ul>\n\x3c!-- /ko --\x3e\n'});const Db={preferredLocations:[],preferredJobFamilies:[],preferredJobFunctions:[],getLocationIds(){return this.preferredLocations().map(({id:e})=>e)},getJobFamilyIds(){return this.preferredJobFamilies().map(({id:e})=>e)},clear(){this.preferredLocations([]),this.preferredJobFamilies([]),this.preferredJobFunctions([])}};var Lb=o.a.fromJS(Db);class Nb extends Ue{constructor({fetch:e}){super(),this.component("multi-select-pill-form-element"),this.fetch=e,this.options=Object(n.observableArray)(),this.fetchDebounced=I(this.fetch.bind(this),500),this.fetchOptions=this.fetchOptions.bind(this)}fetchOptions(e){return(e.term?this.fetchDebounced:this.fetch)(e.term).then(this._saveOptions.bind(this)).then(this._disableOptions.bind(this))}_saveOptions(e){return this.options(e),e}_removeOption(e){const t=this.value(),i=t.find(({id:t})=>t===e.id);t.splice(t.indexOf(i),1),this.value(t)}_disableOptions(e){const t=this.value().map(({id:e})=>e);return e.forEach(e=>e.disabled=-1!==t.indexOf(e.id)),e}}class Mb extends pe{constructor(e){super(e),this._message=e.message}_validate(e,{preferenceValues:t}){const i=t.reduce((e,t)=>e.concat(t()),"");return Boolean(i.length)}}var Vb=Object.create(at,{createForm:{value(e,t,i,n,s){const a=at.createForm();e.includes("Job Category")&&a.addElement(this._createPreferredJobFamiliesFormElement(t.preferredJobFamilies,i)),e.includes("Job Function")&&a.addElement(this._createPreferredJobFunctionsFormElement(t.preferredJobFunctions,s)),a.addElement(this._createPreferredLocationsFormElement(t.preferredLocations,n));const o=[a.getElement("preferredJobFamilies"),a.getElement("preferredJobFunctions"),a.getElement("preferredLocations")];return this._addJobAlertPreferencesValidator(o,_m.getValidationMessage(e)),a}},_createPreferredLocationsFormElement:{value(e,t){const i=Object(l.a)("talent-community.job-alerts-self-service.location-label"),n=new Nb({fetch:t});return n.label(i),n.attributes({name:"preferredLocations",id:"preferred-locations"}),n.registerModel(e),n}},_createPreferredJobFamiliesFormElement:{value(e,t){const i=Object(l.a)("talent-community.job-alerts-self-service.category-label"),n=new Nb({fetch:t});return n.label(i),n.attributes({name:"preferredJobFamilies",id:"preferred-job-families"}),n.registerModel(e),n}},_createPreferredJobFunctionsFormElement:{value(e,t){const i=Object(l.a)("talent-community.job-alerts-self-service.preferred-job-function-label"),n=new it;return n.label(i),n.attributes({name:"preferredJobFunctions",id:"preferred-job-functions"}),n.options(t),n.registerModel(e),n}},_addJobAlertPreferencesValidator:{value(e,t){const i=e.filter(e=>e),n=new Mb({preferenceValues:i.map(e=>e.value),message:t}),s=i.shift();s.addValidator(n),i.forEach(e=>{e.value.subscribe(()=>s.validate())})}}}),Bb={get:e=>U.a.get("/recruitingCEDictionaries/1/lov/genericHcmLookups?finder=findByLookupType;LookupType=:lookupType:&onlyData=true&limit=1000",{params:{lookupType:e}}).then(X.mapDictionariesFromRest)};n.components.register("job-alert-preferences",{viewModel:class extends Jm{constructor(e){super(e),this.siteNumber=c.a.siteNumber,this.jobAlertPreferencesConfig=c.a.getSettingByKey("ORA_IRC_TC_ACTIVE_ATTRIBUTES"),this.jobFunctions=[],this._initialize()}fetchJobFamilies(e){const t={siteNumber:this.siteNumber,term:e};return _m.getJobFamiliesByTerm(t)}fetchJobLocations(e){const t={siteNumber:this.siteNumber,term:e};return Sl.getLocationsByTerm(t)}async _initialize(){this.jobFunctions=await this._fetchJobFunctions(),this._createForm(),this._registerForm(),this._setBlockReady()}_fetchJobFunctions(){return Bb.get("JOB_FUNCTION_CODE")}_createForm(){const e=Vb.createForm(this.jobAlertPreferencesConfig,Lb,this.fetchJobFamilies.bind(this),this.fetchJobLocations.bind(this),this.jobFunctions);this.form(e)}},template:"\x3c!-- ko if: form --\x3e\n\n\x3c!-- ko component: { name: 'form-builder', params: { form: form } } --\x3e\x3c!-- /ko --\x3e\n\n\x3c!-- /ko --\x3e\n"}),Bc.registerBlock("ORA_JOB_ALERT_PREFERENCES",{component:"job-alert-preferences"}),Bc.registerBlock("ORA_LANGUAGE",{component:"unique-tile-profile-items",repository:ib,requireBlockProperties:!0}),Bc.registerBlock("ORA_LICENSE_CERTIFICATES",{component:"tile-profile-items",repository:ib,requireBlockProperties:!0});var qb={COUNTRY_LOV_COLUMN:"GeoElement1",mapGeoHierarchiesFromRest:e=>(e.items||[]).map(({geographyName:e,displayName:t})=>({lookupCode:e,meaning:t}))};function Ub(e){const t=e.uidisplaytype;return e.lovColumn?"SingleChoiceList"===t?"geoHierarchySearch":"geoHierarchyAutosuggest":"SingleChoiceList"===t?"select":"text"}function Hb(e,t){return e.lovColumn&&!t.lovColumn?-1:!e.lovColumn&&t.lovColumn?1:e.lovColumn===t.lovColumn?e.displaySequence-t.displaySequence:e.lovColumn>t.lovColumn?1:-1}var $b={mapFormElementsFromRest(e){const t=e.addressFormatDetails;return Promise.all(t.filter(e=>e.attributeName).map(this.mapFormElementFromRest.bind(this))).then(e=>e.sort(Hb))},mapFormElementFromRest(e){const t={type:Ub(e),name:(i=e.attributeName,i[0].toLowerCase()+i.substr(1)),label:e.prompt,attributes:{required:e.requiredFlag},validators:{},displaySequence:e.displaySequence,lovColumn:e.lovColumn,optionsKeys:{value:"lookupCode",label:"meaning"}};var i;return e.requiredFlag&&(t.validators.required={label:e.prompt}),e.maxlength&&(t.validators.maxLength={max:e.maxlength}),"country"===t.name?(t.lovColumn=qb.COUNTRY_LOV_COLUMN,t.type="geoHierarchySelect",se.get(se.CODES.countries).then(e=>(t.options=e,t))):Promise.resolve(t)}};class Jb{constructor(e){this._serviceUrl=e+"?expand=addressFormatDetails&onlyData=true"}getFormElements(e){return Promise.resolve().then(()=>e?this._getAddressFormatUrl(e):Promise.reject("Missing country code")).then(K.get).then(e=>0===e.addressFormatDetails.length?Promise.reject("Collection of Definitions is empty"):e).catch(this._getDefaultFormElements).then($b.mapFormElementsFromRest.bind($b))}_getAddressFormatUrl(e){return this._serviceUrl.replace("<COUNTRY_CODE>",e)}_getDefaultFormElements(){return{addressFormatDetails:[{prompt:Object(l.a)("apply-flow.section-personal-information.country-label"),attributeName:"Country",requiredFlag:!0}]}}}class zb extends st{constructor(...e){super(...e),this._storeCountryElementReference(...e),this.componentName("address-form"),this.geoHierarchyElements=s.a.pureComputed(()=>this.elements().filter(e=>e.lovColumn)),this._correlateDependentElements()}_correlateDependentElements(){this.geoHierarchyElements().forEach(e=>{const t=this._findParent(e);t&&e.registerParent(t)})}_findParent(e){let t=e.lovColumnIndex();const i=e=>e.lovColumnIndex()===t;let n=null;for(2===t&&(n=this.countryElement);!n&&t>0;)t-=1,n=s.a.utils.arrayFirst(this.geoHierarchyElements(),i);return n}_storeCountryElementReference({countryElement:e}){e&&(this.countryElement=e)}getGeoHierarchyRoot(){return this.geoHierarchyElements().filter(e=>!e.parentElement()).pop()}}class Wb{constructor(e){this._conditions={},this._selectedField="",this._finder="findByElement"+e}static get COUNTRY_LOV_COLUMN(){return"GeoElement1"}maskFieldSpecialCharacters(e){let t=encodeURIComponent(e).replace(/[-_.!~*()]/g,e=>"%"+e.charCodeAt(0).toString(16));return[{pattern:/'/g,value:"%27"}].forEach(({pattern:e,value:i})=>{t=t.replace(e,i)}),t}where(e,t){return t&&(this._conditions[e]=`${e}="${this.maskFieldSpecialCharacters(t)}"`),this}whereLike(e,t){return t&&(this._conditions[e]="Value="+this.maskFieldSpecialCharacters(t)),this}getQuery(){const e=Object.keys(this._conditions).filter(e=>e!==Wb.COUNTRY_LOV_COLUMN).map(e=>this._conditions[e]).join(",");return`finder=${this._finder};${e}`}}const Kb=e=>e.toString().toUpperCase();class Gb extends Ge{constructor(...e){super(...e),this.component("geo-hierarchy-select-form-element"),this.parentElement=s.a.observable(),this.childElement=s.a.observable(),this.geoHierarchyService=null,this.isLoading=s.a.observable(!1),this.lastValue=void 0,this.lovColumn=s.a.observable(),this.lovColumnIndex=s.a.pureComputed(()=>{const e=this.lovColumn().replace(/[^\d]+/,"");return parseInt(e,10)}),this.countrySubscription=Ga.address.country.subscribe(()=>{this.lastValue=void 0})}_clearFieldValue(){this.value(void 0),this.options([])}_findMatchingValue(e){return e.find(({lookupCode:e})=>{return t=this._getFieldValue(),i=e,Kb(t)===Kb(i);var t,i})}_completeFieldValue(e){this.value(e?e.lookupCode:void 0),this.lastValue||(this.lastValue=this.value())}_getFieldValue(){return this.value()||this.lastValue}registerParent(e){this.parentElement(e),e.childElement(this),this.parentValueSubscription=e.value.subscribe(e=>{this.value()&&(this.lastValue=this.value()),this._clearFieldValue(),e&&this.fetchOptions()}),this.fetchOptions()}async _findValueByTerm(){const e=await this.getOptions(this._getFieldValue()),t=this._findMatchingValue(e);return t&&this.options(e),t}fetchOptions(){return this.isLoading(!0),Promise.resolve(new Wb(this.lovColumnIndex())).then(this.resolveDependencies.bind(this)).then(e=>e?this.geoHierarchyService.findByQuery(e.getQuery()):[]).then(e=>(this.options(e),!!this._getFieldValue()&&(this._findMatchingValue(e)||this._findValueByTerm()))).then(e=>{this._completeFieldValue(e),this.isLoading(!1)}).catch(e=>{this.isLoading(!1),"no-parent-value"===e?this._clearFieldValue():console.error(e)})}resolveDependencies(e){const t=this.parentElement();return t?t.isFulfilled().then(()=>e.where(t.lovColumn(),t.value())).then(t.resolveDependencies.bind(t)).catch(this._handleDependencyError.bind(this)):Promise.resolve(e)}_handleDependencyError(e){"no-parent-value"!==e&&console.error(e)}isFulfilled(){return this.value()?Promise.resolve(this.value()):(this.childElement().isLoading(!1),new Promise((e,t)=>{const i=this.value.subscribe(t=>{t&&(i.dispose(),e(t))});setTimeout(()=>{i.dispose(),t("no-parent-value")},100)}))}dispose(){this.parentValueSubscription&&this.parentValueSubscription.dispose(),this.countrySubscription&&this.countrySubscription.dispose()}registerModel(e){return super.registerModel(e),this.value()&&(this.lastValue=this.value()),this}}class Yb extends Gb{constructor(...e){super(...e),this.validators("html"),this.validators("xss"),this.component("geo-hierarchy-autosuggest-form-element")}getOptions(e){return Promise.resolve(new Wb(this.lovColumnIndex())).then(t=>t.whereLike(this.lovColumn(),e)).then(this.resolveDependencies.bind(this)).then(e=>e?this.geoHierarchyService.findByQuery(e.getQuery()):[]).catch(this._handleDependencyError.bind(this))}}class Qb extends Yb{constructor(...e){super(...e),this.component("geo-hierarchy-search-form-element")}}const Zb={geoHierarchyAutosuggest:Yb,geoHierarchySelect:Gb,geoHierarchySearch:Qb};var Xb=Object.create(nt,{create:{value(e,t){if(e in Zb){return new(0,Zb[e])(t)}return nt.create(e,t)}}});class ef extends st{constructor(...e){super(...e),this.componentName("country-form")}get countryElement(){return this.elements()[0]}}const tf={country:"country-name",addressLine1:"address-line1",addressLine2:"address-line2",postalCode:"postal-code",city:"address-level2",region2:"address-level1"};var nf=Object.create(at,{createFormElement:{value(e){const t=Xb.create(e.type,e.name);return this._initFormElement(t,e)}},_initFormElement:{value:(e,t)=>(e.lovColumn&&(e.geoHierarchyService=t.geoHierarchyService,e.lovColumn(t.lovColumn)),at._initFormElement(e,t))},createAddressForm:{value(e){const t=e;return t.elements=t.elements.map(e=>{const i=e;return i.geoHierarchyService=t.geoHierarchyService,i.attributes.autocomplete=tf[i.name],this.createFormElement(i)}),new zb(t)}},createCountryForm:{value(e){const t=e;return t.elements=t.elements.map(e=>{const i=e;return i.geoHierarchyService=t.geoHierarchyService,i.attributes.autocomplete=tf[i.name],this.createFormElement(i)}),new ef(t)}}});n.components.register("address-form",{viewModel:class{constructor({countryFormConfig:e,addressFormConfig:t,sectionNumber:i,customJsValidation:s}){this.sectionNumber=i,this.addressModel=Ga.address,this.countryForm=Object(n.observable)(),this.addressForm=Object(n.observable)(),this.customJsValidation=s,this._addressFormConfigSub=t.subscribe(e=>{kp.unregisterForm(this.addressForm,this.sectionNumber),this.addressForm(null),this._createAddressForm(e)}),this._createCountryForm(Object(n.unwrap)(e)),this._createAddressForm(Object(n.unwrap)(t))}_createAddressForm(e){e.countryElement=this.countryForm().countryElement;const t=nf.createAddressForm(e);t.registerModel(this.addressModel),this.customJsValidation.addToForm(t),this.addressForm(t),kp.registerForm(this.addressForm,this.sectionNumber),this._corelateCountryAndAddress()}_corelateCountryAndAddress(){const e=this.addressForm().getGeoHierarchyRoot();e&&e.registerParent(this.countryForm().countryElement)}_createCountryForm(e){const t=nf.createCountryForm(e);t.registerModel(this.addressModel),this.customJsValidation.addToForm(t),this.countryForm(t),kp.registerForm(this.countryForm,this.sectionNumber)}dispose(){this._addressFormConfigSub.dispose()}},template:'<form-builder params="form: countryForm"></form-builder>\n\n\x3c!-- ko if: addressForm --\x3e\n<form-builder params="form: addressForm" class="address-form"></form-builder>\n\x3c!-- /ko --\x3e\n'});n.components.register("geo-hierarchy-autosuggest-form-element",{viewModel:class extends E{constructor(...e){super(...e),this.getOptions=this.getOptions.bind(this),this.debouncedGetOptions=I(this.element.getOptions.bind(this.element),500)}async getOptions(e){return"term"in e?await this.debouncedGetOptions(e.term):this.element.options()}},template:'<div\n    class="input-row input-row--text geo-hierarchy-form-element"\n    data-bind="css: {\'input-row--focused\': isFocused,\n                      \'input-row--filled\': isFilled,\n                      \'input-row--invalid\': isInvalid}"\n>\n    \x3c!-- ko if: element.label --\x3e\n    <label\n        class="input-row__label"\n        data-bind="text: element.label,\n                          css: {\'input-row__label--required\': element.isRequired,\n                                \'input-row__label--disabled\': element.isDisabled},\n                          attr: {for: attributes.id}"\n    ></label>\n    \x3c!-- /ko --\x3e\n\n    <div class="input-row__control-container">\n        <oj-combobox-one\n            class="input-row__control input-row__search-input"\n            value="{{element.value}}"\n            options="[[getOptions]]"\n            options-keys="[[element.optionsKeys]]"\n            on-focus="[[focusHandler]]"\n            on-blur="[[blurHandler]]"\n            placeholder="[[placeholder]]"\n            picker-attributes="[[{ \'class\': \'input-row__listbox background-color-dropdown\' }]]"\n        ></oj-combobox-one>\n\n        <div class="input-row__control-decorator"></div>\n\n        \x3c!-- ko if: isInvalid --\x3e\n        <p class="input-row__validation" role="alert" data-bind="text: element.getErrorMessage"></p>\n        \x3c!-- /ko --\x3e\n    </div>\n</div>\n'});n.components.register("geo-hierarchy-search-form-element",{viewModel:class extends E{constructor(...e){super(...e),this.isDisabled=Object(n.pureComputed)(this._isDisabled,this),this.placeholder=Object(n.observable)(""),this.getOptions=this.getOptions.bind(this),this.debouncedGetOptions=I(this.element.getOptions.bind(this.element),500)}async getOptions(e){const t=this.element.value();return"term"in e?await this.debouncedGetOptions(e.term):t&&!this.contains(t)?await this.element.getOptions(t):this.element.options()}_isDisabled(){return this.element.isDisabled()||this.isEmpty()}},template:'<div\n    class="input-row input-row--has-picker geo-hierarchy-form-element"\n    data-bind="css: {\'input-row--focused\': isFocused,\n                      \'input-row--filled\': isFilled,\n                      \'input-row--invalid\': isInvalid}"\n>\n    \x3c!-- ko if: element.label --\x3e\n    <label\n        class="input-row__label"\n        data-bind="css: {\'input-row__label--required\': element.isRequired,\n                            \'input-row__label--disabled\': element.isDisabled},\n                      text: element.label,\n                      attr: { for: element.id }"\n    ></label>\n    \x3c!-- /ko --\x3e\n    <div class="input-row__control-container">\n        <oj-select-one\n            data-bind="attr: attributes, classRemovedObserver: {\n                className: \'oj-listbox-dropdown-open\',\n                handler: blurHandler.bind($data)\n            }"\n            class="input-row__select"\n            placeholder=""\n            disabled="[[isDisabled]]"\n            value="{{element.value}}"\n            options="[[getOptions]]"\n            options-keys="[[element.optionsKeys]]"\n            item-text="[[element.optionsKeys.label]]"\n            on-focus="[[focusHandler]]"\n            minimum-results-for-search="0"\n            label-edge="none"\n            label-hint="[[element.label]]"\n            picker-attributes="[[{ \'class\': \'input-row__listbox background-color-dropdown\' }]]"\n        >\n        </oj-select-one>\n\n        <div class="input-row__control-decorator"></div>\n\n        \x3c!-- ko if: isInvalid --\x3e\n        <p class="input-row__validation" role="alert" data-bind="text: element.getErrorMessage"></p>\n        \x3c!-- /ko --\x3e\n    </div>\n</div>\n'});n.components.register("geo-hierarchy-select-form-element",{viewModel:class extends R{},template:'<div\n    class="input-row input-row--has-picker geo-hierarchy-form-element"\n    data-bind="css: {\'input-row--focused\': isFocused,\n                      \'input-row--filled\': isFilled,\n                      \'input-row--invalid\': isInvalid}"\n>\n    \x3c!-- ko if: element.label --\x3e\n    <label\n        class="input-row__label"\n        data-bind="css: {\'input-row__label--required\': element.isRequired,\n                            \'input-row__label--disabled\': element.isDisabled},\n                      text: element.label,\n                      attr: { for: element.id }"\n    ></label>\n    \x3c!-- /ko --\x3e\n\n    <div class="input-row__control-container">\n        <oj-select-one\n            data-bind="attr: attributes, classRemovedObserver: {\n                className: \'oj-listbox-dropdown-open\',\n                handler: blurHandler.bind($data)\n            }"\n            class="input-row__select"\n            placeholder="[[placeholder]]"\n            disabled="[[isDisabled]]"\n            value="{{element.value}}"\n            options="[[element.options]]"\n            options-keys="[[element.optionsKeys]]"\n            on-focus="[[focusHandler]]"\n            minimum-results-for-search="0"\n            label-edge="none"\n            label-hint="[[element.label]]"\n            picker-attributes="[[{ \'class\': \'input-row__listbox background-color-dropdown\' }]]"\n        >\n        </oj-select-one>\n\n        <div class="input-row__control-decorator"></div>\n        <inline-spinner params="alignment: \'right\', isLoading: element.isLoading"></inline-spinner>\n\n        \x3c!-- ko if: isInvalid --\x3e\n        <p class="input-row__validation" role="alert" data-bind="text: element.getErrorMessage"></p>\n        \x3c!-- /ko --\x3e\n    </div>\n</div>\n'});class sf{constructor(e){const t=e.serviceUrl.replace("<COUNTRY_CODE>",e.countryCode);this._serviceUrl=t+"/child/geoHierarchies"}findByQuery(e){return K.get(`${this._serviceUrl}?${e}&limit=500&onlyData=true`).then(qb.mapGeoHierarchiesFromRest.bind(qb))}}var af={mapToValidation(e){const{address:t,education:i,experience:n,extraInformation:s,languages:a,licensesAndCertificates:o,skills:r,workPreferences:l,dateOfBirth:c,personalIdentifyingInformationItems:d}=e;return{address:t,education:i,experience:n,extraInformation:(u=s,u.map(({name:e,rows:t})=>function(e,t){return e.map(({attributes:e})=>({...e,contextCode:t}))}(t,e)).flat()),languages:a,licensesAndCertificates:o,skills:r,workPreferences:l,dateOfBirth:c,personalIdentifyingInformationItems:d};var u}};function of(e,{columnName:t,value:i}){return e[t]=i,e}var rf={mapToValidation:(e=[])=>e.reduce(of,{})};function lf(){return Array.isArray(window.ORA_CE_VALIDATIONS)?window.ORA_CE_VALIDATIONS:[]}function cf({blockCode:e,identifier:t,validator:i}){return"string"==typeof e&&("string"==typeof t||"number"==typeof t||void 0===t)&&"function"==typeof i?"":`Custom validator errors for block: ${e}, identifier: ${t}.`}var df={get:(e,t)=>function(e,t){const{validator:i}=lf().find((function({blockCode:i,identifier:n}){return i===e&&n===t}))||{};return i}(e,t),checkValidators(){lf().map(cf).filter(e=>e).forEach(e=>console.error(e))},getCandidateData(){const e=o.a.toJS(Ga);return af.mapToValidation(e)},getConfig(){const{requisitionFlexFields:e}=fd.get();return rf.mapToValidation(e)}};class uf{constructor(){this.validator=null,this.message=Object(n.observable)(""),this.valid=Object(n.observable)(!0),this.showMessage=Object(n.pureComputed)(this.shouldShowMessage,this),this.run=this.run.bind(this)}init({section:e,blockCode:t,identifier:i}){this.validator=df.get(t,i),this.validator&&(kp.addValidation(e.number,this.valid),e.addBeforeValidationCallback(this.run))}run(){if(!this.validator)return;const e=df.getCandidateData(),t=df.getConfig();try{const{valid:i=!0,message:n=""}=this.validator(e,t);this.valid(i),this.message(n)}catch(e){console.error(e),this.valid(!0),this.message("")}}shouldShowMessage(){return Boolean(!this.valid()&&this.message())}addToForm(e){this.validator&&e.registerCustomJsValidation(this.run)}}class pf extends Jm{constructor(e){super(e),this.customJsValidation=new uf,this.runCustomJsValidation=this.customJsValidation.run.bind(this.customJsValidation)}_initCustomJsValidation(e){this.customJsValidation.init({section:this.section,blockCode:this.code,identifier:e})}}n.components.register("personal-information-address",{viewModel:class extends pf{constructor(e){super(e);const t=Object.assign({},{includeValidation:!0},e.additionalData||{});this.formName=Object(l.a)("apply-flow.a11y.address-form-label"),this._addressModel=Ga.address,this._metadataService=null,this._metadataServiceUrl=e.metadataServiceUrl,this.countryFormConfig=s.a.observable(),this.addressFormConfig=s.a.observable(),this.isCountrySelected=s.a.pureComputed(()=>Boolean(this._addressModel.country())),this._metadataService=new Jb(e.metadataServiceUrl),this._includeValidation=t.includeValidation,this._createForm().then(this._subscribeToAddressChange.bind(this)).then(this._fetchGeoCountryCode.bind(this)).then(this._setPrefferedCountry.bind(this)),this._initCustomJsValidation()}_subscribeToAddressChange(){this._countrySubscriber=this._addressModel.country.subscribe(()=>{this._resetLovConnectedFields(),this._createForm(),this._notifyA11y()})}_fetchGeoCountryCode(){return ae.a.query().then(e=>{!this._addressModel.country()&&e&&this._addressModel.country(e.countryCode)}).catch(console.error)}async _createForm(){return this._setBlockUnready(),await async function(e){const{address:t}=Ga,i=o.a.toJS(t),n=await e.getFormElements(t.country()).catch(console.error);n&&Object.keys(i).forEach(e=>{((e,t)=>e.find(e=>e.name.toUpperCase()===t.toUpperCase()))(n,e)||t[e](void 0)})}(this._metadataService),this._metadataService.getFormElements(this._addressModel.country()).then(this._removeValidation.bind(this)).then(this._composeFormConfigs.bind(this)).then(this._setBlockReady.bind(this)).catch(e=>console.error(e))}_removeValidation(e){return this._includeValidation?e:e.map(e=>(e.attributes.required=!1,delete e.validators.required,e))}async _composeFormConfigs(e){const t=new sf({serviceUrl:this._metadataServiceUrl,countryCode:this._addressModel.country()}),[i,...n]=e;this.countryFormConfig({elements:[i],geoHierarchyService:t}),this.addressFormConfig({elements:n,geoHierarchyService:t})}_notifyA11y(){Tt.a.status.dispatch(Object(l.a)("apply-flow.a11y.form-loaded",{formName:this.formName}))}_resetLovConnectedFields(){this.addressFormConfig().elements.forEach(e=>{e instanceof Qb&&this._addressModel[e.name()]("")})}async _setPrefferedCountry(){const{jobId:e}=h.a.routeParams();if(!e)return;const{country:t}=this._addressModel;if(t())return;const i=await Fs.getLightJob(e).catch(()=>{}),n=null==i?void 0:i.primaryLocationCountry;n&&t(n)}dispose(){this._countrySubscriber&&this._countrySubscriber.dispose()}},template:'\x3c!-- ko if: customJsValidation.showMessage --\x3e\n<p\n    class="input-row__validation input-row__validation--top input-row--invalid"\n    role="alert"\n    data-bind="html: customJsValidation.message"\n></p>\n\x3c!-- /ko --\x3e\n\n\x3c!-- ko if: isCountrySelected() --\x3e\n<span\n    class="oj-helper-hidden-accessible"\n    data-bind="i18n: {key: \'apply-flow.a11y.form-expanded\', tokens: {formname: formName}}"\n></span>\n\x3c!-- /ko --\x3e\n\n\x3c!-- ko ifnot: isCountrySelected() --\x3e\n<span\n    class="oj-helper-hidden-accessible"\n    data-bind="i18n: {key: \'apply-flow.a11y.form-collapsed\', tokens: {formname: formName}}"\n></span>\n\x3c!-- /ko --\x3e\n\n\x3c!-- ko if: countryFormConfig --\x3e\n<address-form\n    params="countryFormConfig: countryFormConfig,\n                      addressFormConfig: addressFormConfig,\n                      sectionNumber: sectionNumber,\n                      customJsValidation: customJsValidation"\n></address-form>\n\x3c!-- /ko --\x3e\n'}),Bc.registerBlock("ORA_ADDRESS",{component:"personal-information-address",repository:Jb});var hf={checkEmail:e=>function(e,t){const i=Object.assign({action:"CHECK_DUPLICATES"},e),n={400:({response:e})=>"ORA_IRC_CAND_EXISTS"===e?t:e};return U.a.post("/recruitingCECandidates",i,{statusCodes:n})}({email:e},Object(l.a)("validators.duplicated-email")),compareEmail:(e,t)=>e===t};class mf extends Ye{constructor(...e){super(...e),this.component("tooltip-text-form-element"),this.showLabelTooltip(!1)}}const bf={title:"honorific-prefix",firstName:"given-name",middleNames:"additional-name",lastName:"family-name",suffix:"honorific-suffix",phoneNumber:"tel",email:"email"};var ff=Object.create(at,{createForm:{value(e){const{universalElements:t,emailElement:i,phoneElement:n,candidate:s,preferredTerritoryCode:a}=e,o={elements:t},r=at.createForm(o).bindComponent("name-form");if(i&&n){(s.isNew()?this._composeNewContactFields(s,i,n,a):this._composeReturningContactFields(s,i,n,a)).forEach(e=>r.elements(e))}return this._addAutoCompleteAttribute(r.elements()),r}},_addAutoCompleteAttribute:{value(e){e.forEach(e=>e.attributes("autocomplete",bf[e.name()]))}},_composeNewContactFields:{value(e,t,i,n){const{email:s}=e.basicInformation,{verificationMethod:a}=e.basicInformation,o=s(),r=this._createEmailFormElement({isDisabled:a()===Ya.EMAIL,emailElement:t}),l=this._createPhoneFormElement({isDisabled:a()===Ya.SMS,phoneElement:i,preferredTerritoryCode:n});this._addEmailServiceCallValidator(r,o);const c=[r,this._createReplyFormElement(e,n),l];return a()===Ya.EMAIL?c:c.reverse()}},_composeReturningContactFields:{value(e,t,i,n){const{email:s}=e.basicInformation,{emailVerifiedFlag:a,phoneVerifiedFlag:o}=e.basicInformation,r=s(),l=this._createEmailFormElement({isDisabled:a(),emailElement:t}),c=this._createPhoneFormElement({isDisabled:o(),phoneElement:i,preferredTerritoryCode:n});return this._addEmailServiceCallValidator(l,r),[l,c]}},_createReplyFormElement:{value(e,t){switch(e.basicInformation.verificationMethod()){case Ya.SMS:{const{areaCode:i,countryCode:n,number:s}=e.basicInformation.phone;return this._createReplayPhoneFormElement({areaCode:i(),countryCode:n(),number:s()},t)}case Ya.EMAIL:default:return this._createReplyEmailFormElement(e.basicInformation.email())}}},_createEmailFormElement:{value({isDisabled:e,emailElement:t}){let i;return e?(i=new mf("email"),i.attributes("disabled",!0),i.helpText(Object(l.a)("apply-flow.section-personal-information.field-disabled",{fieldName:t.label}))):(i=nt.create(t.type,"email"),i.validators(t.validators)),i.label(t.label),i}},_createReplyEmailFormElement:{value(e){const t=Object(l.a)("apply-flow.section-personal-information.retype-primary-email-label");return nt.create("email","retypeEmail").label(t).validators("required",{label:t}).validators("maxLength",{max:240}).validators("equals",{source:e,label:t})}},_createPhoneFormElement:{value({isDisabled:e,phoneElement:t,preferredTerritoryCode:i}){const n=nt.create(t.type,"phoneNumber");return e?(n.attributes("disabled",!0),n.helpText(Object(l.a)("apply-flow.section-personal-information.field-disabled",{fieldName:t.label}))):(n.validators(t.validators),n.attributes({preferredTerritoryCode:i})),n.label(t.label).attributes({id:"phoneNumber",autocomplete:"none"}),n}},_createReplayPhoneFormElement:{value(e,t){const i=Object(l.a)("apply-flow.section-personal-information.retype-phone-number-label");return nt.create("phone","retypePhoneNumber").label(i).attributes({id:"retypePhoneNumber",autocomplete:"none",preferredTerritoryCode:t}).validators("required",{}).validators("maxLength",{max:120}).validators("phoneEquals",{source:e,label:i})}},_addEmailServiceCallValidator:{value(e,t){e.addValidator("serviceCall",{serviceCall:hf.checkEmail,exclude:e=>hf.compareEmail(e,t)})}}});class gf extends st{constructor(e,t){super(e),this.params=t,this.emailEdit=null,this.emailFields=[],this.phoneEdit=null,this.phoneFields=null,this.emailCommunication=null,this.phoneCommunication=null,this.makeEmailPreferred=null,this.makePhonePreferred=null,this.subscriptions=[],this._setupEmailFields(),this._setupPhoneField()}registerModel(e){super.registerModel(e),this._setupSubscriptions()}dispose(){this.subscriptions.forEach(e=>e.dispose())}_setupEmailFields(){this.emailEdit=this.getElement("email"),this.emailEdit.requestVerification=this._requestEmailVerification.bind(this),this.emailEdit.challenge=new Wu({candidate:this._getCandidate({attachEmail:!0,attachPhone:!1}),actions:{onPinValid:this._onEmailVerificationSuccess.bind(this),onAttempsLimitReached:()=>{}}}),this.makeEmailPreferred=I(Vu.makeEmailPreferred,200),this.emailCommunication=this.getElement("emailPreferredFlag"),this.emailCommunication.isDisabled=Object(n.pureComputed)(this._isEmailCommunicationDisabled.bind(this)),this.emailFields=[this.getElement("emailVerifiedFlag"),this.emailCommunication]}_setupPhoneField(){this.phoneEdit=this.getElement("phoneNumber"),this.phoneEdit.requestVerification=this._requestPhoneVerification.bind(this),this.phoneEdit.challenge=new Wu({candidate:this._getCandidate({attachEmail:!1,attachPhone:!0}),actions:{onPinValid:this._onPhoneVerificationSuccess.bind(this),onAttempsLimitReached:()=>{}}}),this.makePhonePreferred=I(Vu.makePhonePreferred,200),this.phoneCommunication=this.getElement("phonePreferredFlag"),this.phoneCommunication.isDisabled=Object(n.pureComputed)(this._isPhoneCommunicationDisabled.bind(this)),this.phoneFields=[this.getElement("phoneVerifiedFlag"),this.getElement("phonePreferredFlag")]}_setupSubscriptions(){const e=this.emailCommunication.value.subscribe(this._onEmailPreferredChanged,this),t=this.phoneCommunication.value.subscribe(this._onPhonePreferredChanged,this),i=this.emailEdit.isVerificationInProgress.subscribe(e=>this.emailFields.forEach(t=>t.isHidden(e))),n=this.phoneEdit.isVerificationInProgress.subscribe(e=>this.phoneFields.forEach(t=>t.isHidden(e)));this.subscriptions=[e,t,i,n]}_isEmailCommunicationDisabled(){const{emailVerifiedFlag:e,phonePreferredFlag:t}=this.params;return!e()||!t()}_isPhoneCommunicationDisabled(){const{emailPreferredFlag:e,phoneVerifiedFlag:t}=this.params;return!t()||!e()}_onEmailPreferredChanged(e){const{candidateId:t}=this.params;this.makeEmailPreferred(t,e)}_onPhonePreferredChanged(e){const{candidateId:t}=this.params;this.makePhonePreferred(t,e)}_requestPhoneVerification(e){const{candidateId:t}=this.params,{countryCode:i,areaCode:n,number:s}=e,a={mobilePhoneCountryCode:i,mobilePhoneAreaCode:n,mobilePhoneNumber:s};return Pp.validatePhone(t,a).then(()=>Vu.requestPhoneVerification(t,a))}_requestEmailVerification(e){const{candidateId:t}=this.params;return Pp.validateEmail(t,e).then(()=>Vu.requestEmailVerification(t,e))}_getCandidate({attachEmail:e,attachPhone:t}){const i={email:Object(n.observable)(),phone:Object(n.observable)(),verificationMethod:Object(n.observable)(),id:this.params.candidateId};return e&&(i.email=this.emailEdit.value,i.verificationMethod(Ya.EMAIL)),t&&(i.phone=this.phoneEdit.value,i.verificationMethod(Ya.SMS)),i}_onPhoneVerificationSuccess(){this.phoneEdit.isDisabled(!0),this.phoneEdit.isVerificationInProgress(!1);const{phoneVerifiedFlag:e}=this.params;e(!0);const{origin:t,value:i}=this.phoneEdit;return JSON.stringify(t)===JSON.stringify(i())?bi.success(Object(l.a)("candidate-self-service.communication-channel.phone-verified-success"),0):bi.success(Object(l.a)("candidate-self-service.communication-channel.phone-changed-success"),0)}_onEmailVerificationSuccess(){this.emailEdit.isDisabled(!0),this.emailEdit.isVerificationInProgress(!1);const{emailVerifiedFlag:e}=this.params;e(!0);const{origin:t,value:i}=this.emailEdit;return t===i()?bi.success(Object(l.a)("candidate-self-service.communication-channel.email-verified-success"),0):bi.success(Object(l.a)("talent-community.email-change-verification-confirmed"),0)}}class vf{constructor(e){this.formElement=e,this.edit=this.edit.bind(this),this.cancel=this.cancel.bind(this),this.isBlocked=Object(n.observable)(!1),this.saveButtonDisabled=Object(n.observable)(!1)}edit(){if(this.formElement.isDisabled())return this._saveInitialState(),void this.formElement.isDisabled(!1);this.initialState&&this._isEqualToInitialValue(this.formElement.value())||(this.initialState||this._saveInitialState(),this._addRequiredValidator(),this.saveButtonDisabled(!0),this.formElement.validate().then(this._onInputValidated.bind(this)).finally(()=>this.saveButtonDisabled(!1)))}cancel(){this.formElement.isVerificationInProgress(!1),this.formElement.isDisabled(this.initialState.isDisabled),this.formElement.setValue(this.initialState.value),this.initialState=null}async _onInputValidated(e){e&&(this._removeRequiredValidator(),await this.formElement.requestVerification(this.formElement.value()).then(()=>{this.formElement.isVerificationInProgress(!0),this.isBlocked(!1),Cp.addAlert.dispatch(Object(l.a)("candidate-self-service.communication-channel.email-verification-message",{email_address:this.formElement.value()}))}).catch(e=>{e===Ao.a||e===Ao.g?(this.formElement.isVerificationInProgress(!0),this.isBlocked(!0)):console.error(e)}))}_addRequiredValidator(){this.formElement.addValidator("required",{label:this.formElement.label()},"prepend"),this.formElement.validateImmediately(!0)}_removeRequiredValidator(){this.formElement.removeValidator(this.formElement.getValidator("required")),this.formElement.validateImmediately(!1)}_saveInitialState(){this.initialState={isDisabled:this.formElement.isDisabled(),value:this.formElement.value()}}_isEqualToInitialValue(e){return"object"==typeof this.initialState.value?JSON.stringify(e)===JSON.stringify(this.initialState.value):e===this.initialState.value}}class _f extends ze{constructor(...e){super(...e),this.origin=null,this.requestVerification=null,this.challenge=null,this.isVerificationInProgress=Object(n.observable)(!1),this.component("email-edit-form-element"),this.setValue=this.value.bind(this);const t=new vf(this);this.edit=t.edit,this.cancel=t.cancel,this.isBlocked=t.isBlocked,this.saveButtonDisabled=t.saveButtonDisabled}}class yf extends We{constructor(...e){super(...e),this.origin=null,this.requestVerification=null,this.challenge=null,this.isVerificationInProgress=Object(n.observable)(!1),this.component("phone-edit-form-element");const t=new vf(this);this.edit=t.edit,this.cancel=t.cancel,this.isBlocked=t.isBlocked,this.saveButtonDisabled=t.saveButtonDisabled}getFormattedValue(){return Fe.createPhone(this.value()).asFormattedString()}}var xf=Object.create(at,{createForm:{value(e){const{universalElements:t,emailElement:i,phoneElement:n,candidate:s}=e;let a;const o={elements:t};if(o.elements=o.elements.map(e=>(e.validateImmediately=o.validateImmediately,at.createFormElement(e))),!i||!n)return a=new st(o),a.bindComponent("name-form"),ff._addAutoCompleteAttribute(a.elements()),a;this._composeContactFields({emailElement:i,phoneElement:n,candidate:s}).forEach(e=>o.elements.push(e));const{emailVerifiedFlag:r,emailPreferredFlag:l,phoneVerifiedFlag:c,phonePreferredFlag:d}=s.basicInformation;return a=new gf(o,{candidateId:s.id(),emailVerifiedFlag:r,emailPreferredFlag:l,phoneVerifiedFlag:c,phonePreferredFlag:d}),a.bindComponent("name-form"),ff._addAutoCompleteAttribute(a.elements()),a}},_composeContactFields:{value(e){const{emailElement:t,phoneElement:i,candidate:n}=e,{emailVerifiedFlag:s,phoneVerifiedFlag:a}=n.basicInformation;return[this._createEmailFormElement(n,t),this._createCommunicationChannelUnverifiedWarning("emailVerifiedFlag",s),this._createEmailCommunicationChannelCheckbox(),this._createPhoneFormElement(n,i),this._createCommunicationChannelUnverifiedWarning("phoneVerifiedFlag",a),this._createPhoneCommunicationChannelCheckbox()]}},_createEmailFormElement:{value(e,t){const i=new _f("email"),{email:n,emailVerifiedFlag:s}=e.basicInformation,a=n();return i.origin=a,i.label(t.label).validators(t.validators),i.addValidator("serviceCall",{serviceCall:hf.checkEmail,exclude:e=>hf.compareEmail(e,a)}),s()&&(i.removeValidator(i.getValidator("required")),i.isDisabled(!0)),i}},_createPhoneFormElement:{value(e,t){let i;const{basicInformation:s}=e,{phone:{countryCode:a,areaCode:o,number:r},phoneVerifiedFlag:l}=s,c={countryCode:a(),areaCode:o(),number:r()};return this._isPhoneVerificationEnabled()?(i=new yf("phoneNumber"),i.registerModel(c)):(i=new We("phoneNumber"),i.isVerificationInProgress=Object(n.observable)(!1)),i.origin=c,i.label(t.label).validators(t.validators).attributes({id:"phoneNumber",autocomplete:"none"}),this._isPhoneVerificationEnabled()&&l()&&(i.removeValidator(i.getValidator("required")),i.isDisabled(!0)),i}},_createEmailCommunicationChannelCheckbox:{value(){const e=nt.create("checkbox","emailPreferredFlag").label(Object(l.a)("candidate-self-service.communication-channel.email"));return this._isPhoneVerificationEnabled()||(e.isHidden=()=>!0),e}},_createPhoneCommunicationChannelCheckbox:{value(){const e=nt.create("checkbox","phonePreferredFlag").label(Object(l.a)("candidate-self-service.communication-channel.phone"));return this._isPhoneVerificationEnabled()||(e.isHidden=()=>!0),e}},_createCommunicationChannelUnverifiedWarning:{value(e,t){const i={emailVerifiedFlag:Object(l.a)("candidate-self-service.communication-channel.unverified-email-warning"),phoneVerifiedFlag:Object(l.a)("candidate-self-service.communication-channel.unverified-phone-warning")},n=new Ue(e);return n.component("communication-channel-unverified-warning"),n.label(i[e]),n.value=t,this._isPhoneVerificationEnabled()||(n.isHidden=()=>!0),n}},_isPhoneVerificationEnabled:{value:()=>"true"===c.a.getSettingByKey("SMS_ENABLED_EXTERNAL_CANDIDATES")}});const wf="email",kf="phone";var If={getForm(e){const{elements:t,includeUniversalFields:i,includeContactFields:n,candidate:s,editMode:a,preferredTerritoryCode:o}=e;let r=[],l=null,c=null;i&&(r=t.filter(e=>![wf,kf].includes(e.name))),n&&(l=t.find(({name:e})=>e===wf),c=t.find(({name:e})=>e===kf));const d={universalElements:r,emailElement:l,phoneElement:c,candidate:s,preferredTerritoryCode:o};return(a?xf:ff).createForm(d)}};const Cf=["Email","Phone"];function Sf(e){return e[0].toLowerCase()+e.substr(1)}function Ef(e,t){return e.displaySequence-t.displaySequence}var Of={mapFormElementsFromRest(e){const t=e.items;return Promise.all(t.sort(Ef).map(this.mapFormElementFromRest.bind(this)))},mapFormElementFromRest(e){const t=function(e){return{type:(t=e.attributeName,Cf.includes(t)?Sf(t):"text"),name:Sf(e.attributeName),label:e.prompt,attributes:{required:e.requiredFlag},validators:{},dictionary:e.dictionary};var t}(e);return e.requiredFlag&&(t.validators.required={label:e.prompt}),e.length&&(t.validators.maxLength={max:e.length}),null!=t.dictionary?function(e){let t;return t="title"===e.name?se.get(se.CODES.nameTitles):Bb.get(e.dictionary),t.then(t=>(t&&(e.type="select",e.options=t),e))}(t):Promise.resolve(t)}};class Af{constructor(e){this._serviceUrl=e}getFormElements(){const{flowVersionId:e}=fd.get(),t=this._serviceUrl.replace("<FLOW_VERSION_ID>",e);return K.get(t).then(Of.mapFormElementsFromRest.bind(Of))}}const Pf={includeUniversalNameFields:!0,includeEmailPhoneFields:!0,editMode:!1};n.components.register("personal-information-basic",{viewModel:class extends Jm{constructor(e){super(e);const{additionalData:t,metadataServiceUrl:i}=e;this.additionalData=Object.assign({},Pf,t||{}),this._metadataService=new Af(i),this._fetchFormElements().then(this._composeFormConfig.bind(this)).then(this._createForm.bind(this)).then(this._registerForm.bind(this)).then(this._setBlockReady.bind(this)).catch(e=>console.error(e))}_fetchFormElements(){return this._metadataService.getFormElements()}_composeFormConfig(e){return Promise.resolve({elements:e})}async _createForm(e){const{includeEmailPhoneFields:t,includeUniversalNameFields:i,editMode:n}=this.additionalData,s={elements:e.elements,includeUniversalFields:i,includeContactFields:t,candidate:Ga,editMode:n},{jobId:a}=h.a.routeParams();if(a){const e=await Mh.getJob(a).catch(()=>{});s.preferredTerritoryCode=null==e?void 0:e.primaryLocationCountry}const o=If.getForm(s);o.registerModel(Ga.basicInformation),this.form(o)}},template:'\x3c!-- ko if: form --\x3e\n<name-form params="form: form"></name-form>\n\x3c!-- /ko --\x3e\n'}),Bc.registerBlock("ORA_NAME_CONTACT_INFO",{component:"personal-information-basic",repository:Af});var Tf=function(e){this.form=e.form};n.components.register("name-form",{viewModel:Tf,template:'<form-builder params="form: form"></form-builder>\n'});class jf extends k{constructor(e){super(e),this.params=e,this.editLabel=Object(n.pureComputed)(this._computeEditLabel,this)}_computeEditLabel(){return this.element.isDisabled()?Object(l.a)("candidate-self-service.communication-channel.edit"):Object(l.a)("candidate-self-service.communication-channel.save-and-verify")}}n.components.register("phone-edit-form-element",{viewModel:jf,template:'\x3c!-- ko ifnot: element.isVerificationInProgress --\x3e\n\n<div class="input-row communication-channel__value-placeholder">\n    \x3c!-- ko component: { name: \'phone-form-element\', params: params } --\x3e\x3c!-- /ko --\x3e\n\n    <button\n        type="button"\n        class="communication-channel__value-edit theme-color-1"\n        data-bind="click: element.edit, text: editLabel,a11y.setFocusOnClick: { focusOn: \'.phone-row__input\', delay: 100},\n        disable: element.saveButtonDisabled"\n    ></button>\n</div>\n\n\x3c!-- /ko --\x3e\n\n\x3c!-- ko if: element.isVerificationInProgress --\x3e\n\n<div class="input-row communication-channel__pin-verification">\n    <form-element-label params="element: element, forId: element.id"></form-element-label>\n\n    <inline-pin-code-verification\n        params="challenge: element.challenge, cancel: element.cancel, isBlocked: element.isBlocked"\n    >\n        <message>\n            <i18n params="key: \'candidate-self-service.communication-channel.phone-verification-message\'">\n                <strong data-i18n-token="phone_number" data-bind="text: element.getFormattedValue()"></strong>\n            </i18n>\n        </message>\n    </inline-pin-code-verification>\n</div>\n\n\x3c!-- /ko --\x3e\n'});n.components.register("email-edit-form-element",{viewModel:jf,template:'\x3c!-- ko ifnot: element.isVerificationInProgress --\x3e\n\n<div class="input-row communication-channel__email">\n    <div\n        class="input-row input-row--text"\n        data-bind="css: {\'input-row--focused\': isFocused,\n                      \'input-row--filled\': isFilled,\n                      \'input-row--invalid\': isInvalid,\n                      \'input-row--empty-disabled\': isEmptyDisabled}"\n    >\n        <form-element-label params="element: element, forId: attributes.id"></form-element-label>\n\n        <div class="input-row__control-container">\n            <div\n                class="input-row__item communication-channel__email-row"\n                data-bind="css: {\'communication-channel__email-row--invalid\': isInvalid,\n        \'communication-channel__email-row--focused\': isFocused}"\n            >\n                <input\n                    class="input-row__control communication-channel__email-control"\n                    data-bind="value: element.value,\n                           attr: attributes,\n                           disable: element.isDisabled,\n                           hasFocus: hasFocus,\n                           event: {blur: blurHandler.bind($data)} "\n                />\n\n                <button\n                    type="button"\n                    class="\n                        communication-channel__value-edit communication-channel__value-email-edit\n                        theme-color-1\n                    "\n                    data-bind="click: element.edit, text: editLabel, hasFocus: !element.isVerificationInProgress(),\n                            a11y.setFocusOnClick: { focusOn: \'.communication-channel__email-control\', delay: 100},\n                            disable: element.saveButtonDisabled\n                            "\n                ></button>\n\n                <div class="input-row__control-decorator communication-channel__email-decorator"></div>\n            </div>\n\n            \x3c!-- ko if: isInvalid --\x3e\n            <p\n                class="input-row__validation"\n                data-bind="text: element.getErrorMessage, attr: { role: (hasFocus() ? \'\' : \'alert\') } "\n            ></p>\n            \x3c!-- /ko --\x3e\n        </div>\n    </div>\n</div>\n\n\x3c!-- /ko --\x3e\n\n\x3c!-- ko if: element.isVerificationInProgress --\x3e\n\n<div class="input-row communication-channel__pin-verification">\n    <form-element-label params="element: element, forId: element.id"></form-element-label>\n\n    <inline-pin-code-verification\n        params="challenge: element.challenge, cancel: element.cancel, isBlocked: element.isBlocked"\n    >\n        <message>\n            <i18n params="key: \'candidate-self-service.communication-channel.email-verification-message\'">\n                <strong data-i18n-token="email_address" data-bind="text: element.value()"></strong>\n            </i18n>\n        </message>\n    </inline-pin-code-verification>\n</div>\n\n\x3c!-- /ko --\x3e\n'});function Rf(e){return{name:e,score:0}}function Ff({name:e,score:t}){return{name:e,score:t}}n.components.register("communication-channel-unverified-warning",{template:'\x3c!-- ko ifnot: element.value --\x3e\n\n<div class="input-row input-row--text">\n    \x3c!-- ko if: element.label --\x3e\n\n    <label\n        class="input-row__label communication-channel__unverified-warning"\n        data-bind="text: element.label"\n    ></label>\n\n    \x3c!-- /ko --\x3e\n</div>\n\n\x3c!-- /ko --\x3e\n'});var Df={mapFromRest:function(e){let{extractedSkills:t=[],suggestedSkills:i=[]}=e;return t=t.map(Rf),i=i.map(Ff),[...t,...i]},mapToRest:function({title:e,experiences:t,skills:i}){return{title:e,structured:{experience:t.filter(({jobTitle:e,achievements:t,responsibilities:i})=>e()||t()||i()).map(({jobTitle:e,achievements:t,responsibilities:i})=>({role:e()||"",achievements:t()||"",responsibilities:i()||""}))},existingSkills:i.map(e=>e.skills())}},mapToSkill:function(e){return e.name}};const Lf=["en"],Nf={baseUrl:c.a.ceBaseUrl,transformRequest:e=>(e.body=JSON.stringify(e.body),e)};var Mf={getRecommendations:function({title:e,experiences:t,skills:i}){return function(e){return U.a.post("/recruitingSkillRecommendations",e,Nf)}(Df.mapToRest({title:e,experiences:t,skills:i})).then(e=>{let t=Df.mapFromRest(e);return t=function(e){return e.sort((e,t)=>{if(e.score===t.score){const i=e.name.toLowerCase(),n=t.name.toLowerCase();return i>n?1:i<n?-1:0}return t.score-e.score})}(t).slice(0,10),t.map(Df.mapToSkill)})},isSkillRecommendationEnabled:function(){if(!Lf.includes(c.a.siteLang))return!1;const e=c.a.getSettingByKey(ni.c);return!!e&&"Y"===e},MAX_RECOMMENDATIONS:10};n.components.register("skill-recommendation",{viewModel:class{constructor({isActive:e,createTile:t,sectionId:i,isValidating:s}){this.createTile=t,this.sectionId=i,this.isActive=e,this.isValidating=s,this._recommendationRefreshThreshold=-1,this.isRecommendationStale=!0,this.recommendations=Object(n.observableArray)([]),this.isFetchingRecommendations=Object(n.observable)(!1),this.componentLabel=Object(l.a)("apply-flow.profile-item.skill-recommendation"),this.skillSelected=this.skillSelected.bind(this),this.isActive.subscribe(this._activeChangeDetected,this),Vh.title.subscribe(this._dependencyChangeDetected,this),this.profileItemChangeDetected=Kd.profileItemChangeDetected.add(this._profileItemChangeHandler.bind(this)),this.isLoading=Object(n.pureComputed)(()=>this.isFetchingRecommendations()||this.isValidating()),this._shouldRefreshRecommendations()&&this._refreshRecommendations()}addSkillButtonTitle(e){return`${Object(l.a)("apply-flow.profile-item.add-skill-button")} ${e}`}skillSelected(e){e&&this.createTile(e).then(()=>{this.recommendations.remove(e),this._checkRecommendationTheshold()})}focusHandler(){this.hasFocus(!0)}_checkRecommendationTheshold(){this.recommendations().length<=this._recommendationRefreshThreshold&&this._refreshRecommendations()}_shouldRefreshRecommendations(){return this.isRecommendationStale&&this.isActive()&&Vh.title()}_refreshRecommendations(){this.isFetchingRecommendations(!0),this._fetchRecommendations().then(e=>this._updateRecommendations(e)).then(()=>this._updateRefreshThreshold()).finally(()=>this.isFetchingRecommendations(!1))}_profileItemChangeHandler({model:e}){const t=e()instanceof Ea,i=e()instanceof Ta&&e().sectionId()===this.sectionId;(t||i)&&this._dependencyChangeDetected()}_dependencyChangeDetected(){this.isRecommendationStale=!0,this._shouldRefreshRecommendations()&&this._refreshRecommendations()}_activeChangeDetected(){this._shouldRefreshRecommendations()&&this._refreshRecommendations()}_fetchRecommendations(){const e=Ga.skills().filter(({sectionId:e})=>e()===this.sectionId);return Mf.getRecommendations({title:Vh.title(),experiences:Ga.experience(),skills:e})}_updateRecommendations(e){this.recommendations(e),this.isRecommendationStale=!1}_updateRefreshThreshold(){const e=Mf.MAX_RECOMMENDATIONS;let t=-1;this.recommendations().length===e&&(t=Math.floor(.75*e)),this._recommendationRefreshThreshold=t}dispose(){this.profileItemChangeDetected.detach()}},template:'<div>\n    \x3c!-- ko if: isLoading --\x3e\n    <div class="skill__recommendation-request">\n        <spinner class="skill__spinner"></spinner>\n    </div>\n    \x3c!-- /ko --\x3e\n    \x3c!-- ko ifnot: isLoading --\x3e\n    \x3c!-- ko if: recommendations().length --\x3e\n    <div class="skill__wrapper">\n        <span data-bind="text: componentLabel"></span>\n    </div>\n\n    <div class="skill__recommendation-container">\n        \x3c!-- ko foreach: {data: recommendations, as: \'skill\'} --\x3e\n        <div class="skill__recommendation">\n            <button\n                type="button"\n                class="skill__recommendation-button"\n                data-bind="click: $parent.skillSelected,\n                            attr: {\'aria-label\': $parent.addSkillButtonTitle(skill)}"\n            >\n                <span class="skill__recommendation-plus" aria-hidden="true"></span>\n                <span data-bind="text: skill"></span>\n            </button>\n        </div>\n        \x3c!-- /ko --\x3e\n    </div>\n    \x3c!-- /ko --\x3e\n    \x3c!-- /ko --\x3e\n</div>\n'});var Vf=Object.create(at,{createForm:{value(e,t){let i=t;if(!i){i=at.createForm.bind(this)(e)}return this.narrowDownListOfStatesBasedOnCountry(i),i}},narrowDownListOfStatesBasedOnCountry:{value(e){const t=e.getElement("countryCode"),i=e.getElement("stateProvinceCode"),n=i&&i.isRequired(),s=e=>{i.value(null),i.isRequired(!1),i.options([]),e&&function(e){return se.find(se.CODES.profileStateProvinces,{CountryCode:e})}(e).then(e=>{i.options(e),i.isRequired(t.value()&&n&&e.length)})};if(t&&i){const n=i.isHidden();i.isHidden()||(i.isHidden(!t.value()),i.isRequired(!1));const a=t.value.subscribe(s),o=i.options.subscribe(e=>{n||i.isHidden(!e.length)});t.value()&&s(t.value()),e.subscriptions.push(a,o)}}},_hasMajorField:{value:e=>106===e.contentTypeId&&e.elements.filter(e=>"major"===e.name()).length}});const Bf=Object(l.a)("general.change-button");class qf extends st{constructor(e,...t){super(...t),this.navId="tile-"+Date.now(),this.tileTitle=Object(n.observable)(),this.tileSubtitle=Object(n.observable)(),this.tileStrategy=new e(this),this.isActive=Object(n.observable)(!1),this.isFocused=Object(n.observable)(!1),this.totalErrors=Object(n.pureComputed)(()=>this.getErrorMessages().length),this.isTileInvalid=Object(n.pureComputed)(()=>{const e=this.isValid(),t=this.isActive();return!e&&!t}),this.tileLabel=Object(n.pureComputed)(()=>`${this.tileTitle()} ${Bf}`)}showForm(){this.isActive(!0),setTimeout(()=>{this.isFocused(!0)},300)}showTile(){this.isActive(!1),this.isFocused(!1)}buildTile(){return this.tileStrategy.resolveFormSources().then(e=>Promise.all([this.tileStrategy.buildTitle(e),this.tileStrategy.buildSubtitle(e)])).then(([e,t])=>{this.tileTitle(e),this.tileSubtitle(t)})}}class Uf extends pe{constructor(...e){super(...e),this._message="apply-flow.validation.school-import-dont-match-message"}_validate(){return!1}}var Hf={openFormDialog:new Ot.a,closeFormDialog:new Ot.a,renderTimeline:new Ot.a,editTimelineItem:new Ot.a,mouseoverItem:new Ot.a,mouseleaveItem:new Ot.a};class $f{constructor(e,t){this.schoolElement=e,this.schoolNameElement=t}}class Jf extends $f{constructor(...e){super(...e),this.schoolElement.valueLabel.subscribeOnce(e=>this.schoolNameElement.value(e))}setupValueSubscription(){return this.schoolNameElement.value.subscribe(this._setValue,this)}_setValue(){const e=this.schoolNameElement.valueKey(),t=e?parseInt(e,10):null;this.schoolElement.value(t)}}class zf extends $f{setupValueSubscription(){return this.schoolElement.value.subscribe(this._setValue,this)}_setValue(){if(!this.schoolNameElement.isRequired())return;this.schoolNameElement.value(this.schoolElement.valueLabel());const e=this.schoolElement.valueLabel.subscribe(t=>{this.schoolNameElement.value(t),e.dispose()},this)}}const Wf={getSchoolStrategy:e=>e?zf:Jf};class Kf extends qf{constructor(...e){super(...e),this.schoolElement=this.getElement("educationalEstablishmentId"),this.schoolNameElement=this.getElement("educationalEstablishment"),this._combineSchoolFields();const t=new(Wf.getSchoolStrategy(this.schoolElement.isRequired()))(this.schoolElement,this.schoolNameElement);this._modelSubscription=this.model.subscribe(()=>{this._matchSchoolValue(),this._valueSubscription=t.setupValueSubscription()},this)}_matchSchoolValue(){const e=this.schoolElement.value(),t=this.schoolNameElement.value();if(t&&!e){const e=Kf._capitalize(this.schoolElement.optionsKeys().label);se.findOne(this.schoolElement.dictionary(),{[e]:t}).then(e=>{this._setSchoolValue(e),this.buildTile(),Hf.renderTimeline.dispatch()})}if(e&&!t){const t=Kf._capitalize(this.schoolElement.optionsKeys().value);se.findOne(this.schoolElement.dictionary(),{[t]:e}).then(e=>{this._setSchoolNameValue(e),this.buildTile(),Hf.renderTimeline.dispatch()})}this._modelSubscription.dispose()}_setSchoolValue(e){const t=this.schoolElement.optionsKeys().value;e?this.schoolElement.value(e[t]):this._addSchoolElementImportFailedValidator()}_setSchoolNameValue(e){if(!e)return;const t=this.schoolNameElement.optionsKeys().label;this.schoolNameElement.value(e[t])}_addSchoolElementImportFailedValidator(){if(!this.schoolElement.isRequired())return;const e=new Uf({label:this.schoolElement.label()});this.schoolElement.addValidator(e,null,"prepend"),this._validateSchoolElement(),this._schoolElementValueSubscription=this.schoolElement.value.subscribe(()=>{this.schoolElement.removeValidator(e),this._validateSchoolElement(),this._schoolElementValueSubscription.dispose()},this)}_validateSchoolElement(){this.schoolElement.validateImmediately(!0),this.schoolElement.validate()}_combineSchoolFields(){const e=this.schoolElement.isRequired();this.schoolElement.isHidden(!e),this.schoolNameElement.isHidden(e)}static _capitalize(e){return e.charAt(0).toUpperCase()+e.slice(1)}}class Gf{constructor(e){this.useForm(e)}get addButtonLabel(){return Object(l.a)("apply-flow.profile-item.add-item-button")}get _sources(){throw new Error("not implemented")}useForm(e){this.form=e}buildTitle(){throw new Error("not implemented")}buildSubtitle(){}resolveFormSources(){const e=this._sources,t=Object.keys(e),i=t.map(t=>{const i=this.form.getElement(e[t]);return(n=i)?n.validate().then(()=>{if(!n.isValid())return Promise.resolve();if(n.isHidden())return Promise.resolve();const e=n.value();return n.getOption?n.getOption(e).catch(e=>(console.error(e),null)):Promise.resolve(e)}):Promise.resolve();var n});return Promise.all(i).then(e=>t.reduce((t,i,n)=>(t[i]=function(e){if(e)return Object.hasOwnProperty.call(e,"meaning")?e.meaning:e}(e[n]),t),{}))}}const Yf=new Ie(navigator.language);var Qf={formatDateRange(e,t,i){const n=this.formatDate(e,i),s=this.formatDate(t,i);return n&&s?`${n} - ${s}`:n&&!s?""+n:!n&&s?""+s:""},formatDate:(e,t)=>e?Yf.formatDate(e,t):""};const Zf=Object(l.a)("apply-flow.profile-item.unnamed-education");class Xf extends Gf{get _sources(){return{degree:"contentItemId",endDate:"endDate",major:"major",school:"educationalEstablishmentId",schoolName:"educationalEstablishment",startDate:"startDate"}}buildTitle(e){return e.major||e.degree||Zf}buildSubtitle(e){const t=e.schoolName||e.school||"",i=Qf.formatDateRange(e.startDate,e.endDate,we);return i?`${t}\n${i}`:t}}class eg extends pe{constructor(...e){super(...e),s.a.utils.extend(this._options,{DATE_ACQUIRED:this._options.dateAcquired.label()})}_validate(e,t){const i=new window.Date,n=t.dateAcquired.value();if(n){if("Y"!==e&&n<=i)return this._message="apply-flow.section-experience.date-acquired-in-past-validator-message",!1;if("Y"===e&&n>i)return this._message="apply-flow.section-experience.date-acquired-in-future-validator-message",!1}return!0}}var tg=Object.create(at,{createForm:{value(e){const t=this._getElementFromConfig(e,"graduatedFlag"),i=this._getElementFromConfig(e,"educationalEstablishmentId");let n,s=this._getElementFromConfig(e,"educationalEstablishment");return t&&(t.type="checkboxStringValue"),i&&(i.type="search",i.optionsKeys={value:"contentItemId",label:"name"},!s||i.isHidden||s.isHidden||(s=this._extendSchoolNameField(s,i))),this._setUrlTypeForEducationUrlElement(e),e.elements=e.elements.map(t=>(t.validateImmediately=e.validateImmediately,at.createFormElement(t))),n=i&&!i.isHidden&&s&&!s.isHidden?new Kf(Xf,e):new qf(Xf,e),n.legend(Object(l.a)("apply-flow.section-experience.add-education-title")),n.bindComponent("education-form"),this._addYearAcquiredValidators(n),this._addStartDateAndEndDateMonthPicker(n),this._graduatedHasToBeCheckedIfYearAcquiredIsInPast(n),this._gradingHasToBeInSpecificRange(n),Vf.createForm(e,n)}},_getElementFromConfig:{value:(e,t)=>e.elements.filter(e=>e.name===t).shift()},_extendSchoolNameField:{value:(e,t)=>(e.type="autosuggest",e.label=t.label,e.dictionary=t.dictionary,e.options=t.options,e.optionsKeys={label:t.optionsKeys.label,value:t.optionsKeys.label,key:t.optionsKeys.value},e)},_addYearAcquiredValidators:{value(e){const t=e.getElement("yearAcquired"),i=e.getElement("dateAcquired");t&&(t.validators({minDate:{min:"1900-01-01",inclusive:!0,msgDateFormat:"yyyy"}}),i&&(i.fixedDay="first",i.validators({sameYear:{with:t,withLabel:t.label(),pairValidationElement:t,pairValidationValidator:"sameYear"}}),t.validators({sameYear:{with:i,withLabel:i.label(),pairValidationElement:i,pairValidationValidator:"sameYear"}})))}},_addStartDateAndEndDateMonthPicker:{value(e){const t=e.getElement("startDate"),i=e.getElement("projectedCompletionDate"),n=e.getElement("endDate");n&&i&&console.error("Both end date and projected comp date are present");const s=n||i;t&&(t.fixedDay="first",t.validators({startDatePicker:!0,minDate:{min:"1900-01-01",inclusive:!0,msgDateFormat:"MM/yyyy"}}),s&&(s.fixedDay="last",s.validators({afterDate:{minDateFormElement:t,pairValidationElement:t,pairValidationValidator:"beforeDate"},minDate:{min:"1900-01-01",inclusive:!0,msgDateFormat:"MM/yyyy"}}),t.validators({beforeDate:{maxDateFormElement:s,pairValidationElement:s,pairValidationValidator:"afterDate"}}))),i&&(i.fixedDay="last")}},_graduatedHasToBeCheckedIfYearAcquiredIsInPast:{value(e){const t=e.getElement("graduatedFlag");let i=e.getElement("dateAcquired"),n=e.getElement("yearAcquired");if(t){i&&(i=Object.create(i,{value:{value:i.value.extend({isoStringToDate:!0})}}),t.addValidator(new eg({dateAcquired:i}))),n&&(n=Object.create(n,{value:{value:n.value.extend({toIsoDate:!0,isoStringToDate:!0})}}),t.addValidator(new eg({dateAcquired:n})));const e=new window.Date,a=s.a.pureComputed(()=>{const s=i&&i.value(),a=n&&n.value();if(!s&&!a)return t.defaultValue();return s>e||a>e?"N":"Y"}).extend({notify:"always"});t.value(a()),a.subscribe(t.value.bind(t))}}},_gradingHasToBeInSpecificRange:{value(e){const t=e.getElement("gpa");t&&t.validators({between:{min:1,max:100,inclusive:!0},scaleNumber:{scale:2}})}},_setUrlTypeForEducationUrlElement:{value(e){const t=this._getElementFromConfig(e,"educationUrl");t&&(t.type="url")}}}),ig={createForm(e,t){const i=s.a.utils.extend({elements:[]},t);i.elements=i.elements.map(e=>(e.validateImmediately=i.validateImmediately,at.createFormElement(e)));const n=new qf(e,i);return Vf.createForm(i,n)}};const ng=Object(l.a)("apply-flow.profile-item.unnamed-experience"),sg=Object(l.a)("apply-flow.profile-item.time-present");class ag extends Gf{get _sources(){return{employerName:"employerName",endDate:"endDate",endingPosition:"jobTitle",startDate:"startDate",isCurrent:"currentJobFlag"}}buildTitle(e){return e.endingPosition||ng}buildSubtitle(e){let t=e.employerName?""+e.employerName:"";if(e.startDate){if(t=t?t+"\n":"","Y"===e.isCurrent){return`${t}${Qf.formatDate(e.startDate,we)} - ${sg}`}return`${t}${Qf.formatDateRange(e.startDate,e.endDate,we)}`}if(e.endDate){const i=Qf.formatDate(e.endDate,we);t=t?`${t}\n${i}`:""+i}return t}}var og=Object.create(ig,{createForm:{value(e){this._setSearchTypeForJobFamilyElement(e),this._convertCurrentJobToCheckbox(e),this._setUrlTypeForCompanyUrlElement(e);const t=ig.createForm(ag,e);return t.bindComponent("experience-form"),t.legend(Object(l.a)("apply-flow.section-experience.add-experience-title")),this._addStartDateAndEndDateMonthPicker(t),this._disableEndDateWhenCurrentJobIsChecked(t),t}},_setSearchTypeForJobFamilyElement:{value(e){const t=s.a.utils.arrayFirst(e.elements,e=>"jobFamilyId"===e.name);t&&(t.type="search",t.optionsKeys={value:"jobFamilyId",label:"jobFamilyName"})}},_setUrlTypeForCompanyUrlElement:{value(e){const t=s.a.utils.arrayFirst(e.elements,e=>"companyUrl"===e.name);t&&(t.type="url")}},_convertCurrentJobToCheckbox:{value(e){const t=s.a.utils.arrayFirst(e.elements,e=>"currentJobFlag"===e.name);t&&(t.type="checkboxStringValue")}},_addStartDateAndEndDateMonthPicker:{value(e){const t=e.getElement("startDate"),i=e.getElement("endDate");t&&(t.fixedDay="first",t.validators({startDatePicker:!0,minDate:{min:"1900-01-01",inclusive:!0,msgDateFormat:"MM/yyyy"}}),i&&(i.fixedDay="last",i.validators({afterDate:{minDateFormElement:t,pairValidationElement:t,pairValidationValidator:"beforeDate"},minDate:{min:"1900-01-01",inclusive:!0,msgDateFormat:"MM/yyyy"}}),t.validators({beforeDate:{maxDateFormElement:i,pairValidationElement:i,pairValidationValidator:"afterDate"}})))}},_disableEndDateWhenCurrentJobIsChecked:{value(e){const t=e.getElement("endDate"),i=e.getElement("currentJobFlag");if(t&&i){const e=e=>{const i="Y"===e;t.isDisabled(i),t.attributes().required&&t.getValidator("required").isDisabled(i),i&&t.value(null)};e(i.value()),i.value.subscribe(e)}}}});class rg extends pe{constructor(...e){super(...e),this._message="apply-flow.validation.required-locations"}_countLocations(e){return e.map(e=>e()).filter(e=>Boolean(e)).length}_validate(e,t){return this._countLocations(t.allLocations)>=t.min}}class lg extends Ke{constructor({label:e,options:t,optionsDisabled:i,fields:n,allLocations:s}){super(""),this.label(e),this.fields=n,this.allLocations=s,this.dictionary(se.CODES.profileLocations),this.optionsKeys({value:"locationId",label:"locationName"}),this.options(t),this.optionsDisabled=i,this.validators({})}_setValidators(){const e=new rg({label:this.label(),min:this._countRequiredFields(),allLocations:this.allLocations});return this.addValidator(e),this}_countRequiredFields(){return this.fields.filter(e=>e.attributes.required).length}getLabel(e){return e?this.valueLabel()?Promise.resolve(this.valueLabel()):this.getOption(e).then(e=>e.meaning):Promise.resolve()}}class cg extends pe{constructor(...e){super(...e),this._message="apply-flow.validation.unique-locations",s.a.utils.extend(this._options,{preferred_label:this._options.preferredLabel,excluded_label:this._options.excludedLabel})}_validate(e){const t=s.a.unwrap(e),i=[].concat(t.preferredLocations,t.excludedLocations);return s.a.utils.arrayGetDistinctValues(i).length===i.length}}const dg=Object(l.a)("apply-flow.work-preferences.preferred-location-label"),ug=Object(l.a)("apply-flow.work-preferences.excluded-location-label");const pg={workLocations:class extends Ue{constructor(...e){super(...e),this.component("locations-form-element"),this.preferredElement=null,this.preferredFields=s.a.observableArray(),this.preferredOptions=s.a.pureComputed(()=>{const e=this.preferredFields();return e.length?e[0].options:[]}),this.preferredLabel=s.a.observable(dg),this.excludedElement=null,this.excludedFields=s.a.observableArray(),this.excludedOptions=s.a.pureComputed(()=>{const e=this.excludedFields();return e.length?e[0].options:[]}),this.excludedLabel=s.a.observable(ug),this.optionsDisabled=s.a.pureComputed(()=>{const{preferredLocations:e,excludedLocations:t}=this.value();return[...e,...t]})}_resolveLabel(e,t){if(e.length){return(e[0].label||"").trim()||t}return t}_getLocations(e){return e.map(e=>e()).filter(e=>Boolean(e))}_getValue(){return this._initValue(),{preferredLocations:this._getLocations(this.preferredLocations()),excludedLocations:this._getLocations(this.excludedLocations())}}_initValue(){this.preferredLocations||(this.preferredLocations=s.a.observableArray()),this.excludedLocations||(this.excludedLocations=s.a.observableArray())}_setValidators(){const e=new cg({preferredLabel:this.preferredLabel(),excludedLabel:this.excludedLabel()});this.addValidator(e)}_hasValidValue(){let e=super.isValid();return this.preferredElement&&(e=e&&this.preferredElement.isValid()),this.excludedElement&&(e=e&&this.excludedElement.isValid()),e}_createLocationsArray(e,t){return e.sort((e,t)=>Boolean(t.attributes.required)-Boolean(e.attributes.required)).map(e=>t[e.name])}resolveOptionsDependency(e,t){const i=this._createLocationsArray(this.preferredFields(),t);this.preferredLocations(i),this.preferredElement=new lg({label:this.preferredLabel(),options:this.preferredOptions(),optionsDisabled:this.optionsDisabled,fields:this.preferredFields(),allLocations:this.preferredLocations()});const n=this._createLocationsArray(this.excludedFields(),t);this.excludedLocations(n),this.excludedElement=new lg({label:this.excludedLabel(),options:this.excludedOptions(),optionsDisabled:this.optionsDisabled,fields:this.excludedFields(),allLocations:this.excludedLocations()})}dispose(){this.preferredElement&&this.preferredElement.dispose(),this.excludedElement&&this.excludedElement.dispose(),super.dispose()}}};var hg=Object.create(nt,{create:{value(e,t){if(e in pg){return new(0,pg[e])(t)}return nt.create(e,t)}}});const mg=["preferredLocationId1","preferredLocationId2","preferredLocationId3","preferredLocationId4"],bg=["excludedLocationId1","excludedLocationId2","excludedLocationId3","excludedLocationId4"];var fg={getPreferredLocationFields:()=>mg,getExcludedLocationFields:()=>bg};var gg=Object.create(Vf,{createForm:{value(e){this._appendSearchLocationsField(e),this._removeLocationFields(e);const t=Vf.createForm.bind(this)(e).bindComponent("work-preferences");return this._hidePreferredOrExcludedLocationWhenNoWillingToRelocate(t),this._makeCurrencyCodeAndFrequencyMandatoryWhenMinimumSalaryIsNotEmpty(t),this._makeCurrencyCodeAndFrequencyHiddenWhenNotRequired(t),this._setFocusOnMinimumSalary(t),this._hideTravelFrequencyWhenTravelingIsOff({form:t,travelFieldName:"natTravelFlag",frequencyFieldName:"natTravelFrequency"}),this._hideTravelFrequencyWhenTravelingIsOff({form:t,travelFieldName:"intlTravelFlag",frequencyFieldName:"intlTravelFrequency"}),this._requirePositiveIntegerFrom(t.getElement("relocateDuration")),t}},createFormElement:{value(e){const t=hg.create(e.type,e.name);return this._initFormElement(t,e)}},_initFormElement:{value:(e,t)=>(t.preferredFields&&e.preferredFields(t.preferredFields),t.excludedFields&&e.excludedFields(t.excludedFields),Vf._initFormElement(e,t))},_appendSearchLocationsField:{value(e){if(e.elements.filter(e=>"locations-selector"===e.name).length>0)return;const t=fg.getPreferredLocationFields(),i=fg.getExcludedLocationFields(),n=(e,t)=>e.filter(e=>t.indexOf(e.name)>-1&&!e.isHidden),s=t.concat(i),a=n(e.elements,s),o={name:"locations-selector",type:"workLocations",isHidden:a.every(e=>e.isHidden),preferredFields:n(a,t),excludedFields:n(a,i)},r=e.elements.filter(e=>"allLocationsFlag"===e.name).shift(),l=e.elements.indexOf(r)+1;e.elements.splice(l,0,o)}},_removeLocationFields:{value(e){const t=fg.getPreferredLocationFields(),i=fg.getExcludedLocationFields(),n=t.concat(i);e.elements=e.elements.filter(e=>n.indexOf(e.name)<0)}},_makeCurrencyCodeAndFrequencyMandatoryWhenMinimumSalaryIsNotEmpty:{value(e){const t=e.getElement("minimumPay"),i=e.getElement("currencyCode"),n=e.getElement("payFrequency");if(t){t.validators("positiveInteger");const e=s.a.pureComputed(()=>Boolean(t.value()));i&&!i.isRequired()&&(e()&&i.isRequired(!0),e.subscribe(e=>{i.isRequired(e),e||i.value(null)})),n&&!n.isRequired()&&(e()&&n.isRequired(!0),e.subscribe(e=>{n.isRequired(e),e||n.value(null)}))}}},_makeCurrencyCodeAndFrequencyHiddenWhenNotRequired:{value(e){const t=e.getElement("minimumPay"),i=e.getElement("currencyCode"),n=e.getElement("payFrequency");let a;if(t&&(a=s.a.pureComputed(()=>!t.value()||t.isHidden())),i){let t;a&&!i.isRequired()?(i.isHidden(a()),t=a.subscribe(e=>{i.isHidden(e)})):(i.isHidden(!i.isRequired()),t=i.isRequired.subscribe(e=>{i.isHidden(!e)})),e.subscriptions.push(t)}if(n){let t;a&&!n.isRequired()?(n.isHidden(a()),t=a.subscribe(e=>{n.isHidden(e)})):(n.isHidden(!n.isRequired()),t=n.isRequired.subscribe(e=>{n.isHidden(!e)})),e.subscriptions.push(t)}}},_setFocusOnMinimumSalary:{value(e){const t=e.getElement("minimumPay");e.getElement("currencyCode").containerId("currencyCode"),t.focusNextSelector("#currencyCode oj-select-one")}},_hidePreferredOrExcludedLocationWhenNoWillingToRelocate:{value(e){const t=e.getElement("relocateFlag");if(!t)return;const i=e.getElement("locations-selector"),n=e.getElement("allLocationsFlag"),a=s.a.pureComputed(()=>!t.value()||"N"===t.value());if(i&&!i.isHidden()){i.isHidden(a());const t=a.subscribe(i.isHidden.bind(n));e.subscriptions.push(t)}if(n&&!n.isHidden()){n.isHidden(a());const t=a.subscribe(n.isHidden.bind(n));e.subscriptions.push(t)}}},_hideTravelFrequencyWhenTravelingIsOff:{value(e){const{form:t}=e,i=t.getElement(e.travelFieldName),n=t.getElement(e.frequencyFieldName),a=()=>!i.value()||"N"===i.value();if(i&&n&&!n.isRequired()&&!n.isHidden()){const e=s.a.pureComputed(a);t.subscriptions.push(e),n.isHidden(e());const i=e.subscribe(n.isHidden.bind(n));t.subscriptions.push(i)}}},_requirePositiveIntegerFrom:{value(e){e&&e.addValidator("positiveInteger")}}});const vg=Object(l.a)("apply-flow.profile-item.unnamed-license"),_g=Object(l.a)("apply-flow.profile-item.time-present"),yg=Object(l.a)("apply-flow.profile-item.valid-until");class xg extends Gf{get _sources(){return{name:"contentItemId",certificationName:"certificationName",title:"title",issueDate:"issueDate",expirationDate:"expirationDate"}}buildTitle({title:e,name:t,certificationName:i}){return e||i||t||vg}buildSubtitle(e){if(e.issueDate){if(e.expirationDate)return Qf.formatDateRange(e.issueDate,e.expirationDate);return`${Qf.formatDate(e.issueDate)} - ${_g}`}if(e.expirationDate){const t=Qf.formatDate(e.expirationDate);return`${yg} ${t}`}return null}}var wg=Object.create(ig,{createForm:{value(e){this._setSearchTypeNameElement(e),this._setSearchTypeEstablishmentElement(e),this._setUrlTypeNameElement(e);const t=ig.createForm(xg,e).bindComponent("license-form");return this._issueDateCannotBeLaterThanExpiryDate(t),t}},_setSearchTypeNameElement:{value(e){const t=s.a.utils.arrayFirst(e.elements,e=>"contentItemId"===e.name);t&&(t.type="search",t.optionsKeys={value:"contentItemId",label:"name"})}},_setSearchTypeEstablishmentElement:{value(e){const t=s.a.utils.arrayFirst(e.elements,e=>"educationalEstablishmentId"===e.name);t&&(t.type="search",t.optionsKeys={value:"contentItemId",label:"name"})}},_setUrlTypeNameElement:{value({elements:e}){const t=s.a.utils.arrayFirst(e,e=>"certificationUrl"===e.name);t&&(t.type="url")}},_issueDateCannotBeLaterThanExpiryDate:{value(e){const t=e.getElement("expirationDate"),i=e.getElement("issueDate");t&&i&&(i.validators({beforeDate:{maxDateFormElement:t,inclusive:!0,pairValidationElement:t,pairValidationValidator:"afterDate"}}),t.validators({afterDate:{minDateFormElement:i,inclusive:!0,pairValidationElement:i,pairValidationValidator:"beforeDate"}}))}}});const kg=Object(l.a)("apply-flow.profile-item.unnamed-language");class Ig extends Gf{get _sources(){return{name:"contentItemId",language:"language"}}buildTitle(e){return e.name||e.language||kg}}var Cg=Object.create(ig,{createForm:{value(e){this._setSearchTypeLanguageElement(e);const t=ig.createForm(Ig,e).bindComponent("language-form");return this._addUniqueValidator(t),t}},_setSearchTypeLanguageElement:{value(e){const t=s.a.utils.arrayFirst(e.elements,e=>"contentItemId"===e.name);t&&(t.type="search",t.optionsKeys={value:"contentItemId",label:"name"})}},_addUniqueValidator:{value(e){const t=e.getElement("contentItemId"),i=s.a.pureComputed(()=>{const{sectionId:t}=s.a.unwrap(e).model();return Ga.languages().filter(e=>e.sectionId===t)});t&&t.validators("unique",{inArray:i,label:s.a.unwrap(t.label)||"",propertyName:"contentItemId"})}}});const Sg=Object(l.a)("apply-flow.profile-item.unnamed-skill");class Eg extends Gf{get _sources(){return{name:"skills"}}buildTitle(e){return e.name||Sg}}var Og=Object.create(ig,{createForm:{value(e){const t=ig.createForm(Eg,e).bindComponent("skill-form");return this._requirePositiveIntegerFrom(t.getElement("yearsOfExperience")),t}},_requirePositiveIntegerFrom:{value(e){e&&e.addValidator("positiveInteger")}}});const Ag={[oo]:wg,[ro]:tg,[lo]:Cg,[co]:gg,[uo]:og,[po]:Og};var Pg={getFormBuilder:e=>Ag[e]};function Tg(e){const t=window.outerHeight/2-e.height(),{top:i}=e.offset();window.scrollTo(0,i-t)}function jg(e=window.body){const t=ut()('.input-row--invalid, [data-profile-item-invalid="true"]',e).first();return t.length?t:ut()(":tabbable",e).first()}function Rg(e){Tg(e),e.is(":tabbable")&&e.is("button")?e.focus():e.find(":tabbable").first().focus()}var Fg={run(e,t=0){e&&function(){const e=ut()('[data-section-invalid="true"]').first().attr("data-section-number");if(e!==h.a.routeParams().sectionNumber){const t=Ip.a.isPostApply()?"post-apply":"apply-flow";h.a.go(t,{sectionNumber:e})}}();const i=jg();if(i.length)return i.attr("data-profile-item-tile")?(Tg(i),void i.click()):void setTimeout(()=>Rg(i),t)},focusInvalid(e,t=0){const i=jg(e.target||e);i.length&&setTimeout(()=>Rg(i),t)}};class Dg extends pf{constructor(e){super(e);const{section:t,code:i,blockId:n,blockProperties:a,metadataServiceUrl:o}=e;this.section=t,this.sectionNumber=t.number,this.code=i,this.blockId=n,this.blockProperties=a,this._getMetadata(o),this.readWriteService=null,this.profileItems=this._getCandidateProfileItems(),this.forms=s.a.observableArray(),this._formElements=s.a.observableArray(),this.addButtonLabel="apply-flow.profile-item.add-item-button",this.isValidationInProgress=s.a.observable(!1),this.showAddButton=s.a.pureComputed(()=>{if(this._hideAddButton())return!1;const e=this.forms().length;return!!this._isMultiProfileItemSupported()||0===e}),this._refreshProfileItemsSignal=Kd.refresh.add(this._refreshProfileItems,this),(null==a?void 0:a.sectionId)&&this._initCustomJsValidation(a.sectionId),this.subscribeToProfileItems(),this._loadForms()}_hideAddButton(){return!1}_getMetadata(e){const{contentTypeId:t,sectionId:i}=this.blockProperties;this.metadataService=new ib(e,t,i,!0),this._contentTypeId=t,this._sectionId=i}_getCandidateProfileItems(){const e=Fo[this._contentTypeId];return Ga[e]}_loadForms(){return this._fetchFormElements().then(e=>{this._formElements(e),this.readWriteService=this._getReadWriteService(this._contentTypeId,e)}).then(()=>this._fetchProfileItems()).then(e=>this._setProfileItems(e)).then(e=>this._enableImmediateValidation(e)).then(()=>_p.setBlockReady(this.sectionNumber,this.blockId))}_getReadWriteService(e,t){return Th.create(e,t)}_fetchFormElements(){return this.metadataService.getFormElements()}_fetchProfileItems(){const e=Kp.unshiftAll(this._contentTypeId);return e.length&&(ru.updateCandidateModificationDate(),this._setProfileItems(e)),Promise.resolve(Ga.id()).then(e=>e||Promise.reject()).then(()=>this.readWriteService.query(this._sectionId)).catch(e=>(console.error(e),[]))}_setProfileItems(e){return e.forEach(e=>{this.profileItems().find(t=>{const i=t.contentTypeId(),n=t[Do[i]],s=e[Do[i]];return n()&&n()===s()})||this.profileItems.push(e)}),this.profileItems().filter(e=>this._isNotDeleted(e)).forEach(e=>this._insertSingleForm(e)),this.profileItems()}_hasProfileItems(){return 0!==this.profileItems().length}_syncForms(e){this._removeForms(e),this._addForms(e)}_removeForms(e){e.filter(e=>"deleted"===e.status).map(e=>e.value).forEach(e=>this._removeSingleForm(e))}_addForms(e){e.filter(e=>"added"===e.status).map(e=>e.value).filter(e=>this._isNotDeleted(e)).forEach(e=>this._insertSingleForm(e))}_isMultiProfileItemSupported(){return this.metadataService.isMultiProfileItemSupported(this._contentTypeId)}_hasSameSectionId(e){return e.sectionId()===this._sectionId}_isNotDeleted(e){return"DELETE"!==e.action()}_refreshProfileItems(){return _p.setBlockUnready(this.sectionNumber,this.blockId),this._fetchProfileItems().then(e=>this._setProfileItems(e)).then(()=>_p.setBlockReady(this.sectionNumber,this.blockId)).catch(console.error)}_insertSingleForm(e){if(!this._hasSameSectionId(e))return!1;let t=this._getFormByItemId(e.id());return t||(t=this._createSingleForm(e),this.forms.push(t),kp.registerForm(t,this.sectionNumber)),t}_createSingleForm(e){const t=this._getFormBuilder().createForm({elements:this._formElements(),contentTypeId:this._contentTypeId}).registerModel(e).resolveElementsDependencies();return this.customJsValidation.addToForm(t),this._disableContentItemId(t),s.a.observable(t)}_enableImmediateValidation(e){e&&e.forEach(e=>{const t=this._getFormByItemId(e.id());t&&t().enableImmediateValidation()})}_disableContentItemId(e){if(!e.model().isNew()){const t=e.getElement("contentItemId");t&&t.isDisabled(!0)}}_getFormBuilder(){return Pg.getFormBuilder(this._contentTypeId)}_removeSingleForm(e){const t=this._getFormByItemId(e.id());t&&t().dispose(),this.forms.remove(t),kp.unregisterForm(t,this.sectionNumber)}_getFormByItemId(e){return s.a.utils.arrayFirst(this.forms(),t=>t().model().id()===e)}addProfileItem(){const e=this._createItem();return this._pushProfileItem(e)}_pushProfileItem(e){return new Promise(t=>{this.forms.subscribeOnce(e=>{const i=e.filter(e=>"added"===e.status).map(e=>e.value()).pop();t(i)},this,"arrayChange"),this.profileItems.push(e)})}_createItem(){return new(mo.getModel(this._contentTypeId))({contentTypeId:this._contentTypeId,sectionId:this._sectionId})}removeProfileItem(e){const t=s.a.unwrap(e).model();this.profileItems.remove(t),Op.clearNotifications(),this.runCustomJsValidation()}subscribeToProfileItems(){this.profileItems&&(this._profileItemsArrayChangeSub=this.profileItems.subscribe(e=>this._syncForms(e),this,"arrayChange"))}validateProfileItemForm(e){return e.enableImmediateValidation(),e.validate().then(t=>t?this._runBackendValidation(e):(this.focusInvalidElement(),Promise.reject())).then(this.runCustomJsValidation)}focusInvalidElement(){const e=this._findContainerElement();Fg.focusInvalid(e)}_executeValidation(e){return this.readWriteService.validate(e)}_runBackendValidation(e){return this.isValidationInProgress(!0),this._executeValidation(e.model()).then(()=>(this.isValidationInProgress(!1),Promise.resolve())).catch(()=>(this.isValidationInProgress(!1),Promise.reject()))}_findContainerElement(){return null}dispose(){this._refreshProfileItemsSignal.detach(),this._profileItemsArrayChangeSub.dispose()}}class Lg{constructor(e){this.form=e,this.initialState=this.form.elements().map(e=>({value:e.value(),name:e.name()}))}hasChanged(){return this.form.elements().map(e=>{const t=this.initialState.find(t=>t.name===e.name());return!!t&&this._areEqual(t,e)}).includes(!1)}_areEqual(e,t){return e.value===t.value()||!!this._isCheckbox(t)&&this._areUncheckedElementsEqual(e,t)}_areUncheckedElementsEqual(e,t){return t.value()===t.uncheckedValue&&null===e.value}_isCheckbox(e){return Boolean(e.uncheckedValue)}}const Ng={[oo]:"apply-flow.profile-item.add-license-button",[ro]:"apply-flow.section-experience.education-button",[lo]:"apply-flow.profile-item.add-language-button",[uo]:"apply-flow.section-experience.experience-button",[po]:"apply-flow.profile-item.add-skill-button"};class Mg extends Dg{constructor(...e){super(...e),this.isReady=s.a.pureComputed(()=>{var t;const[{blockId:i,section:{number:n}={}}={}]=e;return null===(t=s.a.unwrap(_p.isBlockReady(n,i)))||void 0===t||t}),this.addButtonId="profileItemsAddButton-"+Date.now(),this.addButtonLabel=this._getButtonLabel(),this.showRemoveButton=s.a.observable(!0),this._shouldBuildTilesOnInit=!0,this.canAddProfileItem=s.a.pureComputed(()=>this._canAddProfileItem()),this.activeForm=s.a.pureComputed(()=>{const[e]=this.forms().filter(e=>e().isActive());return e?e():void 0}),this.hasActiveForm=s.a.pureComputed({read:()=>Boolean(this.activeForm()),write:e=>{e||this.doneProfileItem(this.activeForm())}}),this.section.addBeforeExitCallback(this._collapseTiles.bind(this)),this.focusCallback=Fg.focusInvalid,this.qaAttributeAdd="add"+this._contentTypeId,this.qaAttributeItem="profileItem"+this._contentTypeId}_getButtonLabel(){return Ng[this._contentTypeId]}_loadForms(){return super._loadForms().then(()=>{this._shouldBuildTilesOnInit&&this._buildTiles(),this._formsSub=this.forms.subscribe(()=>this._buildTiles(),this,"arrayChange")})}_canAddProfileItem(){return!s.a.utils.arrayFirst(this.forms(),e=>e().isEmpty()&&e().isActive())}_buildTiles(){this.forms().forEach(e=>this._showTile(e()))}_showTile(e){e.buildTile(),e.showTile()}_hideForm(e){return this.validateProfileItemForm(e).then(()=>this._showTile(e))}_collapseTiles(){this.forms().filter(e=>e().isActive()).forEach(e=>this.doneProfileItem(e()))}_findContainerElement(){return document.querySelector(".app-dialog__content")||document.querySelector("article[aria-expanded=true] form-builder")}addProfileItem(){return this._addProfileItem(!0)}addAndInitializeProfileItem(e,t){return this._addProfileItem(e,t)}_addProfileItem(e=!0,t){return this._isNew=!0,super.addProfileItem().then(i=>{"function"!=typeof t?e&&this.editProfileItem(i):this._handleProfileItemInitializer({form:i,edit:e,profileItemInitializer:t})}).catch(console.error)}_handleProfileItemInitializer({form:e,edit:t,profileItemInitializer:i}){i(e).then(()=>{this._isNew=null,t&&this.editProfileItem(e)}).catch(()=>{this.editProfileItem(e)})}editProfileItem(e){this._collapseTiles(),this.changeDetector=new Lg(e),e.showForm()}doneProfileItem(e){if(!this.shouldFormBeValidated(e))return this._isNew?this.removeProfileItem(e):e.isActive(!1),void(this._isNew=null);this._hideForm(e).then(()=>{this._isNew=null}),Kd.profileItemChangeDetected.dispatch(e)}shouldFormBeValidated(e){return e&&this.changeDetector.hasChanged()}removeProfileItem(e){this._isNew=null,e.isActive(!1),super.removeProfileItem(e),Kd.profileItemChangeDetected.dispatch(e)}dispose(){super.dispose(),this._formsSub&&this._formsSub.dispose()}}var Vg='\x3c!-- ko if: customJsValidation.showMessage --\x3e\n<p\n    class="input-row__validation input-row__validation--top input-row--invalid"\n    role="alert"\n    data-bind="html: customJsValidation.message"\n></p>\n\x3c!-- /ko --\x3e\n\n\x3c!-- ko if: forms --\x3e\n\x3c!-- ko foreach: {data: forms, as: \'form\'} --\x3e\n<article\n    class="apply-flow-profile-item-tile"\n    data-bind="css: {\n                            \'apply-flow-profile-item-tile--active\': form.isActive,\n                            \'apply-flow-profile-item-tile--invalid\': form.isTileInvalid\n                        },\n                        attr: {id: form.navId, \'data-qa\': $parent.qaAttributeItem}"\n>\n    <button\n        type="button"\n        class="apply-flow-profile-item-tile__summary"\n        data-profile-item-tile="true"\n        data-bind="\n                click: $parent.editProfileItem.bind($parent),\n                attr: { \'data-profile-item-invalid\': form.isTileInvalid },\n                i18nAttr: {title: \'general.change-button\' } "\n    >\n        <div class="apply-flow-profile-item-tile__summary-title" data-bind="text: form.tileTitle"></div>\n\n        \x3c!-- ko if: form.tileSubtitle --\x3e\n        <div\n            class="apply-flow-profile-item-tile__summary-subtitle text-color-secondary"\n            data-bind="text: form.tileSubtitle"\n        ></div>\n        \x3c!-- /ko --\x3e\n\n        \x3c!-- ko ifnot: form.isValid --\x3e\n        <div class="apply-flow-profile-item-tile__summary-validation">\n            <span\n                data-bind="i18n: {key: \'apply-flow.validation.error-count-label\', tokens: {numberofissues: form.totalErrors}}"\n            ></span>\n        </div>\n        \x3c!-- /ko --\x3e\n\n        <div class="apply-flow-profile-item-tile__edit-icon background-color-1"></div>\n\n        <div class="apply-flow-profile-item-tile__summary-hover theme-color-1"></div>\n    </button>\n</article>\n\n\x3c!--/ko --\x3e\n\x3c!-- /ko --\x3e\n\n<minimal-dialog params="isVisible: hasActiveForm, focusCallback: focusCallback">\n    <dialog-body>\n        \x3c!-- ko if: activeForm --\x3e\n        <div class="app-dialog__content">\n            <form-builder params="form: activeForm"></form-builder>\n        </div>\n\n        <div class="app-dialog__footer">\n            <div class="app-dialog__buttons-bar font-family-secondary text-color-primary">\n                \x3c!-- ko if: $parents[1].showRemoveButton --\x3e\n                <button\n                    class="button app-dialog__footer-button"\n                    data-bind="click: $parents[1].removeProfileItem.bind($parents[1], activeForm())"\n                >\n                    <span\n                        class="button__label"\n                        data-bind="i18n: \'apply-flow.profile-item.remove-item-button\'"\n                    ></span>\n                </button>\n                \x3c!-- /ko --\x3e\n\n                <button\n                    class="button app-dialog__footer-button"\n                    data-qa="addTileItemDialogButton"\n                    data-bind="click: $parents[1].doneProfileItem.bind($parents[1], activeForm()), disable: $parents[1].isValidationInProgress"\n                >\n                    <inline-spinner\n                        class="button__label"\n                        params="isLoading: $parents[1].isValidationInProgress, i18n: \'general.done-button\'"\n                    ></inline-spinner>\n                </button>\n            </div>\n        </div>\n        \x3c!-- /ko --\x3e\n    </dialog-body>\n</minimal-dialog>\n\n\x3c!-- ko ifnot: isReady --\x3e\n<spinner></spinner>\n\x3c!-- /ko --\x3e\n\n\x3c!-- ko if: isReady && showAddButton && canAddProfileItem --\x3e\n<button\n    type="button"\n    class="button apply-flow-profile-item-tile__new-tile"\n    data-bind="enable: canAddProfileItem,\n                   attr: {id: addButtonId, \'data-qa\': qaAttributeAdd},\n                   click: addProfileItem"\n>\n    <span class="button__label" data-bind="i18n: addButtonLabel"></span>\n</button>\n\x3c!-- /ko --\x3e\n';n.components.register("skill",{viewModel:class extends Mg{constructor(...e){super(...e);const[{isActive:t}]=e;this.isActive=t,this.sectionId=this.blockProperties.sectionId,this.isValidating=Object(n.observable)(!1),this.isSkillRecommendationEnabled=Mf.isSkillRecommendationEnabled(),this.createTile=this.createTile.bind(this)}createTile(e){return e?this.addAndInitializeProfileItem(!1,this._profileItemInitializer(e)):Promise.resolve()}_profileItemInitializer(e){return t=>(t.getElement("skills").value(e),t.buildTile(),this.isValidating(!0),this.validateProfileItemForm(t).finally(()=>this.isValidating(!1)))}},template:"\x3c!-- ko if: isSkillRecommendationEnabled --\x3e\n\n\x3c!-- ko component: { \n      name: 'skill-recommendation', \n      params: {\n         isActive: isActive,\n         createTile: createTile,\n         sectionId: sectionId,\n         isValidating: isValidating\n      } } --\x3e\n\n\x3c!-- /ko --\x3e\n\n\x3c!-- /ko --\x3e\n\n\x3c!-- ko component: { name: 'skill-items-tile', params: $component } --\x3e\n\x3c!-- /ko --\x3e\n"}),n.components.register("skill-items-tile",{template:Vg}),Bc.registerBlock("ORA_SKILL",{component:"skill",repository:ib,requireBlockProperties:!0});const Bg={DATE:"date",TEXTAREA:"textarea"};function qg(e,t){return e.displaySequence-t.displaySequence}var Ug={mapFormElementFromRest(e,t){const i={type:this.getFormElementType(e.type),datatype:e.type,name:(n=e.attributeName,$.a.toCamelCase(n.replace(/\s/g,""))),label:e.prompt,defaultValue:e.defaultValue,value:e.defaultValue,isHidden:e.uihiddenFlag,attributes:{readonly:e.readonlyFlag,required:e.requiredFlag},validators:{},options:e.answers,sectionId:e.sectionId};var n;return e.dictionary&&(i.type="select"),e.requiredFlag&&(i.validators.required={label:e.prompt}),e.maximumLength&&(i.validators.maxLength={max:e.maximumLength}),"country"===i.name?function(e){return e.requiredFlag=!0,e.type="select",se.get(se.CODES.countries).then(t=>(e.options=t,e))}(i):Km.mapFormElementFromRest(e,i,t)},mapFormElementsFromRest(e){const t=e.items.sort(qg);return Promise.all(t.map(e=>this.mapFormElementFromRest(e,t)))},getFormElementType:e=>Bg[e]||"text"};class Hg{constructor(e){this._serviceUrl=e}getFormElements(){return K.get(this._serviceUrl).then(e=>Ug.mapFormElementsFromRest(e))}isMultiProfileItemSupported(){return!0}}var $g=Object.create(at,{createForm:{value(e){const t=at.createFormElement(e.formElementDef);t.showLabelTooltip(!1),t.registerModel(Ga.dateOfBirth);const i=at.createForm().elements([t]);return this._dateOfBirthValidation(t,e),this._setDateOfBirthDisabled(t),i}},_dateOfBirthValidation:{value(e,t){const i={maxDate:{max:this._formatDateYYYYMMDD(new Date),inclusive:!0,lang:c.a.siteLang}};t.blockProperties.isDOBRequired&&(i.required={label:e.label()}),e.validators(i)}},_formatDateYYYYMMDD:{value:e=>e.toISOString().slice(0,10)},_setDateOfBirthDisabled:{value(e){this._candidateIsExWorkerOrCwk()&&this._candidateHasDateOfBirthInProfile()&&(e.isDisabled(!0),e.helpText(Object(l.a)("apply-flow.section-personal-identifying-information.date-of-birth-disabled")))}},_candidateIsExWorkerOrCwk:{value(){const{exWorker:e,cwkCandidate:t}=Ga.basicInformation;return e()||t()}},_candidateHasDateOfBirthInProfile:{value:()=>Ga.isDateOfBirthInProfile()}});const Jg=Object(l.a)("apply-flow.section-personal-identifying-information.unnamed-national-identifier");class zg extends Gf{get _sources(){return{legislationCode:"country",nationalIdentifierType:"nationalIdtype",nationalIdentifierNumber:"nationalId"}}buildTitle(e){const t=e.nationalIdentifierNumber||"",i=e.nationalIdentifierType||Jg;return{nationalId:t.replace(/.(?=.{2})/g,"*"),nationalIdType:i}}buildSubtitle(e){return e.legislationCode||""}}class Wg extends qf{constructor(...e){super(...e);const[,t]=e;this.showRemoveButton=Object(n.observable)(!0),this.validationErrorMessage=Object(n.observable)(),this.isReadOnly=t.readOnly,this.isValidAfterServiceCall=Object(n.pureComputed)(()=>!this.validationErrorMessage(),this),this.isValid=Object(n.pureComputed)(this._isPiiFormValid,this),this.getErrorCount=Object(n.pureComputed)(this._getPiiErrorCount,this),this.totalErrors=Object(n.pureComputed)(this.getErrorCount,this),this.legislationCodeElement=this.getElement("country"),this.nationalIdTypeElement=this.getElement("nationalIdtype"),this.nationalIdElement=this.getElement("nationalId"),this.tileNationalIdTitle=Object(n.observable)()}async buildTile(){const e=await this.tileStrategy.resolveFormSources(),[t,i]=await Promise.all([this.tileStrategy.buildTitle(e),this.tileStrategy.buildSubtitle(e)]);this.tileTitle(t.nationalIdType),this.tileNationalIdTitle(t.nationalId),this.tileSubtitle(i)}registerModel(e){return"CREATE"===e.action()?(this.nationalIdTypeElement.isDisabled(!0),this.showRemoveButton(!0),this._legislationCodeValueSubscription=this.legislationCodeElement.value.subscribe(this._legislationCodeValueChanged,this),this._nationalIdTypeValueSubscription=this.nationalIdTypeElement.value.subscribe(this._nationalIdTypeValueChanged,this)):(this.legislationCodeElement.isDisabled(!0),this.nationalIdTypeElement.isDisabled(!0),this.showRemoveButton(!1)),super.registerModel(e)}_legislationCodeValueChanged(){this.nationalIdTypeElement.value(null),this.nationalIdTypeElement.isDisabled(!this.legislationCodeElement.value())}_nationalIdTypeValueChanged(){this.nationalIdElement.value(null),this.nationalIdTypeElement.validate().then(e=>{this.nationalIdElement.isDisabled(!this.nationalIdTypeElement.value()||!e)})}_isPiiFormValid(){return this.elements().filter(e=>!e.isHidden||e.isHidden&&!e.isHidden()).every(e=>!e.isValid||e.isValid&&e.isValid())&&this.isValidAfterServiceCall()}_getPiiErrorCount(){let e=this.elements().filter(e=>!e.isHidden||e.isHidden&&!e.isHidden()).filter(e=>!e.isValid());return this.isValidated()||(e=e.filter(e=>e.isDirty())),e.length+!this.isValidAfterServiceCall()}dispose(){}}class Kg extends pe{constructor(...e){super(...e),this._message="apply-flow.section-personal-identifying-information.validation.nino-uk-expiration-date-should-not-exist"}_validate(e,t){const i=t.countryCode.value(),n=t.typePii.value();return"GB"!==i||"NINO"!==n||!e}}class Gg extends Ue{constructor(...e){super(...e),this.component("masked-text-form-element")}}class Yg extends pe{constructor(...e){super(...e),this._message="apply-flow.section-personal-identifying-information.validation.nino-max-issue-date-validation"}_validate(e,t){const{issueDateElement:i,expiryDateElement:n}=t;return!(function(e){if(!e)return;const[t]=e.split("-");return parseInt(t,10)}(i.value())>=4713&&null==n.value())}}var Qg=Object.create(at,{createForm:{value(e){e.elements=e.elements.map(t=>{t.validateImmediately=e.validateImmediately;const i="nationalId"===t.name?this._createNationalIdElement(t,e.isNew):at.createFormElement(t);return e.readOnly&&i.attributes("disabled",!0),i});const t=Vf.createForm(e,new Wg(zg,e)).bindComponent("pii-form");return e.readOnly||this._addPiiDataValidation(t,e),t}},_addPiiDataValidation:{value(e,t){const i=e.getElement("country"),n=e.getElement("nationalIdtype"),s=e.getElement("nationalId"),a=e.getElement("issueDate"),o=e.getElement("expirationDate");i.addValidator("required",{label:i.label}),n.addValidator("required",{label:n.label}),s.addValidator("required",{label:s.label}),a.validators({afterDate:{minDateFormElement:t.dateOfBirth,inclusive:!0},beforeDate:{maxDateFormElement:o,pairValidationElement:o,pairValidationValidator:"afterDate"}}),o.validators({afterDate:{minDateFormElement:a,pairValidationElement:a,pairValidationValidator:"beforeDate"}}),o.addValidator(new Kg({countryCode:i,typePii:n})),o.addValidator(new Yg({issueDateElement:a,expiryDateElement:o}))}},_createNationalIdElement:{value(e,t){return t?at.createFormElement(e):this._createMaskedFormElement(e)}},_createMaskedFormElement:{value(e){const t=new Gg(e.name);return t.label(e.label),t.validators(e.validators),t}}});function Zg(e){e.forEach(tv)}function Xg(e,t){Zg(t),e.forEach(e=>{const i=function(e,t){const{itemId:i,nationalIdCountry:n,nationalIdType:s,nationalIdNumber:a,issueDate:o,expirationDate:r,placeOfIssue:l}=e.piiItem;return t.filter((e=>t=>t().model().itemId()===e)(i)).filter((u=n,e=>e().model().country()===u)).filter((d=s,e=>e().model().nationalIdtype()===d)).filter((c=a,e=>e().model().nationalId()===c)).filter((e=>t=>t().model().issueDate()===e)(o)).filter((e=>t=>t().model().expirationDate()===e)(r)).filter((e=>t=>t().model().placeOfIssue()===e)(l));var c;var d;var u}(e,t),n=1===i.length,s=i.length>1;if(n){const[t]=i;ev(t,e)}else s&&function(e,t){e.slice(1).forEach(e=>ev(e,t))}(i,e)})}function ev(e,t){e().validationErrorMessage(t.errorMessage)}function tv(e){e().validationErrorMessage(null)}var iv={validateAllItems(e,t){const i=function(e){return e.filter(e=>!e.readOnly()).filter(e=>Boolean(e.country())).filter(e=>Boolean(e.nationalIdtype())).filter(e=>Boolean(e.nationalId()))}(e);return 0===i.length?Promise.resolve():Jh.validate(Ga,Ga.basicInformation,i).then(()=>{Zg(t)}).catch(e=>{Xg(e,t),function(e){const t=e=>"generalError"===e.errorType;if(e.some(t)){const i=e.filter(t).map(e=>e.errorMessage).join("\n");console.error(i)}}(e)})}};n.components.register("personal-identifying-information",{viewModel:class extends Mg{constructor({section:e,code:t,blockId:i,metadataServiceUrl:n,blockProperties:a}){super({section:e,code:t,blockId:i,metadataServiceUrl:n}),this.blockProperties=a,this._processBlockProperties(),this.profileItems=this._getCandidateProfileItems(),this.dateOfBirthFormElement=void 0,this.form=s.a.observable(),this.hideNewFormsDuringValidation=s.a.observable(!1),this.hiddenNIDForm=void 0,this.isEditMode=s.a.pureComputed(()=>this._isEditMode()),this.isValid=s.a.pureComputed(()=>!this.blockProperties.isNIDRequired||this.forms().length>=1&&!this.hideNewFormsDuringValidation()),this.showForm=s.a.pureComputed(()=>!this.blockProperties.isNIDRequired||!this.hideNewFormsDuringValidation()),this._submitFailureEventHandler=Kd.refresh.add(this._getPiiData.bind(this)),e.addBeforeValidationCallback(()=>this._addProfileItemOnValidation()),e.addBeforeValidationCallback(()=>this._addBeforeSubmitServiceCallValidation()),this._setGeolocationPreferredCountry().catch(()=>this._setJobPrefferedCountry()),this._initCustomJsValidation()}_hasSameSectionId(){return!0}_processBlockProperties(){this.blockProperties.isNIDRequired="true"===this.blockProperties.isNIDRequired,this.blockProperties.isDOBRequired="true"===this.blockProperties.isDOBRequired}_getPiiData(){const e=Kp.unshiftAll(zp),t=Kp.unshiftAll(Jp);e.length&&Ga.personalIdentifyingInformationItems(e),t.length&&Ga.dateOfBirth(t)}_isEditMode(){const[e]=this.forms().filter(e=>e().isActive());return e}_addProfileItemOnValidation(){if(this.blockProperties.isNIDRequired&&this.forms().length<1){this.hideNewFormsDuringValidation(!0);const e=this._createItem();this._pushProfileItem(e).then(e=>{this.hiddenNIDForm=e}).catch(console.error)}}async _addBeforeSubmitServiceCallValidation(){return await iv.validateAllItems(this.profileItems(),this.forms())}_setGeolocationPreferredCountry(){return ae.a.query().then(({countryCode:e})=>this.preferredCountry=e)}async _setJobPrefferedCountry(){const{jobId:e}=h.a.routeParams();if(!Boolean(e))return;const t=await Mh.getJob(e).catch(()=>{}),i=null==t?void 0:t.primaryLocationCountry;i&&(this.preferredCountry=i)}_getButtonLabel(){return"apply-flow.section-personal-identifying-information.add-personal-identifying-information-button"}_getMetadata(e){this.metadataService=new Hg(e),this._contentTypeId="pii"}_getCandidateProfileItems(){return Ga.personalIdentifyingInformationItems}_fetchFormElements(){return this.metadataService.getFormElements().then(e=>this._processFormElements(e))}_processFormElements(e){return e.filter(e=>{if("dateOfBirth"===e.name){const t=$g.createForm({formElementDef:e,blockProperties:this.blockProperties});return this.dateOfBirthFormElement=t.getElement("dateOfBirth"),this.customJsValidation.addToForm(t),this.form(t),kp.registerForm(this.form,this.sectionNumber),!1}return!0},this)}_fetchProfileItems(){return Promise.resolve(Ga.id()).then(e=>e||Promise.reject()).then(()=>this.readWriteService.query(Ga.id(),Ga.basicInformation)).catch(()=>({}))}_loadForms(){return this._getFormData().then(()=>{this._shouldBuildTilesOnInit&&this._buildTiles(),this._formsSub=this.forms.subscribe(()=>this._buildTiles(),this,"arrayChange")}).catch(console.error).then(()=>_p.setBlockReady(this.sectionNumber,this.blockId))}_getFormData(){return this._fetchFormElements().then(e=>{this._formElements(e),this.readWriteService=this._getReadWriteService(e)}).then(()=>this._fetchProfileItems()).then(this._setProfileItems.bind(this))}_setProfileItems({candidatePIIData:e=[]}){this.profileItems.push(...e),this.profileItems().forEach(e=>this._insertSingleForm(e)),iv.validateAllItems(this.profileItems(),this.forms())}addProfileItem(){if(this.hideNewFormsDuringValidation())return this.editProfileItem(this.hiddenNIDForm),!0;const e=this._createItem();return this._isNew=!0,this._pushProfileItem(e).then(e=>{this.editProfileItem(e)}).catch(console.error)}doneProfileItem(e){this.resetNIDForm(),super.doneProfileItem(e)}shouldFormBeValidated(e){return this.changeDetector.hasChanged()||e.getErrorCount()>0}removeProfileItem(e){this.resetNIDForm(),super.removeProfileItem(e)}resetNIDForm(){this.hideNewFormsDuringValidation()&&(this.hideNewFormsDuringValidation(!1),this.hiddenNIDForm=void 0)}_createItem(){return new Na({country:this.preferredCountry})}_createSingleForm(e){const t=this._getFormBuilder().createForm({elements:this._formElements(),dateOfBirth:this.dateOfBirthFormElement,contentTypeId:this._contentTypeId,existingItems:this.profileItems,isNew:e.isNew(),readOnly:e.readOnly()}).resolveElementsDependencies().registerModel(e);return this._disableContentItemId(t),s.a.observable(t)}_getFormBuilder(){return Qg}_getReadWriteService(){return Jh}_executeValidation(e){const t=this._getFormByItemId(e.id());return t().isValidationInProgress(!0),iv.validateAllItems(this.profileItems(),this.forms()).then(()=>(t().isValidationInProgress(!1),t().validationErrorMessage()?Promise.reject():Promise.resolve()))}dispose(){this._submitFailureEventHandler.detach()}},template:'\x3c!-- ko if: customJsValidation.showMessage --\x3e\n<p\n    class="input-row__validation input-row__validation--top input-row--invalid"\n    role="alert"\n    data-bind="html: customJsValidation.message"\n></p>\n\x3c!-- /ko --\x3e\n\x3c!-- ko if: form --\x3e\n<div class="apply-flow-profile-item-dob-form">\n    <form-builder params="form: form()"></form-builder>\n</div>\n\x3c!-- /ko --\x3e\n\x3c!-- ko if: forms --\x3e\n\x3c!-- ko foreach: {data: forms, as: \'form\'} --\x3e\n<article\n    class="apply-flow-profile-item-tile"\n    data-bind="css: {\n                            \'apply-flow-profile-item-tile--active\': form.isActive,\n                            \'apply-flow-profile-item-tile--invalid\': form.isTileInvalid\n                        },\n                        visible: $parent.showForm,\n                        attr: {id: form.navId}"\n>\n    <button\n        type="button"\n        class="apply-flow-profile-item-tile__summary"\n        data-profile-item-tile="true"\n        data-bind="\n                click: $parent.editProfileItem.bind($parent),\n                i18nAttr: {title: form.isReadOnly ? \'general.view\' : \'general.change-button\' },\n                attr: { \'data-profile-item-invalid\': form.isTileInvalid, \'data-qa\': $parent.qaAttributeItem }"\n    >\n        <div class="apply-flow-profile-item-tile__summary-title">\n            <span data-bind="text: form.tileTitle"></span>\n            <span dir="ltr" data-bind="text: form.tileNationalIdTitle"></span>\n        </div>\n\n        \x3c!-- ko if: form.tileSubtitle --\x3e\n        <div\n            class="apply-flow-profile-item-tile__summary-subtitle text-color-secondary"\n            data-bind="text: form.tileSubtitle"\n        ></div>\n        \x3c!-- /ko --\x3e\n\n        \x3c!-- ko ifnot: form.isValid --\x3e\n        <div class="apply-flow-profile-item-tile__summary-validation">\n            <span\n                data-bind="i18n: {key: \'apply-flow.validation.error-count-label\', tokens: {numberofissues: form.totalErrors}}"\n            ></span>\n        </div>\n        \x3c!-- /ko --\x3e\n\n        <div\n            class="apply-flow-profile-item-tile__edit-icon"\n            data-bind="css: { \'apply-flow-profile-item-tile__edit-icon--readonly\': form.isReadOnly,\n                                  \'background-color-1\' : !form.isReadOnly }"\n        ></div>\n\n        <div class="apply-flow-profile-item-tile__summary-hover theme-color-1"></div>\n    </button>\n</article>\n\x3c!--/ko --\x3e\n\x3c!-- /ko --\x3e\n\n<minimal-dialog params="isVisible: hasActiveForm, focusCallback: focusCallback">\n    <dialog-body>\n        \x3c!-- ko if: activeForm --\x3e\n        <div class="app-dialog__content">\n            <form-builder params="form: activeForm"></form-builder>\n        </div>\n\n        \x3c!-- ko if: activeForm().validationErrorMessage --\x3e\n        <p class="input-row__validation" data-bind="text: activeForm().validationErrorMessage"></p>\n        \x3c!-- /ko --\x3e\n\n        <div class="app-dialog__footer">\n            <div class="app-dialog__buttons-bar font-family-secondary text-color-primary">\n                \x3c!-- ko if: activeForm().showRemoveButton --\x3e\n                <button\n                    class="button app-dialog__footer-button"\n                    data-bind="click: $parents[1].removeProfileItem.bind($parents[1], activeForm())"\n                >\n                    <span\n                        class="button__label"\n                        data-bind="i18n: \'apply-flow.profile-item.remove-item-button\'"\n                    ></span>\n                </button>\n                \x3c!-- /ko --\x3e\n\n                <button\n                    class="button app-dialog__footer-button"\n                    data-qa="addPiiDialogButton"\n                    data-bind="click: $parents[1].doneProfileItem.bind($parents[1], activeForm()), disable: activeForm().isValidationInProgress"\n                >\n                    <inline-spinner\n                        params="isLoading: activeForm().isValidationInProgress, i18n: \'general.done-button\', className: \'button__label\'"\n                    ></inline-spinner>\n                </button>\n            </div>\n        </div>\n        \x3c!-- /ko --\x3e\n    </dialog-body>\n</minimal-dialog>\n\n\x3c!-- ko if: showAddButton --\x3e\n\x3c!-- ko if: canAddProfileItem --\x3e\n<button\n    type="button"\n    class="button"\n    data-qa="addPiiButton"\n    data-bind="enable: canAddProfileItem,\n                   attr: {id: addButtonId},\n                   css: {\n                        \'apply-flow-profile-item-tile__new-tile\': showForm,\n                        \'apply-flow-profile-item-tile__hide-tile\': !showForm()\n                    },\n                   click: addProfileItem"\n>\n    <span class="button__label" data-bind="i18n: addButtonLabel"></span>\n</button>\n\x3c!-- /ko --\x3e\n\x3c!-- /ko --\x3e\n\x3c!-- ko ifnot: isValid --\x3e\n<p class="input-row__validation" role="alert" data-bind="i18n: \'validators.pii-required\'"></p>\n\x3c!-- /ko --\x3e\n'}),Bc.registerBlock("ORA_SENSITIVE_PERSONAL_INFO",{component:"personal-identifying-information",repository:Hg}),n.bindingHandlers.eventOnce={init(e,t){const i=t();Object.keys(i).forEach(t=>{const s=i[t],a=i=>{s(i),e.removeEventListener(t,a)};e.addEventListener(t,a),n.utils.domNodeDisposal.addDisposeCallback(e,()=>{e.removeEventListener(t,a)})})}};n.components.register("masked-text-form-element",{viewModel:class extends k{constructor(...e){super(...e),this.onInputOnceHandler=this._onInputOnceHandler.bind(this)}_onInputOnceHandler(){this.element.value("")}},template:'<div\n    class="input-row input-row--text"\n    data-bind="css: {\'input-row--focused\': isFocused,\n                      \'input-row--filled\': isFilled,\n                      \'input-row--invalid\': isInvalid,\n                      \'input-row--empty-disabled\': isEmptyDisabled}"\n>\n    <form-element-label params="element: element, forId: attributes.id"></form-element-label>\n\n    <div class="input-row__control-container">\n        <input\n            dir="ltr"\n            class="input-row__control input-row__control--identifier"\n            data-bind="value: element.value,\n                           attr: attributes,\n                           disable: element.isDisabled,\n                           hasFocus: hasFocus,\n                           event: {blur: blurHandler.bind($data)},\n                           eventOnce: {input: onInputOnceHandler}"\n        />\n        <div class="input-row__control-decorator"></div>\n\n        \x3c!-- ko if: isInvalid --\x3e\n        <p\n            class="input-row__validation"\n            data-bind="text: element.getErrorMessage, attr: { role: (hasFocus() ? \'\' : \'alert\') } "\n        ></p>\n        \x3c!-- /ko --\x3e\n    </div>\n</div>\n'});n.components.register("experience-form",{viewModel:class{constructor(e){this.form=e.form,this.model=this.form().model()}},template:'<form-builder params="form: form"></form-builder>\n'});n.components.register("previous-employment",{viewModel:class{constructor(e){this.experienceViewModelParams=s.a.utils.extend(Object.create(e),{requiredError:"apply-flow.profile-item.required-experience-label"})}},template:"<article\n    data-bind=\"component: {\n            name: 'mandatory-profile-items',\n            params: experienceViewModelParams\n         }\"\n></article>\n"}),Bc.registerBlock("ORA_EXPERIENCE",{component:"previous-employment",repository:ib,requireBlockProperties:!0}),h.a.configure({"profile-import":{url:"/profile-import?redirect={redirectUrl}",enter(e){const t=hp.a.decode(e);window.location.assign(t.redirectUrl)}}});var nv={profileImportStarted:new Ot.a,awliClicked:new Ot.a};const sv={indeed:{code:"in",activeFlag:!1,clientId:void 0,oauthService:void 0},linkedin:{code:"li",activeFlag:!1,clientId:void 0,oauthService:void 0},resumeParser:{code:"rp",activeFlag:!1},awli:{code:"al",activeFlag:!1,clientId:void 0,integrationContext:void 0}};var av=function(e){o.a.fromJS(sv,{},this),e&&o.a.fromJS(e,{},this)};var ov={mapFromRest(e){const t={};return e.items.forEach(e=>{const i=e.provider.toLowerCase().replace(/_([a-z])/g,e=>e[1].toUpperCase());t[i]={},Object.keys(e).filter(e=>-1===e.indexOf("provider")).forEach(n=>{e[n]&&(t[i][n]=e[n])})}),new av(t)}};class rv{getProviderConfig(){return K.get("/recruitingCEProfileImportConfigs?onlyData=true").then(e=>ov.mapFromRest(e))}isEmpty(){return this.getProviderConfig().then(e=>{const t=e.indeed.activeFlag(),i=e.linkedin.activeFlag(),n=e.resumeParser.activeFlag(),s=e.awli.activeFlag();return!(t||i||n||s)})}}n.components.register("awli-confirm",{viewModel:class{constructor(){this.isAwliClick=s.a.observable(!1),this.submitSucceed=s.a.observable(!1),this.profileImportConfig=s.a.observable(new av),this._awliClickedSignal=nv.awliClicked.add(()=>this.isAwliClick(!0)),this._submitSucceedSignal=Kd.submitSucceed.add(()=>this.submitSucceed(!0));(new rv).getProviderConfig().then(this.profileImportConfig.bind(this))}dispose(){this._submitSucceedSignal.detach(),this._awliClickedSignal.detach()}},template:"\x3c!-- ko if: isAwliClick --\x3e\n\x3c!-- ko if: submitSucceed --\x3e\n<div\n    data-bind=\"awliWidget: {\n    profileType: 'awliconfirm',\n    integrationContext: profileImportConfig().awli.integrationContext(),\n    clientId: profileImportConfig().awli.clientId()\n}\"\n></div>\n\x3c!-- /ko --\x3e\n\x3c!-- /ko --\x3e\n"});let lv=!1;var cv={load(){if(lv&&window.AwliWidget)return void window.AwliWidget.load();const e=document.createElement("script");e.setAttribute("type","text/javascript"),e.setAttribute("src","https://www.linkedin.com/mjobs/awli/awliWidget"),document.body.appendChild(e),lv=!0}};function dv({clientId:e,integrationContext:t,jobId:i}){const n=document.createElement("script");return n.setAttribute("type","IN/AwliWidget"),n.setAttribute("data-api-key",e),n.setAttribute("data-integration-context",t),n.setAttribute("data-company-job-code",i),n}const uv={linkedin(e){const t=dv(e);return t.setAttribute("data-mode","BUTTON_DATA"),t.setAttribute("data-color","black"),t.setAttribute("data-size","large"),t.setAttribute("data-allow-sign-in","true"),t.setAttribute("data-callback-method","onProfileData"),t},awliconfirm(e){const t=dv(e);return t.setAttribute("data-mode","CONVERSION"),t}};function pv(e,t){const i=function(e){const t=e.indexOf("(");if(-1!==t){const i=e.indexOf(")");return e.substring(t+1,i)}return e}(e),n=t.find(oe("meaning",i));return null==n?void 0:n.lookupCode}function hv(e,t){const i=t.find(oe("meaning",e));return i?null==i?void 0:i.lookupCode:pv(e,t)}s.a.bindingHandlers.awliWidget={init(e,t){const{profileType:i,clientId:n,integrationContext:s}=t(),a={clientId:n,integrationContext:s,jobId:h.a.routeParams().jobId},o=uv[i](a),r=document.createElement("script");r.setAttribute("type","text/javascript"),r.setAttribute("src","https://www.linkedin.com/mjobs/awli/awliWidget"),e.appendChild(o),cv.load()}};var mv={findLookupCodeDegree:function(e,t){var i;let n=t.find(oe("meaning",e));var a;if(n)return null===(a=n)||void 0===a?void 0:a.lookupCode;const o=function(e){const t=e.indexOf("(");if(-1!==t){const i=e.indexOf(")"),n=e.substring(t+1,i);if(t>0){return[n,e.substring(0,t).trim()]}return[n]}return[e]}(e);return n=s.a.utils.arrayFirst(t,e=>o.some(t=>e.meaning.includes(t))),null===(i=n)||void 0===i?void 0:i.lookupCode},findLookupCode:pv,findLanguageLookupCode:function(e,t){const i=t.find(t=>{var i;return(null===(i=t.contentItemCode)||void 0===i?void 0:i.toUpperCase())===e.toUpperCase()});return i?null==i?void 0:i.lookupCode:hv(e,t)},findExactMatchLookupCode:hv};let bv={};function fv({blockProperties:e}){const{sectionId:t,contentTypeId:i,preferredFlag:n}=e;if(i&&Array.isArray(i)){const[e,s]=t,[a,o]=i,[r,l]=n;return r&&(bv[a]=e),void(l&&(bv[o]=s))}n&&(bv[i]=t)}var gv={find(e){bv={};(function(e){return e.sections.reduce((e,t)=>e.concat(t.pages),[]).reduce((e,t)=>e.concat(t.blocks),[]).filter(({blockProperties:e})=>e.sectionId)})(e).forEach(fv)},get:e=>bv[e]};function vv(){return fd.get().sections.reduce((e,t)=>e.concat(t.pages),[]).reduce((e,t)=>e.concat(t.blocks),[])}function _v(e){const[t]=vv().filter(({code:t,blockProperties:{preferredFlag:i}})=>t===e&&i);return t}function yv(e,t,i){if(!e||!i)return;return new(Bc.getRepositoryForBlock(e.code))("ORA_TIMELINE"===e.code?e.metadataServiceUrl[1]:e.metadataServiceUrl,t,i)}function xv(e){return e&&e.dictionary?se.get(e.dictionary).catch(e=>(console.warn("Couldn't get dictionary data",e),Promise.resolve())):Promise.resolve()}function wv(e,t){return e?e.getFormElements().then(e=>e.filter(({name:e})=>e===t).shift()).then(e=>xv(e)):Promise.resolve()}function kv(e){for(let t=1;t<=5;t++){const i=`itemText30${t}Flag`;e[i]&&(e[i]=!0===e[i]?"Y":"N")}}class Iv{constructor(){const e=function(e){const[t]=vv().filter(({code:t})=>t===e);return t}("ORA_TIMELINE")||_v("ORA_EDUCATION");this.defaultSectionId=gv.get(ro);const t=yv(e,ro,this.defaultSectionId);this.promiseDegrees=wv(t,"contentItemId"),this.promiseInstitutions=wv(t,"educationalEstablishmentId")}toLocalModel(e){return this.defaultSectionId?Promise.all([this.promiseDegrees,this.promiseInstitutions]).then(([t,i])=>e.map(e=>{const n=s.a.utils.extend({},e);return n.contentItemId&&t&&(n.contentItemId=mv.findLookupCodeDegree(n.contentItemId,t)),n.educationalEstablishment&&i&&(n.educationalEstablishmentId=mv.findExactMatchLookupCode(n.educationalEstablishment,i)),n.countryCode||(n.stateProvinceCode=null),n.sectionId=this.defaultSectionId,kv(n),n})):Promise.resolve([])}}class Cv{constructor(){this.defaultSectionId=gv.get(uo)}toLocalModel(e){if(!this.defaultSectionId)return Promise.resolve([]);const t=e.map(e=>{const t=s.a.utils.extend({},e);return kv(t),t.sectionId=this.defaultSectionId,t});return Promise.resolve(t)}}class Sv{constructor(){const e=_v("ORA_LANGUAGE");this.defaultSectionId=gv.get(lo);const t=yv(e,lo,this.defaultSectionId);this.promiseLanguage=wv(t,"contentItemId"),this.promiseRatingLevel=wv(t,"readingLevelId")}toLocalModel(e){return this.defaultSectionId?this.promiseLanguage.then(t=>e.map(e=>{const i=s.a.utils.extend({},e);return i.contentItemId&&t&&(i.contentItemId=mv.findLanguageLookupCode(i.contentItemId,t)),i.sectionId=this.defaultSectionId,kv(i),i})):Promise.resolve([])}}class Ev{constructor(){this.nameTitlesPromise=xv({dictionary:se.CODES.nameTitles})}getTitle(e){return this.nameTitlesPromise.then(t=>t&&e?mv.findLookupCode(e,t):e)}}class Ov{constructor(){const e=_v("ORA_LICENSE_CERTIFICATES");this.defaultSectionId=gv.get(oo);const t=yv(e,oo,this.defaultSectionId);this.licensesPromise=wv(t,"contentItemId")}toLocalModel(e){return this.defaultSectionId?this.licensesPromise.then(t=>e.map(e=>{const i=s.a.utils.extend({},e);return i.title&&t&&(i.contentItemId=mv.findExactMatchLookupCode(i.title,t)),i.sectionId=this.defaultSectionId,kv(i),i})):Promise.resolve([])}}class Av{constructor(){this.defaultSectionId=gv.get(po)}toLocalModel(e){if(!this.defaultSectionId)return Promise.resolve([]);const t=e.map(e=>{const t=Object.assign({},e);return t.sectionId=this.defaultSectionId,t});return Promise.resolve(t)}}class Pv{constructor(){this.defaultSectionId=gv.get(co)}toLocalModel(e){if(!this.defaultSectionId)return Promise.resolve([]);const t=e.map(e=>Object.assign({},e,{sectionId:this.defaultSectionId}));return Promise.resolve(t)}}class Tv{constructor(){this.educationConverter=new Iv,this.languageConverter=new Sv,this.licenseAndCertConverter=new Ov,this.workExperienceConverter=new Cv,this.skillConverter=new Av,this.workPreferenceConverter=new Pv,this.basicConverter=new Ev}toLocalModel(e){const[t]=e.items,i=this.educationConverter.toLocalModel(t.educations||[]),n=this.languageConverter.toLocalModel(t.languages||[]),s=this.licenseAndCertConverter.toLocalModel(t.licensesAndCertifications||[]),a=this.workExperienceConverter.toLocalModel(t.workExperiences||[]),o=this.skillConverter.toLocalModel(t.skills||[]),r=this.workPreferenceConverter.toLocalModel(t.workPreferences||[]),l=this.basicConverter.getTitle(t.title||"");return Promise.all([i,n,s,a,o,r,l]).then(([e,i,n,s,a,o,r])=>(delete t.profileId,delete t.profileType,delete t.providerToken,delete t.attachmentId,t.title=r,t.educations=e,t.languages=i,t.licensesAndCertifications=n,t.workExperiences=s,t.skills=a,t.workPreferences=o,wo.mapCandidateFromImport(t))).catch(e=>(console.error("Couldn't convert imported profile"),Promise.reject(e)))}toLocalAttachment(e){return{id:e.attachedDocumentId,type:"document",attachment:e.title,category:e.categoryName,fileContents:e.fileContents}}toLocalReferralAttachment(e){return{sourceAttachmentId:e.sourceAttachmentId,type:"document",attachment:e.fileName,category:e.categoryId,fileContents:e.fileContents,isReferral:!0}}}let jv;var Rv={getInstance:()=>jv||(jv=new Tv,jv)};function Fv(e,t,i,n){return`${t}-${e.month?("0"+e.month).substr(-2):i}-${n}`}var Dv={isSameYear:(e={},t={})=>!!e&&(!!e.year&&(!!t&&(!!t.year&&e.year===t.year))),getStartDate:e=>Fv(e,e.year,"01","01"),getEndDate:e=>Fv(e,e.year,"12","01"),getSchoolYearStartDate:e=>Fv(e,e.year,"09","01"),getSchoolYearEndDate:e=>Fv(e,e.year,"07","01")};let Lv=[];function Nv(){Lv=fd.get().sections.reduce((e,t)=>e.concat(t.pages),[]).reduce((e,t)=>e.concat(t.blocks),[])}function Mv(e){return Lv.some(t=>t.code===e)}function Vv(e){return"ELEMENTARY"===e?8001:"LIMITED_WORKING"===e?8002:"PROFESSIONAL_WORKING"===e||"FULL_PROFESSIONAL"===e||"NATIVE_OR_BILINGUAL"===e?8003:null}class Bv{toRestModel(e){if(Mv("ORA_EXPERIENCE")||Mv("ORA_TIMELINE")){const t=e.map((e,t)=>{const i={};return i.contentTypeId=uo,i.profileItemId=t+1,i.employerName=e.companyName,i.jobTitle=e.title,e.company&&(i.businessType=e.company.type),i.achievements=e.summary,i.currentJobFlag=e.isCurrent,e.startDate&&e.startDate.year&&(i.startDate=Dv.getStartDate(e.startDate)),e.endDate&&e.endDate.year&&(i.endDate=Dv.getEndDate(e.endDate)),i});return Promise.resolve(t)}return[]}}class qv{toRestModel(e){if(Mv("ORA_LANGUAGE")){const t=e.map((e,t)=>{const i={};return i.contentTypeId=lo,i.contentItemId=e.name,i.profileItemId=t+1,i.language=e.name,i.nativeSpeakerFlag="NATIVE_OR_BILINGUAL"===e.proficiency,i.ableToTranslateFlag="NATIVE_OR_BILINGUAL"===e.proficiency||"FULL_PROFESSIONAL"===e.proficiency?"Y":"N",i.ableToTeachFlag="NATIVE_OR_BILINGUAL"===e.proficiency||"FULL_PROFESSIONAL"===e.proficiency?"Y":"N",i.speakingLevelId=Vv(e.proficiency),i.readingLevelId=Vv(e.proficiency),i.writingLevelId=Vv(e.proficiency),i});return Promise.resolve(t)}return[]}}class Uv{toRestModel(e){if(Mv("ORA_SKILL")){const t=e.map((e,t)=>{const i={};return i.profileItemId=t+1,i.skills=e.name,i.dateAchieved=null,i.yearsOfExperience=null,i.projectName=null,i.speciality=null,i.comments=null,i.description=e.name,i.contentTypeId=po,i});return Promise.resolve(t)}return[]}}class Hv{toRestModel(e){if(Mv("ORA_LICENSE_CERTIFICATES")){const t=e.map((e,t)=>{const i={};return i.contentTypeId=oo,i.profileItemId=t+1,i.title=e.name,i.certificationName=e.name,i.comments=null,i.issuedBy=e.authority,i.certificationNumber=e.number,e.endDate&&e.endDate.year&&(i.expirationDate=Dv.getEndDate(e.endDate)),e.startDate&&e.startDate.year&&(i.issueDate=Dv.getStartDate(e.startDate)),i});return Promise.resolve(t)}return[]}}class $v{toRestModel(e){if(Mv("ORA_EDUCATION")||Mv("ORA_TIMELINE")){const t=e.map((e,t)=>{const i={};i.contentTypeId=ro,i.profileItemId=t+1,i.contentItemId=e.degree,i.degreeName=e.degree,i.major=e.fieldOfStudy,i.educationalEstablishment=e.schoolName,i.graduatedFlag=!1,i.educationalEstablishmentId=null,i.stateProvinceCode=null,i.countryCode=null;const n=Dv.isSameYear(e.startDate,e.endDate);if(e.startDate&&e.startDate.year&&(i.startDate=n?Dv.getStartDate(e.startDate):Dv.getSchoolYearStartDate(e.startDate)),e.endDate&&e.endDate.year){i.endDate=n?Dv.getEndDate(e.endDate):Dv.getSchoolYearEndDate(e.endDate);const t=(new Date).getFullYear();i.graduatedFlag=e.endDate.year<=t}return i});return Promise.resolve(t)}return[]}}var Jv=new class{constructor(){this.educationConverter=new $v,this.languageConverter=new qv,this.certifications=new Hv,this.workExperienceConverter=new Bv,this.skillsConverter=new Uv}convertProfile(e){Nv();const t={profileType:"li"};Mv("ORA_NAME_CONTACT_INFO")&&(t.firstName=e.firstName,t.lastName=e.lastName,t.title="",t.email=e.emailAddress,t.mobilePhoneNumber=e.phoneNumber),Mv("ORA_ADDRESS")&&(t.country=e.location.country.toUpperCase()),t.workPreferences=[],t.attachments=[];const i=this.educationConverter.toRestModel(e.educations||[]),n=this.languageConverter.toRestModel(e.languages||[]),s=this.certifications.toRestModel(e.certifications||[]),a=this.workExperienceConverter.toRestModel(e.positions||[]),o=this.skillsConverter.toRestModel(e.skills||[]);return Promise.all([i,n,s,a,o]).then(([e,i,n,s,a])=>{t.educations=e,t.languages=i,t.skills=a,t.licensesAndCertifications=n,t.workExperiences=s;return{items:[t]}})}getRestData(e){const t=this.convertProfile(e);if(t){const e=Rv.getInstance();return Promise.resolve(t).then(t=>e.toLocalModel(t))}return null}};async function zv(e,t){const[i]=e.items,n=Ba?await async function(e){const t=await bh.copyAttachmentToDraft(Ba.id,io.mapFileAttachmentFromRest(e));return{...e,id:t.id(),appdraftId:t.appDraftId()}}(t):t;return i.attachments.push(n),e}function Wv(e,t){const i=fd.get(),n=Object.assign(e,{bFlowVersionId:i.flowVersionId});if("rp"===n.bProfileType)return U.a.get("/CandidateExperience/ircRestAuthApi/recruitingCECandidateResumeParsers?expand=all&onlyData=true&limit=:limit:&finder=findByProfileType;:finderParams:",{params:{finderParams:n,limit:100},paramsDelimiter:",",baseUrl:""+c.a.uiBaseUrl,credentials:"same-origin"});const s={};return t&&Object.assign(s,{"Ora-Irc-Oauth-Token":t}),U.a.get("/recruitingCECandidateProfileImports?expand=all&onlyData=true&limit=:limit:&finder=findByProfileType;:finderParams:",{params:{finderParams:n,limit:100},headers:s,paramsDelimiter:",",credentials:"same-origin"})}function Kv(e){return Wv({bProfileType:"rp",bAttachmentId:e})}var Gv={_startHandler(e){nv.awliClicked.dispatch(),nv.profileImportStarted.dispatch(e)},getAwliProfile(e){this._startHandler(e)},importAwliProfile:e=>Jv.getRestData(e),getProfile(e,t){const i=Rv.getInstance();return Wv(e,t).then(e=>i.toLocalModel(e))},async parseAttachment(e){const t=Rv.getInstance(),i=await function(e){const t=Rv.getInstance();return U.a.post("/recruitingCEProfileImportAttachments",e).then(e=>t.toLocalAttachment(e))}(e);i.fileContents=e.FileContents;const n=await Kv(i.id);return await zv(n,i),t.toLocalModel(n)},async parseReferrerAttachment(e){const t=Rv.getInstance(),i=t.toLocalReferralAttachment(e),n=await Kv(i.sourceAttachmentId);return await zv(n,i),t.toLocalModel(n)}};function Yv(e){let t=e.oauthService;return t=t.replace("{clientId}",e.clientId).replace("{redirectUri}",`${c.a.uiBaseUrl||""}/CandidateExperience/profileImport/oauth?profileType=${e.code}`).replace("{state}",Date.now()),t}function Qv(){let e={};const t={height:.6*window.innerHeight,width:.4*window.innerWidth,resizable:"yes",location:"no",scrollbars:"yes"};window.onProfileData=function(e){Gv.getAwliProfile(e)},this.initialize=t=>{e=t},this.socialLogin=i=>{const n=Object.keys(t).map(e=>`${e}=${t[e]}`,this),s=window.open(function(e){return m.b.interpolate({lang:c.a.siteLang},"profile-import",{redirectUrl:Yv(e)},{inherit:!1,encode:!0})}(e),"SocialLoginWindow",n.join(","));window.addEventListener("message",(function e(t){const n=t.data;n&&"oauthtoken"===n.type&&(window.removeEventListener("message",e),i(n.data))})),window.focus&&s.focus()}}n.components.register("profile-import",{viewModel:class{constructor(){this.metadataService=new rv,this.oauthService=new Qv,this.config=s.a.observable(new av),this.selectedFile=s.a.observable("").extend({notify:"always"}),this.hasImportSucceded=s.a.observable(null),this.isResumeParsingInProgress=s.a.observable(!1),this.isReferralResumeParsing=s.a.observable(!1),this.referral=s.a.observable(),this.referralResume=s.a.observable(),this.isResumeValid=s.a.observable(!0),this.resumeUploadElement=this._getResumeFormElement(),this.downloadReferralResume=this.downloadReferralResume.bind(this),this.importFromReferralResume=this.importFromReferralResume.bind(this),this._importHandler=e=>this._importEventHandler(e),nv.profileImportStarted.add(this._importHandler),this.metadataService.getProviderConfig().then(this.config.bind(this)).then(this._initializeReferralResumeParsing.bind(this))}_getResumeFormElement(){const e={name:"resume-upload",label:"apply-flow.section-personal-information.connect-with-cv-button",sizeLimit:5,acceptedFileExtensions:".txt, .rtf, .doc, .docx, .pdf, .odt, .htm, .html"};return Sb.createForm(e).getElement(e.name)}_importEventHandler(e){this._clearBeforeImport(),this.isResumeParsingInProgress(!0),Gv.importAwliProfile(e).then(e=>this._successHandler(e)).catch(e=>this._errorHandler(e))}importProfile(e){this._clearBeforeImport(),this.hasImportSucceded(null);const t=s.a.toJS(this.config()[e]);this.oauthService.initialize(t),this.oauthService.socialLogin(e=>{if(!e)return pi.a.error.dispatch(),void this.hasImportSucceded(!1);if("user_denied_access"!==e){const i={bProfileType:t.code};Gv.getProfile(i,e).then(e=>this._successHandler(e)).catch(e=>this._errorHandler(e))}})}downloadReferralResume(){Ab.download(Promise.resolve({fileName:this.referralResume().fileName,fileContents:this.referralResume().fileContents,mimeType:this.referralResume().mimeType}))}importFromReferralResume(){this.isResumeParsingInProgress(!0),Gv.parseReferrerAttachment(this.referralResume()).then(e=>this._successHandler(e)).catch(e=>this._errorHandler(e))}importAgain(){this.selectedFile(null),this.hasImportSucceded(null)}onFileSelected(e,t){const[i]=t.target.files;this._addFile(i).catch(console.error)}_initializeReferralResumeParsing(){const e=ta.getReferralId(h.a.routeParams().jobId);e&&ta.get(e).then(this.referral.bind(this)).then(ta.getResume.bind(ta,e)).then(this.referralResume.bind(this)).then(()=>{const e=Boolean(this.referralResume().sourceAttachmentId),t=this.config().resumeParser.activeFlag();this.isReferralResumeParsing(e&&t)}).catch(e=>console.error(e))}async _addFile(e){if(!e)return;const t=await this.resumeUploadElement.validate(e);if(this.isResumeValid(t),!t)return;const i=new Ut;this.isResumeParsingInProgress(!0);const n=await i.encode(e);this._readerOnLoad(n,e.name)}_clearBeforeImport(){Ga.address.country(void 0)}_parseAttachment(e){this._clearBeforeImport(),Gv.parseAttachment(e).then(e=>this._successHandler(e)).catch(e=>this._errorHandler(e))}_readerOnLoad(e,t){const i={CategoryName:Zs,DatatypeCode:"document",Title:t,FileContents:e};this._parseAttachment(i)}async _successHandler(e){Kd.profileImportLoading.dispatch();const t=Ga.workPreferences();var i;Ga.clearAfterImport(),delete e.id,delete(i=e.basicInformation).email,delete i.phone,delete i.phoneNumber,o.a.fromJS(e,Ga),0===Ga.workPreferences().length&&Ga.workPreferences.push(...t),this.isResumeParsingInProgress(!1),await kp.validateAfterImport();const n=kp.getAllSectionErrorMessages().join(" "),s=Object(l.a)("apply-flow.profile-import.success-label")+n;setTimeout(()=>{Cp.addAlert.dispatch(s),Kd.profileImportSucceed.dispatch(),this.hasImportSucceded(!0)},500)}_errorHandler(e){console.error(e),this.hasImportSucceded(!1),this.isResumeParsingInProgress(!1)}},template:'<div\n    class="apply-flow-profile-import"\n    data-bind="css: { \'apply-flow-profile-import--success\': hasImportSucceded }"\n>\n    <div class="apply-flow-block__header">\n        \x3c!-- ko if: block.title --\x3e\n        <h2 class="apply-flow-block__title" data-bind="text: block.title"></h2>\n        \x3c!-- /ko --\x3e\n\n        \x3c!-- ko if: block.instructions --\x3e\n        <p class="apply-flow-block__instructions" data-bind="html: block.instructions"></p>\n        \x3c!-- /ko --\x3e\n    </div>\n\n    \x3c!-- ko if: hasImportSucceded() === null && !isResumeParsingInProgress() --\x3e\n    \x3c!-- ko ifnot: config().awli.activeFlag() --\x3e\n    <div class="apply-flow-profile-import__content">\n        \x3c!-- ko if: config().linkedin.activeFlag() --\x3e\n        <button\n            type="button"\n            class="button apply-flow-profile-import__button"\n            data-bind="click: importProfile.bind($data, \'linkedin\')"\n        >\n            <span\n                class="\n                    apply-flow-profile-import__service-icon apply-flow-profile-import__service-icon--linkedin\n                "\n                aria-hidden="true"\n                role="presentation"\n            >\n            </span>\n\n            <span\n                class="apply-flow-profile-import__button-label"\n                data-bind="i18n: \'apply-flow.section-personal-information.connect-with-linkedin-button\'"\n            >\n            </span>\n        </button>\n        \x3c!-- /ko --\x3e\n\n        \x3c!-- ko if: config().indeed.activeFlag() --\x3e\n        <button\n            type="button"\n            class="button apply-flow-profile-import__button"\n            data-bind="click: importProfile.bind($data, \'indeed\')"\n        >\n            <span\n                class="\n                    apply-flow-profile-import__service-icon apply-flow-profile-import__service-icon--indeed\n                "\n                aria-hidden="true"\n                role="presentation"\n            >\n            </span>\n\n            <span\n                class="apply-flow-profile-import__button-label"\n                data-bind="i18n: \'apply-flow.section-personal-information.connect-with-indeed-button\'"\n            >\n            </span>\n        </button>\n        \x3c!-- /ko --\x3e\n\n        \x3c!-- ko if: config().resumeParser.activeFlag() --\x3e\n        <div class="apply-flow-profile-import__button--file-upload">\n            <input\n                type="file"\n                accept=".doc,.docx,.odt,.pdf,.txt,.rtf,.htm,.html"\n                class="apply-flow-profile-import__file-upload"\n                aria-labelledby="resumeParserLabel"\n                data-bind="event: { change: onFileSelected },\n                                      value: selectedFile,\n                                      disable: isResumeParsingInProgress"\n            />\n\n            <button\n                class="button apply-flow-profile-import__button"\n                type="button"\n                tabindex="-1"\n                aria-hidden="true"\n            >\n                <span\n                    class="\n                        apply-flow-profile-import__service-icon\n                        apply-flow-profile-import__service-icon--resume-parser\n                    "\n                    aria-hidden="true"\n                    role="presentation"\n                >\n                </span>\n\n                <span\n                    id="resumeParserLabel"\n                    class="apply-flow-profile-import__button-label"\n                    data-bind="i18n: \'apply-flow.section-personal-information.connect-with-cv-button\'"\n                >\n                </span>\n            </button>\n        </div>\n        \x3c!-- /ko --\x3e\n    </div>\n    \x3c!-- /ko --\x3e\n\n    \x3c!-- ko if: config().awli.activeFlag() --\x3e\n    <div class="apply-flow-profile-import__awli-content">\n        <div\n            tabindex="0"\n            data-bind="\n                    i18nAttr: { \'title\': \'apply-flow.a11y.linkedin-profile-import-widget\' },\n                    awliWidget: {\n                        profileType: \'linkedin\',\n                        activeFlag: config().awli.activeFlag(),\n                        integrationContext: config().awli.integrationContext(),\n                        clientId: config().awli.clientId() }"\n        ></div>\n\n        \x3c!-- ko if: config().indeed.activeFlag() --\x3e\n        <button\n            type="button"\n            class="apply-flow-profile-import-awli__button"\n            data-bind="\n                        click: importProfile.bind($data, \'indeed\'),\n                        i18n: \'apply-flow.section-personal-information.connect-with-indeed-button\'"\n        ></button>\n\n        \x3c!-- /ko --\x3e\n        \x3c!-- ko if: config().resumeParser.activeFlag() --\x3e\n        <div class="apply-flow-profile-import-awli__button--file-upload">\n            <input\n                type="file"\n                accept=".doc,.docx,.odt,.pdf,.txt,.rtf,.htm,.html"\n                class="apply-flow-profile-import-awli__file-upload"\n                aria-labelledby="resumeParserLabel"\n                data-bind="event: { change: onFileSelected },\n                                  value: selectedFile,\n                                  disable: isResumeParsingInProgress,\n                                  i18nAttr: { \'aria-label\': \'apply-flow.a11y.profile-import-through-resume\' }"\n            />\n\n            <button\n                class="apply-flow-profile-import-awli__button"\n                type="button"\n                tabindex="-1"\n                aria-hidden="true"\n                data-bind="i18n: \'apply-flow.section-personal-information.connect-with-cv-button\'"\n            ></button>\n        </div>\n        \x3c!-- /ko --\x3e\n    </div>\n    \x3c!-- /ko --\x3e\n\n    \x3c!-- ko if: isReferralResumeParsing --\x3e\n    <div\n        class="apply-flow-profile-import__referral-sections"\n        data-bind="css: { \'apply-flow-profile-import__referral-without-linkedin-section\' : !config().awli.activeFlag() }"\n    >\n        <div>\n            <i18n params="key: \'apply-flow.section-personal-information.upload-referrer-resume-label\'">\n                <span\n                    data-i18n-token="referrer"\n                    class="apply-flow-profile-import__text"\n                    data-bind="text:  $parent.referral().refererName"\n                ></span>\n\n                <a\n                    href="#"\n                    class="apply-flow-profile-import__text-links"\n                    data-i18n-token="filename"\n                    data-bind="text: $parent.referralResume().fileName, click: $parent.downloadReferralResume"\n                >\n                </a>\n            </i18n>\n        </div>\n        <div>\n            <button\n                class="theme-color-1"\n                data-bind="i18n: \'apply-flow.section-personal-information.import-from-referrer-resume\', click: importFromReferralResume"\n            ></button>\n        </div>\n    </div>\n    \x3c!-- /ko --\x3e\n    \x3c!-- /ko --\x3e\n\n    \x3c!-- ko if: hasImportSucceded --\x3e\n    <div data-bind="a11y.setInitialFocus: { isVisible: hasImportSucceded }">\n        <div class="apply-flow-profile-import__info text-color-primary">\n            <p class="completed-communicate" data-bind="i18n: \'apply-flow.profile-import.success-label\'"></p>\n\n            <div class="apply-flow-profile-import__info-footer">\n                <button class="button" role="button" data-bind="click: importAgain">\n                    <span\n                        class="button__label"\n                        data-bind="i18n: \'apply-flow.profile-import.import-again-link\'"\n                    >\n                    </span>\n                </button>\n            </div>\n        </div>\n    </div>\n    \x3c!-- /ko --\x3e\n\n    \x3c!-- ko if: isResumeParsingInProgress --\x3e\n    <div role="alert" aria-live="assertive">\n        <div class="apply-flow-profile-import__info text-color-primary">\n            <div class="apply-flow-profile-import__info-icon">\n                <spinner></spinner>\n            </div>\n\n            <p\n                data-bind="i18n: \'apply-flow.section-personal-information.resume-parsing-in-progress-message\'"\n            ></p>\n        </div>\n    </div>\n    \x3c!-- /ko --\x3e\n\n    \x3c!-- ko ifnot: isResumeValid --\x3e\n    <ul class="apply-flow-profile-import__validation" role="alert" tabindex="0" data-bind="hasFocus: true">\n        <li>\x3c!-- ko text: resumeUploadElement.getErrorMessage --\x3e\x3c!-- /ko --\x3e</li>\n    </ul>\n    \x3c!-- /ko --\x3e\n\n    \x3c!-- ko if: hasImportSucceded() === false --\x3e\n    <div class="apply-flow-profile-import__info text-color-primary" role="alert" aria-live="assertive">\n        <p class="input-row__validation" data-bind="i18n: \'apply-flow.profile-import.error-label\'"></p>\n\n        <div class="apply-flow-profile-import__info-footer">\n            <button class="button" role="button" data-bind="click: importAgain">\n                <span class="button__label" data-bind="i18n: \'apply-flow.profile-import.import-again-link\'">\n                </span>\n            </button>\n        </div>\n    </div>\n    \x3c!-- /ko --\x3e\n</div>\n'}),Bc.registerBlock("ORA_PROFILE_IMPORT",{component:"profile-import",repository:rv,isPresectionBlock:!0});var Zv={mapPartnerDataFromRest:({requisitionNumber:e,assessmentUrl:t})=>({requisitionNumber:e,partnerUrl:t}),mapFromRest:({items:[{assessmentCompletedFlag:e,assessmentConfiguredFlag:t}]})=>({isPartnerCompleted:e,partnerConfiguredFlag:t})},Xv={mapPartnerDataFromRest:({requisitionNumber:e,taxCreditUrl:t})=>({requisitionNumber:e,partnerUrl:t}),mapFromRest:({items:[{taxCreditCompletedFlag:e,taxCreditConfiguredFlag:t}]})=>({isPartnerCompleted:e,partnerConfiguredFlag:t})};const e_={ORA_ASSESSMENT:{getPartnerLink:"getInlineAssessmentPartnerURL",partnerMapper:Zv.mapFromRest.bind(Zv),translationType:"assessment"},ORA_TAXCREDITS:{getPartnerLink:"getInlineTaxCreditPartnerURL",partnerMapper:Xv.mapFromRest.bind(Zv),translationType:"tax-credit"}};class t_{constructor(e){this._serviceUrl=e}getPartnerConfig({requisitionNumber:e,flowVersionId:t,draftId:i,blockCode:n}){const s=this._serviceUrl.replace("<FLOW_VERSION_ID>",t).replace("<APP_DRAFT_ID>",i).replace("<REQ_NUM>",`%22${hp.a.encodeQueryParams(e)}%22`),{partnerMapper:a}=e_[n];return U.a.get(s).then(a)}isEmpty({blockCode:e},t){const i={requisitionNumber:h.a.routeParams().jobId,flowVersionId:t,draftId:null,blockCode:e};return this.getPartnerConfig(i).then(e=>Promise.resolve(!e.partnerConfiguredFlag)).catch(e=>{console.error(e),bi.error()})}}var i_={mapInlineToRest:({requisitionNumber:e,flowVersionId:t,draftId:i})=>({requisitionNumber:e,flowVersionId:t,draftId:i})},n_={getInlineAssessmentPartnerURL(e){const t=i_.mapInlineToRest(e);return U.a.post("/recruitingCandidateAssessments",t).then(Zv.mapPartnerDataFromRest)},getInlineTaxCreditPartnerURL(e){const t=i_.mapInlineToRest(e);return U.a.post("/recruitingCETaxCredits",t).then(Xv.mapPartnerDataFromRest)}};class s_{constructor({section:e,metadataServiceUrl:t,blockId:i,code:s}){this.jobId=h.a.routeParams().jobId,this.isCompleted=Object(n.observable)(!1),this.flowVersionId=fd.get().flowVersionId,this.blockCode=s,this.partnerConfig=e_[this.blockCode]||{},this.metadataService=new t_(t),this.sectionNumber=e.number,this.blockId=i,this.showValidation=Object(n.observable)(!1),this.isButtonDisabled=Object(n.observable)(!0),this.takePartnerProgress=Object(n.observable)(!1),this.selectorName=h.a.routeParams().element,this.isActive=Object(n.observable)(Boolean(this.selectorName)),this.translationsKeyPartner=Object(n.observable)(this.partnerConfig.translationType),this.partnerConfigParameters={requisitionNumber:this.jobId,flowVersionId:this.flowVersionId,draftId:Ba.id,blockCode:this.blockCode},this.isValid=Object(n.pureComputed)(()=>!this.showValidation()||this.isCompleted()),kp.addValidation(this.sectionNumber,this.isValid),e.addBeforeValidationCallback(()=>this.enableValidation()),this.initialize()}initialize(){this.getPartnerConfig().catch(e=>{console.error(e),bi.error()}).then(()=>{_p.setBlockReady(this.sectionNumber,this.blockId)})}enableValidation(){this.showValidation(!0)}getPartnerConfig(){return Ba&&Ba.id?this.metadataService.getPartnerConfig(this.partnerConfigParameters).then(e=>{this.isCompleted(e.isPartnerCompleted),this.isButtonDisabled(!1)}).catch(console.error):(this.isButtonDisabled(!1),Promise.resolve())}redirectToPartnerURL(){this.isButtonDisabled(!0),this.takePartnerProgress(!0),ru.save().catch(()=>Promise.resolve()).then(()=>{!function(){const e=JSON.stringify(Is.a.get());lp.a.set("verificationToken",e,{hours:4})}();const{getPartnerLink:e}=this.partnerConfig;return this.partnerConfigParameters.draftId=Ba.id,n_[e](this.partnerConfigParameters)}).then(e=>e.partnerUrl?h.a.redirect(e.partnerUrl):Promise.reject("missing url")).catch(e=>{console.error(e),bi.error(),this.takePartnerProgress(!1)})}}var a_='\x3c!-- ko ifnot: isCompleted --\x3e\n<button\n    class="button partner-button"\n    data-bind="click: redirectToPartnerURL,\n                   disable: isButtonDisabled,\n                   attr: { \'data-profile-item-invalid\': !isValid() },\n                   scrollTo: { target: selectorName, duration: 0, offset: -85, isActive: isActive, eventType: \'onLoad\' }"\n>\n    <inline-spinner\n        params="isLoading: takePartnerProgress, i18n: \'apply-flow.partners.\'+translationsKeyPartner()+\'-label\'"\n    ></inline-spinner>\n</button>\n\n\x3c!-- ko ifnot: isValid --\x3e\n<p\n    class="input-row__validation"\n    role="alert"\n    aria-live="assertive"\n    data-bind="i18n: \'apply-flow.partners.\'+translationsKeyPartner()+\'-error-message\'"\n></p>\n\x3c!-- /ko --\x3e\n\x3c!-- /ko --\x3e\n\n\x3c!-- ko if: isCompleted --\x3e\n<p\n    class="completed-communicate"\n    data-bind="i18n: \'apply-flow.partners.\'+translationsKeyPartner()+\'-completed\'"\n></p>\n\x3c!-- /ko --\x3e\n';n.components.register("inline-tax-credits",{viewModel:s_,template:a_}),n.components.register("inline-assessment",{viewModel:s_,template:a_}),Bc.registerBlock("ORA_ASSESSMENT",{component:"inline-assessment",repository:t_}),Bc.registerBlock("ORA_TAXCREDITS",{component:"inline-tax-credits",repository:t_});var o_='\x3c!-- ko if: customJsValidation.showMessage --\x3e\n<p\n    class="input-row__validation input-row__validation--top input-row--invalid"\n    role="alert"\n    data-bind="html: customJsValidation.message"\n></p>\n\x3c!-- /ko --\x3e\n\n\x3c!-- ko if: forms --\x3e\n\x3c!-- ko foreach: {data: forms, as: \'form\'} --\x3e\n<form-builder params="form: form"></form-builder>\n\n\x3c!-- ko if: $parent.showAddButton --\x3e\n<button\n    type="button"\n    class="icon-collapse profile-item-button profile-item-button--remove"\n    data-bind="i18n: \'apply-flow.profile-item.remove-item-button\', click: $parent.removeProfileItem"\n></button>\n\x3c!--/ko --\x3e\n\x3c!--/ko --\x3e\n\x3c!-- /ko --\x3e\n\n\x3c!-- ko if: showAddButton --\x3e\n<button\n    type="button"\n    class="apply-flow-profile-item-button apply-flow-profile-item-button--add"\n    data-bind="i18n: addButtonLabel, click: addProfileItem"\n></button>\n\x3c!-- /ko --\x3e\n';function r_(e,t){var i=t.get(e);if(!i)throw new TypeError("attempted to get private field on non-instance");return i.get?i.get.call(e):i.value}n.components.register("profile-items",{viewModel:Dg,template:o_});var l_=new WeakMap;n.components.register("tile-profile-items",{viewModel:Mg,template:Vg}),n.components.register("unique-tile-profile-items",{viewModel:class extends Mg{constructor(...e){super(...e),l_.set(this,{writable:!0,value:this._getPrimaryKey()})}editProfileItem(e){this._disableAlreadyAssignedContentItemIds(e),super.editProfileItem(e)}_hideForm(e){return this._markReAddedItemAsUpdated(e),super._hideForm(e)}_getPrimaryKey(){return Tp[this._contentTypeId].primaryKey}_disableAlreadyAssignedContentItemIds(e){const t=this._getOptionsToDisable(e);e.getElement("contentItemId").optionsDisabled(t)}_getOptionsToDisable(e){const t=this._getContentItemId(e),i=e=>(e=>e.contentItemId()===t)(e)||(e=>!e.contentItemId())(e);return this.profileItems().filter(e=>!i(e)).filter(this._hasSameSectionId.bind(this)).map(e=>e.contentItemId())}_markReAddedItemAsUpdated(e){const t=this._getContentItemId(e),i=this._findPersistentRemovedItem(t);if(!i)return;const n=i[r_(this,l_)](),s=this._getModel(e);s[r_(this,l_)](n),s.action("UPDATE")}_getContentItemId(e){return this._getModel(e).contentItemId()}_findPersistentRemovedItem(e){return this._getCandidateProfileItems().getRemovedItems().filter((i=e,e=>e.contentItemId()===i)).filter(this._hasSameSectionId.bind(this)).find((t=r_(this,l_),e=>Boolean(e[t]())));var t,i}_getModel(e){return Object(n.unwrap)(e).model()}},template:Vg});n.components.register("mandatory-profile-items",{viewModel:class extends Mg{constructor(...e){super(...e),this.isValid=s.a.pureComputed(()=>{const e=kp.isSectionValid(this.sectionNumber),t=this.forms().some(e=>e().isValid());return!!e()||t})}doneProfileItem(e){e.isEmpty()&&this._hasProfileItems()?this.removeProfileItem(e):(this._hideForm(e),Kd.profileItemChangeDetected.dispatch(e))}_addAndOpenFirstProfileItem(){const e=this._createItem(),t=this._createSingleForm(e);t().isActive(!0),this.forms.push(t),kp.registerForm(t,this.sectionNumber),this._pushProfileItem(e)}},template:"\x3c!-- ko component: { name: 'mandatory-profile-items-tile', params: $component } --\x3e\x3c!-- /ko --\x3e\n"}),n.components.register("mandatory-profile-items-tile",{template:Vg});class c_{constructor(e,t){if(e>t)throw new Error("Cannot create negative interval");this.start=e,this.end=t}isEmpty(){return this.start===this.end}length(){return this.end-this.start}overlaps(e){return!c_.isDefined(e)&&this.start<e.end&&this.end>e.start}subtract(e){if(!this.overlaps(e))return[new c_(this.start,this.end)];if(e.start<=this.start&&e.end>=this.end)return[];if(e.start>this.start&&e.end<this.end)return[new c_(this.start,e.start),new c_(e.end,this.end)];if(e.start<=this.start&&e.end>this.start)return[new c_(e.end,this.end)];if(e.start<this.end&&e.end>=this.end)return[new c_(this.start,e.start)];throw new Error("Impossible")}toString(){return`[${this.start},${this.end}]`}static I(e,t){return new c_(e,t)}static get EmptyInterval(){return new c_(0,0)}static isDefined(e){return!e||e.start===e.end}static compareStart(e,t){return e.start-t.start}static compareLength(e,t){return e.end-e.start-(t.end-t.start)}}const{I:d_}=c_;c_.EmptyInterval;var u_=c_;var p_=class{constructor(e,...t){this._comparator=e,this.elements=[...t],this._sort()}get(e){return this.elements[e]}push(e){return Array.isArray(e)?e.forEach(e=>this.push(e)):e.isEmpty()||this.elements.push(e),this._sort(),!0}subtractInterval(e){return this.elements.splice(0,this.elements.length).reduce((t,i)=>{const n=i.subtract(e);return t.push(n),t},this),this}subtractIntervals(e){return e.elements.forEach(e=>{this.subtractInterval(e)},this.elements),this}getFirstNotShorter(e){return this.elements.filter(t=>t.length()>=e).pop()}_sort(){this.elements.sort(this._comparator)}};var h_=class extends p_{push(e){if(!(e instanceof u_))throw new Error("It is not a Interval element");return!this.overlaps(e)&&super.push(e)}coverWith(e){this.elements.forEach(t=>{t.coverWith(e)})}overlaps(e){return this.elements.some(t=>t.overlaps(e))}};let m_=null;class b_{constructor(e=16){this._MAX_COLOR_INDEX=e-1,this._currentColor=0,this._colorsMap={}}next(){return this._currentColor>this._MAX_COLOR_INDEX&&(this._currentColor=0),this._currentColor++}getColor(e){return void 0===this._colorsMap[e]&&(this._colorsMap[e]=this.next()),this._colorsMap[e]}static getInstance(){return null===m_&&(m_=new b_),m_}}var f_=b_;var g_=class{constructor(e){this.levels=[],this._entries=e,this._colorDistributor=f_.getInstance()}push(...e){this._entries.push(...e)}buildProjection(e){return this._buildLevels(),this._assignColors(e),this._computeVisibleIntervals(),this._flattenEntries()}_buildLevels(){this.levels=[];let e=Array.prototype.slice.call(this._entries).sort((e,t)=>u_.compareLength(t,e)||u_.compareStart(e,t));for(;e.length>0;){const t=new h_;e=e.filter(e=>!t.push(e)),this.levels.push(t)}return this.levels}_assignColors(e){this._entries.forEach(t=>{t.color=this._colorDistributor.getColor(`${e}-${t.id}`)})}_computeVisibleIntervals(){const{levels:e}=this;for(let t=0;t<e.length;t++)for(let i=t+1;i<e.length;i++)e[t].coverWith(e[i])}_flattenEntries(){return this.levels.reduce((e,t,i)=>(t.elements.forEach(t=>{t.level=i,e.push(t)}),e),[]).sort(u_.compareStart).reverse()}};var v_=class extends u_{constructor(e,t,i){super(e,t),this._resolveEndDate(),this.offset=this.start,this.height=this.end-this.start,this.color="",this.isFaded=s.a.observable(!1),s.a.utils.extend(this,i),this._visibleIntervals=new p_(u_.compareStart,new u_(this.start,this.end)),this._contentSpot=null}get contentOffset(){const e=this._getContentSpot();return e?this.end-e.end:0}get contentStyle(){const e=this._getContentSpot();return e&&e.length()<6?"single-line":null}coverWith(e){this._contentSpot=null,this._visibleIntervals.subtractIntervals(e)}_resolveEndDate(){this.length()<3&&(this.end=this.start+3)}_getContentSpot(){return null===this._contentSpot&&(this._contentSpot=this._visibleIntervals.getFirstNotShorter(6)||this._visibleIntervals.getFirstNotShorter(3)),this._contentSpot}};class __{constructor(e){this._startYear=new Date(e+"-01-01")}toTimelineEntry(e){const{startDate:t,endDate:i}=this._getProjectionDates(e),n=__.monthDifference(this._startYear,t)+11,s=__.monthDifference(this._startYear,i)+11;return new v_(n,s,e)}toTimelineEntries(e){return e.map(this.toTimelineEntry.bind(this))}_getProjectionDates(e){const t=new Date;let i=e.startDate?new Date(e.startDate):void 0,n=e.endDate?new Date(e.endDate):void 0;return!n&&i&&(n=new Date(i.getFullYear()+1,i.getMonth(),i.getDay())),(!n||"Y"===e.isCurrent||n>t)&&(n=t),i=i||new Date(n.getFullYear()-1,n.getMonth(),n.getDay()),{startDate:i,endDate:n}}static monthDifference(e,t){let i=12*(t.getFullYear()-e.getFullYear());return i+=t.getMonth()-e.getMonth(),i}}var y_=__;var x_=new class{createProjection(e,t,i){const n=new y_(t).toTimelineEntries(i);return new g_(n).buildProjection(e)}};class w_{constructor(e){this._tileStrategy=e}buildTile(e){return this._tileStrategy.useForm(e),this._tileStrategy.resolveFormSources().then(e=>Promise.all([this._tileStrategy.buildTitle(e),this._tileStrategy.buildSubtitle(e),e])).then(([t,i,n])=>({id:e.model().id(),title:t,subtitle:i,startDate:n.startDate,endDate:n.endDate,isCurrent:n.isCurrent,valid:e.isValid()}))}}class k_ extends Xf{buildSubtitle(e){return e.schoolName||e.school||null}}class I_ extends ag{buildSubtitle(e){return e.employerName?""+e.employerName:""}}var C_={createExperienceTileBuilder(){const e=new I_;return new w_(e)},createEducationTileBuilder(){const e=new k_;return new w_(e)}};n.components.register("beautiful-timeline",{viewModel:class{constructor({education:e,experience:t}){this.educationSource=e,this.experienceSource=t,this.educations=s.a.observableArray([]),this.experiences=s.a.observableArray([]),this.years=s.a.observableArray([]),this._educationSub=this.educationSource.subscribe(()=>this.render()),this._experienceSub=this.experienceSource.subscribe(()=>this.render()),this._renderSignal=Hf.renderTimeline.add(()=>this.render()),this._mouseoverItemSignal=Hf.mouseoverItem.add(this.fadeTilesOverItem.bind(this)),this._mouseleaveItemSignal=Hf.mouseleaveItem.add(this.unFadeTiles.bind(this)),this.render()}_calculateYears(e,t){const i=[];for(let n=t;n>=e;n--)i.push(n);return i}_calculateYearsRange(e){const t=(new Date).getFullYear();let i=t-3;const n=t+1,s=e=>{if(e)return parseInt(e.split("-")[0],10)};return e.forEach(e=>{const n=s(e.startDate)||t,a=s(e.endDate)||t;i=Math.min(i,n,a)}),{startYear:i,endYear:n}}fadeTilesOverItem(e,t){(0,this[t])().forEach(t=>{t.level>e.level&&!(t.end<e.start||t.start>e.end)&&t.isFaded(!0)})}unFadeTiles(e){(0,this[e])().forEach(e=>{e.isFaded(!1)})}render(){Promise.all([this._fetchItemsData(this.educationSource(),C_.createEducationTileBuilder()),this._fetchItemsData(this.experienceSource(),C_.createExperienceTileBuilder())]).then(e=>{const[t,i]=e,{startYear:n,endYear:s}=this._calculateYearsRange([].concat(t,i));this.years(this._calculateYears(n,s)),this.experiences(x_.createProjection("experiences",n,i)),this.educations(x_.createProjection("educations",n,t))})}_fetchItemsData(e,t){const i=e.map(e=>{const i=e();return i.validate().then(()=>t.buildTile(i))});return Promise.all(i)}dispose(){this._educationSub.dispose(),this._experienceSub.dispose(),this._renderSignal.detach(),this._mouseoverItemSignal.detach(),this._mouseleaveItemSignal.detach()}},template:'<div class="beautiful-timeline">\n    <div class="beautiful-timeline__column beautiful-timeline__column--left" data-bind="foreach: experiences">\n        <beautiful-timeline-item params="item: $data, type: \'experiences\'"></beautiful-timeline-item>\n    </div>\n    <div class="beautiful-timeline__years" data-bind="foreach: years">\n        <div class="beautiful-timeline__year">\n            <span class="beautiful-timeline__year-title" data-bind="text: $data"></span>\n        </div>\n    </div>\n    <div class="beautiful-timeline__column beautiful-timeline__column--right" data-bind="foreach: educations">\n        <beautiful-timeline-item params="item: $data, type: \'educations\'"></beautiful-timeline-item>\n    </div>\n</div>\n'});function S_(e){return 10*e+"px"}n.components.register("beautiful-timeline-item",{viewModel:class{constructor({item:e,type:t}){this.item=e,this.type=t,this.offset=S_(this.item.offset),this.height=S_(this.item.height),this.contentOffset=S_(this.item.contentOffset),this.colorCss="beautiful-timeline-item--color-"+this.item.color,this.startDate=ye.date.formatMonthYear(this.item.startDate)||Object(l.a)("apply-flow.a11y.empty-date"),this.endDate=ye.date.formatMonthYear(this.item.endDate)||Object(l.a)("apply-flow.a11y.empty-date"),this.dateRange=Object(l.a)("apply-flow.a11y.date-range",{startDate:this.startDate,endDate:this.endDate}),this.itemCss={[this._resolveCss()]:!0,"beautiful-timeline-item--faded":e.isFaded}}_resolveCss(){const e=["beautiful-timeline-item--level"+this.item.level];return this.item.valid||e.push("beautiful-timeline-item--invalid"),this.item.contentStyle&&e.push("beautiful-timeline-item--"+this.item.contentStyle),e.join(" ")}onclick(){Hf.editTimelineItem.dispatch(this.item.id)}onMouseover(){Hf.mouseoverItem.dispatch(this.item,this.type)}onMouseleave(){Hf.mouseleaveItem.dispatch(this.type)}},template:'<div\n    class="beautiful-timeline-item"\n    tabindex="0"\n    role="button"\n    data-profile-item-tile="true"\n    data-bind="click: onclick,\n                event: {mouseover: onMouseover, mouseleave: onMouseleave},\n                a11y.keysHandler: {keys: \'enter\', handler: onclick},\n                css: itemCss,\n                attr: { \'data-profile-item-invalid\': !item.valid },\n                style: {\'height\': height, \'bottom\': offset, \'z-index\': item.level}"\n>\n    <div class="beautiful-timeline-item__content" data-bind="css: colorCss">\n        <span\n            class="beautiful-timeline-item__title"\n            data-bind="text: item.title, style: {\'margin-top\': contentOffset}"\n        ></span>\n        <span class="beautiful-timeline-item__subtitle" data-bind="text: item.subtitle"></span>\n        <span class="oj-helper-hidden-accessible" data-bind="text: dateRange"></span>\n    </div>\n</div>\n'});n.components.register("timeline-form-builder",{viewModel:class extends T{dispose(){}},template:j});const E_=()=>null,O_={"experience-form":"#timeline-add-experience-button","education-form":"#timeline-add-education-button"};n.components.register("timeline-form-dialog",{viewModel:class{constructor(){this.form=s.a.observable(),this.formLegend=s.a.observable(),this.showRemoveButton=s.a.observable(!1),this.isVisible=s.a.observable(),this.resetFocus="",this._save=E_,this._remove=E_,this.isValidationInProgress=s.a.observable(!1),this.hasActiveForm=s.a.pureComputed({read:()=>Boolean(this.form()),write:e=>{e||this.save()}}),this.focusCallback=Fg.focusInvalid,this._openDialogSignal=Hf.openFormDialog.add(({save:e,remove:t,showRemoveButton:i,form:n,isValidationInProgress:s})=>{this.resetFocus=O_[n().componentName()],this._save=e,this._remove=t,this.showRemoveButton(i),this.form(n),this.formLegend(n().legend()),this.isVisible(!0),this._setupSubscription(s)}),this._closeDialogSignal=Hf.closeFormDialog.add(this._hide.bind(this))}save(){this._save(this.form())}remove(){this._remove(this.form()),this._hide()}close(){this._hide()}_clear(){this.form(null),this.formLegend(""),this.showRemoveButton(!1),this.isVisible(!1),this._save=E_,this._remove=E_}_hide(){this._clear(),Hf.renderTimeline.dispatch()}dispose(){this._openDialogSignal.detach(),this._closeDialogSignal.detach()}_setupSubscription(e){this.validationProgressSubscription&&this.validationProgressSubscription.dispose(),this.validationProgressSubscription=e.subscribe(this.isValidationInProgress.bind(this))}},template:'<minimal-dialog params="isVisible: hasActiveForm, focusCallback: focusCallback">\n    <dialog-body>\n        \x3c!-- ko if: form --\x3e\n        <div class="app-dialog__header">\n            <h1 class="heading" data-bind="text: formLegend"></h1>\n        </div>\n\n        <div class="app-dialog__content">\n            <form novalidate>\n                <timeline-form-builder\n                    class="timeline-form-dialog__content"\n                    params="form: form()"\n                ></timeline-form-builder>\n            </form>\n        </div>\n\n        <div class="app-dialog__footer">\n            <div class="app-dialog__buttons-bar font-family-secondary text-color-primary">\n                <button class="button app-dialog__footer-button" data-bind="click: remove.bind($data)">\n                    <span\n                        class="button__label"\n                        data-bind="i18n: \'apply-flow.profile-item.remove-item-button\'"\n                    ></span>\n                </button>\n\n                <button\n                    class="button app-dialog__footer-button"\n                    data-qa="addTimelineItemDialogButton"\n                    data-bind="click: save.bind($data), disable: isValidationInProgress"\n                >\n                    <inline-spinner\n                        class="button__label"\n                        params="isLoading: isValidationInProgress, i18n: \'general.done-button\'"\n                    ></inline-spinner>\n                </button>\n            </div>\n        </div>\n        \x3c!-- /ko --\x3e\n    </dialog-body>\n</minimal-dialog>\n'});class A_ extends Dg{constructor(...e){super(...e),this.isValid=s.a.pureComputed(()=>this.forms().length>0),this._editTimelineItemSignal=Hf.editTimelineItem.add(this.editProfileItem.bind(this))}addProfileItem(){const e=this._createItem(),t=this._createSingleForm(e);this._showForm(t,this._persistProfileItem)}editProfileItem(e){const t=this._getFormByItemId(e);t&&this._showForm(t,this.doneProfileItem)}doneProfileItem(e){const t=e();this.changeDetector.hasChanged()?this.validateProfileItemForm(t).then(()=>this._hideForm()):this._hideForm()}_persistProfileItem(e){const t=e();this.changeDetector.hasChanged()?this.validateProfileItemForm(t).then(()=>{this.forms.push(e),kp.registerForm(e,this.sectionNumber),this.profileItems.push(t.model()),this._hideForm()}):this._hideForm()}_showForm(e,t){this.changeDetector=new Lg(e()),Hf.openFormDialog.dispatch({form:e,showRemoveButton:!0,save:t.bind(this),remove:this.removeProfileItem.bind(this),isValidationInProgress:this.isValidationInProgress})}_hideForm(){Hf.closeFormDialog.dispatch()}_findContainerElement(){return document.querySelector(".app-dialog__content")||document.querySelector("timeline-form-dialog")}dispose(){this._editTimelineItemSignal.detach(),super.dispose()}}n.components.register("work-and-education-timeline",{viewModel:class{constructor(e){const{blockProperties:t}=e,[i,n]=t.contentTypeId,[a,o]=t.sectionId,[r,l]=e.metadataServiceUrl;this.educationViewModel=new A_(s.a.utils.extend(Object.create(e),{blockProperties:{contentTypeId:n,sectionId:o},metadataServiceUrl:l})),this.experienceViewModel=new A_(s.a.utils.extend(Object.create(e),{blockProperties:{contentTypeId:i,sectionId:a},metadataServiceUrl:r})),this.isEducationValid=this.educationViewModel.isValid,this.isExperienceValid=this.experienceViewModel.isValid,this.isValid=s.a.pureComputed(()=>{const e=this.isEducationValid(),t=this.isExperienceValid();return e&&t}),this.showValidation=s.a.observable(!1),this.isValidForValidator=s.a.pureComputed(()=>{const e=this.showValidation(),t=this.isValid();return!e||t}),this.addButtonsInViewport=s.a.observable(),this.buttonsPinned=s.a.pureComputed(()=>!this.addButtonsInViewport())}enableValidation(){this.showValidation(!0)}dispose(){this.isValidForValidator.dispose(),this.isValid.dispose(),this.educationViewModel.dispose(),this.experienceViewModel.dispose()}},template:'\x3c!-- ko if: showValidation --\x3e\n\x3c!-- ko ifnot: isValid --\x3e\n<p\n    aria-live="assertive"\n    class="apply-flow-block__error-message"\n    data-bind="i18n: \'apply-flow.profile-item.required-experience-and-education-label\'"\n></p>\n\x3c!-- /ko --\x3e\n\x3c!-- /ko --\x3e\n\n<div\n    id="timeline-anchor"\n    class="work-and-education-timeline__actions-container"\n    data-bind="inViewport: {obsv: addButtonsInViewport, edge: \'top\'}"\n>\n    <div\n        class="work-and-education-timeline__actions"\n        data-bind="css: {\'work-and-education-timeline__actions--pinned\': buttonsPinned}"\n    >\n        <button\n            id="timeline-add-experience-button"\n            type="button"\n            class="\n                work-and-education-timeline-add-button\n                apply-flow-profile-item-button apply-flow-profile-item-button--add\n            "\n            data-bind="click: experienceViewModel.addProfileItem.bind(experienceViewModel),\n                           css: {\'work-and-education-timeline--invalid\': showValidation() && !isExperienceValid()}"\n        >\n            <span\n                class="apply-flow-profile-item-button__label"\n                data-bind="i18n: \'apply-flow.section-experience.experience-button\'"\n            ></span>\n        </button>\n\n        <button\n            id="timeline-add-education-button"\n            type="button"\n            class="\n                work-and-education-timeline-add-button\n                apply-flow-profile-item-button apply-flow-profile-item-button--add\n            "\n            data-bind="click: educationViewModel.addProfileItem.bind(educationViewModel),\n                            css: {\'work-and-education-timeline--invalid\': showValidation() && !isEducationValid()}"\n        >\n            <span\n                class="apply-flow-profile-item-button__label"\n                data-bind="i18n: \'apply-flow.section-experience.education-button\'"\n            ></span>\n        </button>\n    </div>\n</div>\n\n<beautiful-timeline\n    params="education: educationViewModel.forms, experience: experienceViewModel.forms"\n></beautiful-timeline>\n\n<timeline-form-dialog></timeline-form-dialog>\n'}),Bc.registerBlock("ORA_TIMELINE",{component:"work-and-education-timeline",repository:ib,requireBlockProperties:!0});n.components.register("multi-select-dropdown-form-element",{viewModel:class extends k{constructor(...e){super(...e),this.value=Object(n.pureComputed)({read(){return this._value()},write(e){const t=this.element.getLabelForValue(e);t&&(this.element.value().push({value:e,label:t}),this.element.value.notifySubscribers()),this._value([])},owner:this}),this._value=Object(n.observable)([]),this.optionsKeys=Object(n.observable)({value:"value",label:"name"}),this.isFilled=Object(n.pureComputed)(()=>Boolean(this.value().length)),this.isDisabled=Object(n.pureComputed)(()=>{const e=this.element.isDisabled(),t=this.element.options(),i=Array.isArray(t)&&t.length,n=this.element.value().length>=3,s=this.element.value().length===t.length;return e||!i||n||s})}blurHandler(){this.hasFocus(!1),super.blurHandler()}getRemoveLocationTitle(e){return`${Object(l.a)("apply-flow.profile-item.remove-item-button")} ${Object(n.unwrap)(e)}`}},template:'<div\n    class="input-row input-row--has-picker"\n    data-bind="css: {\'input-row--focused\': isFocused,\n                      \'input-row--filled\': isFilled,\n                      \'input-row--invalid\': isInvalid}"\n>\n    \x3c!-- ko if: element.label --\x3e\n    <label\n        class="input-row__label"\n        data-bind="css: {\'input-row__label--required\': element.isRequired,\n                            \'input-row__label--disabled\': element.isDisabled},\n                      text: element.label,\n                      attr: { for: element.id }"\n    ></label>\n    \x3c!-- /ko --\x3e\n\n    <div class="input-row__control-container">\n        <oj-select-one\n            class="input-row__select"\n            id="preferred-location-selector"\n            placeholder=""\n            disabled="[[isDisabled]]"\n            value="{{value}}"\n            options="[[element.fetchOptions]]"\n            options-keys="[[optionsKeys]]"\n            on-focus="[[focusHandler]]"\n            picker-attributes="[[{ \'class\': \'input-row__listbox background-color-dropdown\' }]]"\n            label-edge="none"\n            label-hint="[[element.label]]"\n            data-bind="classRemovedObserver: {\n                className: \'oj-listbox-dropdown-open\',\n                handler: blurHandler.bind($data)\n            }"\n        >\n        </oj-select-one>\n\n        <div class="input-row__control-decorator"></div>\n\n        \x3c!-- ko if: isInvalid --\x3e\n        <p class="input-row__validation" role="alert" data-bind="text: element.getErrorMessage"></p>\n        \x3c!-- /ko --\x3e\n    </div>\n</div>\n\n<ul class="locations-chosen">\n    \x3c!-- ko foreach: element.value --\x3e\n    <li class="locations-chosen-location locations-preferred">\n        <span class="locations-chosen-location__label" data-bind="text: label"> </span>\n\n        <button\n            class="locations-chosen-location__remove"\n            data-bind="\n                a11y.setFocusOnClick: { focusOn: \'#preferred-location-selector\'},\n                click: $component.element._removeOption.bind($component.element, $data), \n                attr: {\n                    \'title\': $component.getRemoveLocationTitle(label),\n                },\n                "\n        ></button>\n    </li>\n    \x3c!-- /ko --\x3e\n</ul>\n'});class P_ extends Ue{constructor({options:e}){super(),this.component("multi-select-dropdown-form-element"),this.options=Object(n.observableArray)(e),this.fetchOptions=I(this.fetchOptions.bind(this),0)}fetchOptions(){return this._disableOptions(this.options())}_disableOptions(e){const t=o.a.toJS(this.value()).map(({value:{locationId:e}})=>e);return e.forEach(e=>e.disabled=-1!==t.indexOf(e.value.locationId)),e}getLabelForValue(e){const[t]=this.options().filter(t=>t.value===e);return t?t.label:""}_removeOption(e){const t=this.value(),[i]=this.value().filter(({value:t})=>t===e.value);t.splice(t.indexOf(i),1),this.value(t)}}var T_=Object.create(at,{createForm:{value(e,t){const i=at.createForm();return i.elements([this._createPreferredLocationsFormElement(e().preferredLocations,t)]),i}},_createPreferredLocationsFormElement:{value(e,t){const i=Object(l.a)("apply-flow.work-preferences.preferred-location-label"),n=new P_({options:t});return n.label(i),n.attributes({name:"preferredLocations",id:"preferred-locations"}),n.registerModel(e),n}}});n.components.register("preferred-locations",{viewModel:class extends Jm{constructor(e){super(e);const{jobId:t}=h.a.routeParams();this.application=e.application,Fs.getJobPreferredLocations(t).then(this._createForm.bind(this)).then(this._registerForm.bind(this)).catch(e=>console.error(e)).then(this._setBlockReady.bind(this))}_createForm(e){const t=T_.createForm(this.application,e);this.form(t)}},template:"\x3c!-- ko if: form --\x3e\n\n\x3c!-- ko component: { name: 'form-builder', params: { form: form } } --\x3e\x3c!-- /ko --\x3e\n\n\x3c!-- /ko --\x3e\n"}),Bc.registerBlock("ORA_LOCATION_PREFERENCE",{component:"preferred-locations"});n.components.register("location-picker",{viewModel:class{constructor({element:e,collection:t}){this.element=e,this.selectedLocations=s.a.observableArray(),this._createSelectedLocations(t()),this.collectionSub=t.subscribe(e=>this._createSelectedLocations(e)),this.valueSub=this.element.value.subscribe(e=>{e&&this._addLocation(e)}),this.isCollectionEmpty=s.a.pureComputed(()=>0===this.selectedLocations().filter(e=>e.label()).length)}_isLocationNotSelected(e){return this.selectedLocations().some(t=>t.locationCode()===e)?Promise.reject():Promise.resolve()}_addLocation(e){e&&this._isLocationNotSelected(e).then(()=>Promise.all([this._resolveLocationToUpdate(),this.element.getLabel(e)]).then(t=>{const[i,n]=t;i.label(n),i.locationCode(e),this._togglePicker(),this.element.value(null)}))}_getEmptyLocation(){return s.a.utils.arrayFirst(this.selectedLocations(),e=>!e.locationCode())}_resolveLocationToUpdate(){const e=this._getEmptyLocation();return e?Promise.resolve(e):Promise.reject()}_createSelectedLocations(e){const t=e.map(e=>{const t=this._createSelectedLocation(e);return this.element.getLabel(t.locationCode()).then(e=>t.label(e)),t});this.selectedLocations(t),this._togglePicker()}_createSelectedLocation(e){return{label:s.a.observable(),locationCode:e}}removeLocation(e){e.label(null),e.locationCode(null),this._togglePicker()}getRemoveLocationTitle({label:e}){return`${Object(l.a)("apply-flow.profile-item.remove-item-button")} ${e()}`}_togglePicker(){const e=this._getEmptyLocation(),t=Boolean(!e);this.element.isDisabled(t)}dispose(){this.valueSub.dispose(),this.collectionSub.dispose()}},template:'\x3c!-- ko component: { name: element.component, params: { element: element }} --\x3e\n\x3c!-- /ko --\x3e\n\n<ul class="locations-chosen" data-bind="css: { \'locations-chosen--empty\': isCollectionEmpty }">\n    \x3c!-- ko foreach: { data: selectedLocations, as: \'location\' } --\x3e\n    \x3c!-- ko if: location.label --\x3e\n    <li class="locations-chosen-location" tabindex="0">\n        <span\n            class="locations-chosen-location__label"\n            data-bind="text: location.label, attr: {title: location.label}"\n        ></span>\n\n        <button\n            type="button"\n            class="locations-chosen-location__remove"\n            data-bind="\n                attr: { \'aria-label\': $parent.getRemoveLocationTitle(location) },\n                click: $parent.removeLocation.bind($parent)"\n        ></button>\n    </li>\n    \x3c!-- /ko --\x3e\n    \x3c!-- /ko --\x3e\n</ul>\n'});n.components.register("locations-form-element",{viewModel:k,template:'\x3c!-- ko ifnot: element.isHidden --\x3e\n\x3c!-- ko if: element.preferredFields().length ||  element.excludedFields().length --\x3e\n<div class="locations-form">\n    <div class="locations-form__pickers">\n        \x3c!-- ko if: element.preferredFields().length --\x3e\n        <location-picker\n            class="locations-form__picker locations-form__picker--preferred"\n            params="element: element.preferredElement,\n                        collection: element.preferredLocations"\n        ></location-picker>\n        \x3c!-- /ko --\x3e\n\n        \x3c!-- ko if: element.excludedFields().length --\x3e\n        <location-picker\n            class="locations-form__picker locations-form__picker--excluded"\n            params="element: element.excludedElement,\n                        collection: element.excludedLocations"\n        ></location-picker>\n        \x3c!-- /ko --\x3e\n    </div>\n    \x3c!-- ko if: isInvalid --\x3e\n    <p class="input-row__validation" role="alert" data-bind="text: element.getErrorMessage"></p>\n    \x3c!-- /ko --\x3e\n</div>\n\x3c!-- /ko --\x3e\n\x3c!-- /ko --\x3e\n'});n.components.register("work-preferences",{viewModel:class extends Dg{_setProfileItems(e){super._setProfileItems(e),this._hasProfileItems()||this.addProfileItem()}},template:o_}),Bc.registerBlock("ORA_WORK_PREFERENCE",{component:"work-preferences",repository:ib,requireBlockProperties:!0});n.components.register("apply-flow-post-summary-thank-you",{viewModel:class extends Vm{redirectToCSS(){Kd.submitSucceed.dispatch(),h.a.go("candidate-self-service").then(()=>{fd.clearSecondaryFlowData(),bi.successAfterLoaded(Object(l.a)("post-apply.message.submit-success"),500)})}},template:Bm});n.components.register("apply-flow-post-pin-verification",{viewModel:class extends Yu{constructor(){if(super(),Bt.a.loading.dispatch(),Fu.a.isActive())this._triggerChallenge().catch(e=>(this._handleError(e),!1)).then(e=>e?this.onPinChallengeRequired():this._noChallengeRequired());else{if(Is.a.accessCodeExists())return this._noChallengeRequired();this._triggerChallenge().then(this.onPinChallengeRequired.bind(this)).catch(this._handleError.bind(this))}}_noChallengeRequired(){return this.onPinValid().then(Bt.a.loaded.dispatch)}onPinValid(){fd.setSecondaryFlowData(fd.createFlowData(Is.a.get().flowId,Is.a.get().stepActionUsageId));const e=Object.assign(h.a.routeParams(),{sectionNumber:1});return h.a.go("post-apply",e)}onPinChallengeRequired(){this.handleMergedCandiate(),Bt.a.loaded.dispatch()}_handleError(e){if(e===Ao.a||e===Ao.g)return this.verificationStatus(Ao.a),void Bt.a.loaded.dispatch();super._handleError(e)}},template:_u}),h.a.configure({"post-apply-base":{parent:"cx",url:"/submission/{jobId}/{submissionId}/post-apply/{token}",view:{},canEnter:e=>ju.isChallengeRequired()?(Object(Ru.d)({token:e.token}),Promise.reject({redirectTo:"post-apply.pin-verification"})):new Promise((t,i)=>{Is.a.verifyToken(e.token).then(()=>{e.sectionNumber=1,fd.setSecondaryFlowData(fd.createFlowData(Is.a.get().flowId,Is.a.get().stepActionUsageId)),i({redirectTo:"post-apply"})}).catch(e=>{"token-expired"===e?bi.error(Object(l.a)("general.error-token-expired.header")):bi.error(),console.error(e),i({redirectTo:"home-page"})})})},"post-apply":{parent:"cx",url:"/submission/{jobId}/{submissionId}/post-apply-flow/section/{sectionNumber}",view:{layout:"apply-flow-post"},title:Object(l.a)("apply-flow.page-title"),transition:pp,canEnter:()=>new Promise((e,t)=>Is.a.isCandidateVerified()?e():t({redirectTo:"job-details"})),enter(){Bt.a.loaded.dispatch(),fu()},exit(e,t){vu(this.id,t)}},"post-apply.pin-verification":{parent:"cx",url:"/submission/{jobId}/{submissionId}/post-apply-pin-verification",view:{layout:"candidate-verification-layout","candidate-verification-content":"apply-flow-post-pin-verification"}}});n.components.register("apply-flow-fixer",{viewModel:class{constructor({isMultipage:e}){this.isMultipage=e,this.isApplicationSubmited=Object(n.observable)(!1),this.errorCount=kp.getSummaryErrorCount(),this.isVisible=Object(n.pureComputed)(this._computeVisibility,this),this._onApplicationSubmitting=this._onApplicationSubmitting.bind(this),Kd.submitHasErrors.add(this._onApplicationSubmitting),this.bodyClassName="fixer-visible"}run(){Fg.run(this.isMultipage)}dispose(){Kd.submitHasErrors.remove(this._onApplicationSubmitting)}_onApplicationSubmitting(){this.isApplicationSubmited(!0)}_computeVisibility(){return this.isApplicationSubmited()&&this.errorCount()>0}},template:'\x3c!-- ko if: isVisible --\x3e\n\n<div\n    class="apply-flow-fixer font-family-secondary theme-color-1"\n    data-bind="setBodyClass: {when: isVisible, className: bodyClassName}"\n>\n    <div class="apply-flow-fixer__content">\n        <div class="apply-flow-fixer__pointer"></div>\n\n        <div class="apply-flow-fixer__pulse"></div>\n        <div class="apply-flow-fixer__pulse"></div>\n        <div class="apply-flow-fixer__pulse"></div>\n\n        <div class="apply-flow-fixer__abstract">\n            <span\n                class="cookie-consent__abstract-message theme-color-1"\n                data-bind="i18n: \'apply-flow.validation.fixer-label\'"\n            >\n            </span>\n        </div>\n\n        <div class="apply-flow-fixer__actions text-color-primary">\n            <button class="button apply-flow-fixer__button" data-bind="click: run">\n                <span\n                    class="apply-flow-fixer__button-label apply-flow-fixer__button-label--desktop"\n                    data-bind="i18n: { key: \'apply-flow.validation.fixer-button-label\', tokens: { \'NUMBER_OF_ERRORS\': errorCount } }"\n                ></span>\n\n                <span\n                    class="\n                        apply-flow-fixer__button-label apply-flow-fixer__button-label--mobile\n                        theme-color-1\n                    "\n                    data-bind="i18n: { key: \'apply-flow.validation.fixer-button-label\', tokens: { \'NUMBER_OF_ERRORS\': errorCount } }"\n                ></span>\n            </button>\n        </div>\n    </div>\n</div>\n\n\x3c!-- /ko --\x3e\n'});class j_ extends class{constructor({jobId:e},t){this.jobId=e,this.lang=t,this._isJobPreview=!1}_redirect({route:e,params:t}){if(b.a.get()!==this.lang){const i=m.b.interpolate({lang:this.lang},e,t);return h.a.redirect(i)}return h.a.go(e,t)}async apply(){Bt.a.toggleLoading.dispatch("apply-now-button"),Js.i[Js.c].dispatch({jobId:this.jobId()}),b.a.store(),Ls.b.trackJobApplicationStart(this.jobId());const e=await Object(To.c)(this.jobId(),this._isJobPreview);this._redirect(e)}}{constructor(...e){super(...e);const[{applyInProgress:t,overlayVisible:i}]=e;this.applyInProgress=t,this._isJobPreview="job-preview"===h.a.route().id,this.overlayVisible=i}apply(){this.applyInProgress(!0),super.apply()}dispose(){this.applyInProgress=null}}n.components.register("apply-now-button",{viewModel:{createViewModel(e,t){const i=Object(n.contextFor)(t.element);return new j_(e,i.$lang)}},template:'<button class="button apply-now-button theme-color-1 font-family-secondary" data-bind="click: apply">\n    <span\n        class="button__label"\n        data-bind="i18n: \'job-details.apply-button\', a11y.skipTo: {elementsFocused: \'.apply-now-button\',\n    skipToElement: \'.skip-navigation-link-dialog--active\', updateSkip: overlayVisible()}"\n    ></span>\n</button>\n'});class R_ extends qf{constructor(e,...t){super(...t),this.uniqueElement=e}buildTile(){this.tileTitle(this.tileStrategy.buildTitle(this.uniqueElement))}}class F_{constructor({elements:e}){this.elements=e}buildTitle(e){const t=e||this.elements()[0],i=t.value()||"";return t.valueLabel&&i?t.valueLabel():i}}class D_ extends pe{constructor(e){super(e),this._message="validators.value-should-be-unique"}_getMessageValue(e,t){return t&&e?t():e}_validate(e,t){const{uniqueKey:i,elementValueLabel:s}=t,a=Object(n.unwrap)(t.newRow),o=Object(n.unwrap)(t.existingRows);if(t.value=this._getMessageValue(e,s),!a||!o)return!0;const[r]=o.filter(({attributes:e})=>e!==a).filter(({attributes:t})=>Object(n.unwrap)(t[i])===e);return!r}}var L_={createForm(e){const t=Object.assign({elements:[]},e);let i;t.elements=t.elements.map(e=>{e.validateImmediately=t.validateImmediately;const n=at.createFormElement(e);return e.isUniqueKey&&(i=n),n});const n=new R_(i,F_,t);return i&&function(e,t,i){i.addValidator(new D_({existingRows:t,uniqueKey:i.name(),newRow:e.model,elementValueLabel:i.valueLabel}))}(n,t.existingRows,i),n}};const N_=Object(l.a)("apply-flow.profile-item.add-item-button");class M_{constructor({section:e,code:t,blockId:i,model:s,runCustomJsValidation:a}){this.sectionNumber=e.number,this.code=t,this.blockId=i,this.model=s,this.runCustomJsValidation=a,this.addButtonLabel=N_,this.formBuilder=at,this.formElements=[],this.activeForm=Object(n.observable)(),this.forms=Object(n.observableArray)(),this.hasActiveForm=Object(n.pureComputed)({read:()=>Boolean(this.activeForm()),write:e=>{e||this.done(this.activeForm())}})}removeForm(e){this._removeForm(e),this._hideDialog(),this.runCustomJsValidation()}done(e){e.isEmpty()&&this._removeForm(e),e.buildTile(),this._hideDialog(),this.runCustomJsValidation()}addNewForm(e,t){if(!e)throw new Error("You must provide form model!");const i=this.insertForm(e,t);this.editForm(i())}insertForm(e,t={elements:this.formElements}){const i=Object(n.observable)(this.formBuilder.createForm(t));return i().registerModel(e),i().buildTile(),kp.registerForm(i,this.sectionNumber),this.forms.push(i),i}editForm(e){this.activeForm(e)}setBlockReady(){_p.setBlockReady(this.sectionNumber,this.blockId)}_hideDialog(){this.activeForm(null)}_removeForm(e){const[t]=this.forms().filter(t=>t()===e);kp.unregisterForm(t,this.sectionNumber),this.model.remove(t().model()),this.forms.remove(t)}}var V_='\x3c!-- ko if: forms --\x3e\n\x3c!-- ko foreach: {data: forms, as: \'form\'} --\x3e\n<article class="apply-flow-tile-form">\n    <button\n        type="button"\n        class="apply-flow-tile-form__summary"\n        data-profile-item-tile="true"\n        data-bind="click: $parent.editForm.bind($parent),\n                       i18nAttr: {title: \'general.change-button\'},\n                       attr: {\'data-profile-item-invalid\': form.isTileInvalid}"\n    >\n        <div class="apply-flow-tile-form__summary-title" data-bind="text: form.tileTitle"></div>\n\n        \x3c!-- ko if: form.tileSubtitle --\x3e\n        <div\n            class="apply-flow-tile-form__summary-subtitle text-color-secondary"\n            data-bind="text: form.tileSubtitle"\n        ></div>\n        \x3c!-- /ko --\x3e\n\n        \x3c!-- ko ifnot: form.isValid --\x3e\n        <div class="apply-flow-tile-form__summary-validation">\n            <span\n                data-bind="i18n: {key: \'apply-flow.validation.error-count-label\', tokens: {numberofissues: form.totalErrors}}"\n            ></span>\n        </div>\n        \x3c!-- /ko --\x3e\n\n        <div class="apply-flow-tile-form__edit-icon background-color-1"></div>\n\n        <div class="apply-flow-tile-form__summary-hover theme-color-1"></div>\n    </button>\n</article>\n\n\x3c!--/ko --\x3e\n\x3c!-- /ko --\x3e\n\n<minimal-dialog params="isVisible: hasActiveForm">\n    <dialog-body>\n        \x3c!-- ko if: activeForm --\x3e\n        <div class="app-dialog__content">\n            <form-builder params="form: activeForm"></form-builder>\n        </div>\n\n        <div class="app-dialog__footer">\n            <div class="app-dialog__buttons-bar font-family-secondary text-color-primary">\n                <button\n                    class="button app-dialog__footer-button"\n                    data-bind="click: $parents[1].removeForm.bind($parents[1], activeForm())"\n                >\n                    <span\n                        class="button__label"\n                        data-bind="i18n: \'apply-flow.profile-item.remove-item-button\'"\n                    ></span>\n                </button>\n\n                <button\n                    class="button app-dialog__footer-button"\n                    data-bind="click: $parents[1].done.bind($parents[1], activeForm())"\n                >\n                    <span class="button__label" data-bind="i18n: \'general.done-button\'"></span>\n                </button>\n            </div>\n        </div>\n        \x3c!-- /ko --\x3e\n    </dialog-body>\n</minimal-dialog>\n\n<button type="button" class="button apply-flow-tile-form__new-tile" data-bind="click: addNewForm">\n    <span class="button__label" data-bind="text: addButtonLabel"></span>\n</button>\n';n.components.register("extra-information-tile-form",{viewModel:class extends M_{constructor(e){super(e),this.addButtonLabel=`${Object(l.a)("apply-flow.profile-item.add-item-button")} ${e.title}`,this.formBuilder=L_,this.formElements=this.model.formElements,this.formConfig={elements:this.formElements,existingRows:this.model.rows},this._createFormsFromModel()}addNewForm(){const e=this.model.addRow();super.addNewForm(e.attributes,this.formConfig)}_createFormsFromModel(){this.model.rows().forEach(e=>this.insertForm(e.attributes,this.formConfig)),this.setBlockReady()}},template:V_});const B_={TextArea:"textarea",RichTextEditor:"textarea",CheckBox:"checkboxStringValue",DropdownList:"select",ComboLOV:"select",PopupLOV:"select",StaticURL:"url",InlineSearch:"select",RadioButtonGroup:"radio",Date:"date"},q_={Date:{search:"select",select:"select",radio:"radio",default:"date"},DateTime:{search:"select",select:"select",radio:"radio",default:"datetime"},Integer:{text:"integer",textarea:"integer"},BigDecimal:{text:"decimal",textarea:"decimal"}};function U_(e,t){const i=B_[e]||"text",n=q_[t]||{};return n[i]||n.default||i}function H_(e){const t={type:U_(e.controlType,e.type),name:e.name,label:e.prompt,helpText:e.definitionHelpText,value:e.defaultValue,isUniqueKey:Object(pt.b)(e.multiRowUniqueKey),attributes:{readonly:Object(pt.b)(e.isReadOnly),required:Object(pt.b)(e.isRequired)}};return"CheckBox"===e.controlType&&(t.checked=e.checkedValue,t.unchecked=e.nonCheckedValue),t.validators=gh(e,t),Km.mapFormElementFromRest(e,t)}function $_(e,t){return Number(e.displaySequence)-Number(t.displaySequence)}function J_(e){const[t]=e.items;return Promise.all((i=t.attributeList,i.sort($_).map(H_))).then(e=>function(e,t){return{name:e.contextName,isMultiRow:Object(pt.b)(e.isMultiRow),formElements:t}}(t,e));var i}class z_{constructor(e,t={}){this._serviceUrl=e.replace("<CONTEXT_CODE>",t.context)}getContext(){return K.get(this._serviceUrl).then(J_)}isEmpty(e){const{context:t}=Yc.getBlockProperties(e);return Promise.resolve(!t)}}n.components.register("extra-information",{viewModel:class extends pf{constructor(e){super(e),this.section=e.section,this.title=e.title,this.model=null,this.isMultiRow=Object(n.observable)(),this._initCustomJsValidation(e.blockProperties.context),this._submitFailureEventHandler=Kd.refresh.add(this._getEffData.bind(this));const t=new z_(e.metadataServiceUrl,e.blockProperties);Promise.all([t.getContext(),this._getCandidateExtraInformation(e.blockProperties.context)]).then(this._createCandidateModel.bind(this)).then(this._createContextForm.bind(this)).catch(console.error),this._applyFlowRefreshSub=Kd.refresh.add(this._updateExtraInformation.bind(this))}_createCandidateModel([e,t]){if(!e.formElements.length)return this._setBlockReady(),Promise.reject("EFF attributes list is empty!");if(Oh()){const[t]=Ga.extraInformation().filter(({name:t})=>t===e.name);if(t)return this.model=t,e}return t&&(e.link=t.link,e.rows=t.rows),this.model=new Va(e),Ga.extraInformation.push(this.model),e}_getEffData(){const e=Kp.unshiftAll(Wp);e.length&&Ga.extraInformation(e)}_createContextForm(e){this.isMultiRow(e.isMultiRow),e.isMultiRow||this._createSingleRowForm(e.formElements)}_createSingleRowForm(e){const t=at.createForm({elements:e}),i=this.model.isEmpty()?this.model.addRow():this.model.firstRow;t.registerModel(i.attributes),this.customJsValidation.addToForm(t),this.form(t),this._registerForm(),this._setBlockReady()}_getCandidateExtraInformation(e){return!Ga.id()||Oh()?Promise.resolve():function(e,t){const i=`/recruitingCECandidates/${e}/child/candidateExtraInformation?finder=findByContextName;ContextName=${t}&expand=dataRows.attributes&onlyData=true`;return U.a.get(i).then(e=>Xh(e))}(Ga.id(),e)}_updateExtraInformation(){this._setBlockUnready(),this._getEffData(),this._getCandidateExtraInformation(this.model.name).then(e=>{e&&this.model.updateIdsAndLinks(e),Ga.extraInformation.push(this.model)}).catch(console.error).then(this._setBlockReady.bind(this))}dispose(){this._applyFlowRefreshSub.detach(),this._submitFailureEventHandler.detach()}},template:'\x3c!-- ko if: customJsValidation.showMessage --\x3e\n<p\n    class="input-row__validation input-row__validation--top input-row--invalid"\n    role="alert"\n    data-bind="html: customJsValidation.message"\n></p>\n\x3c!-- /ko --\x3e\n\n\x3c!-- ko if: isMultiRow --\x3e\n<extra-information-tile-form\n    params="model: model, title: title, code: code, blockId: blockId, section: section, runCustomJsValidation: runCustomJsValidation"\n></extra-information-tile-form>\n\x3c!-- /ko --\x3e\n\n\x3c!--ko ifnot: isMultiRow --\x3e\n\x3c!-- ko if: form --\x3e\n<form-builder params="form: form"></form-builder>\n\x3c!-- /ko --\x3e\n\x3c!-- /ko --\x3e\n'}),Bc.registerBlock("ORA_JA_EXTRA_INFO",{component:"extra-information",repository:z_,requireBlockProperties:!0}),n.components.register("apply-flow-tile-form",{viewModel:M_,template:V_});n.components.register("apply-flow-draft-saving-indicator",{viewModel:class{constructor(){this.messageProgress=Object(n.observable)(!1),this.messageProgressVisible=Object(n.observable)(!1),this.messageDone=Object(n.observable)(!1),this.messageDoneVisible=Object(n.observable)(!1),this.startTime=null,this.beforeApplicationDraftSaveSignal=Kd.beforeApplicationDraftSave.add(this.show.bind(this)),this.afterApplicationDraftSaveSignal=Kd.afterApplicationDraftSave.add(this.hide.bind(this))}show(){this._showProgress()}hide(){this._hideProgress()}_showProgress(){this.startTime=Date.now(),this.messageProgress(!0),setTimeout(()=>{this.messageProgressVisible(!0)},50)}_hideProgress(){return new Promise(e=>{const t=Date.now()-this.startTime;t<2e3?setTimeout(()=>{this._hideProgress().then(e)},2e3-t):(this.messageProgressVisible(!1),setTimeout(()=>{this.messageProgress(!1),e()},500))})}dispose(){this.beforeApplicationDraftSaveSignal.detach(),this.afterApplicationDraftSaveSignal.detach()}},template:'<div class="apply-flow-draft-saving-indicator__container" aria-hidden="true">\n    \x3c!-- ko if: messageProgress --\x3e\n    <div\n        class="apply-flow-draft-saving-indicator__message-progress"\n        data-bind="css: {\'apply-flow-draft-saving-indicator__message-progress--visible\': messageProgressVisible}"\n    >\n        <i class="apply-flow-draft-saving-indicator__icon icon-save"></i>\n    </div>\n    \x3c!-- /ko --\x3e\n</div>\n'});class W_{constructor(){this.flow=Object(n.observable)(),this.legalDisclaimer=Object(n.observable)(),this.application=Object(n.observable)(new _c),this.applicationDraftMonitor=new Ah,this.isFlowVisible=Object(n.observable)(!0),this.isNavigationVisible=Object(n.observable)(!1),this.legalDisclaimerAcceptanceRequired=Object(n.observable)(!1),this.isValidationInProgress=Object(n.observable)(!1),this.summaryComponentName="apply-flow-summary",this.summaryTemplate=Object(n.observable)().extend({notify:"always"}),this.jobId=h.a.routeParams().jobId,this.closeAction=this._closeAction.bind(this),this.acceptAgreementCallback=this._acceptAgreement.bind(this),this.isProfileImportLoading=Object(n.observable)(!1),this._profileImportLoadingSignal=Kd.profileImportLoading.add(()=>{this.isProfileImportLoading(!0)}),this._profileImportSucceedSignal=Kd.profileImportSucceed.add(()=>{this.isProfileImportLoading(!1)}),Bt.a.loading.dispatch(),this.flowIterator=Object(n.pureComputed)(()=>{const e=this.flow();return e?e.iterator():void 0}),this.isSingleClickFlow=Object(n.pureComputed)(()=>{const e=this.flowIterator();return!!e&&e.isSingleClick()}),this.isSingleClickNavVisible=Object(n.pureComputed)(()=>{const e=this.isFlowVisible(),t=this.isSingleClickFlow();return e&&t}),Th.initialize(),df.checkValidators(),this._loadCandidate().then(this._loadFlow.bind(this)).then(this._determineDefaultProfileItemsBlock.bind(this)).then(this._initializeSectionState.bind(this)).then(this._initializeSectionValidator.bind(this)).then(this._loadApplicationDraft.bind(this)).then(this._initializeLegalDisclaimer.bind(this)).then(this._renderFlow.bind(this)).then(this._validateSectionsAssessmentBack.bind(this)).catch(e=>this._handleError(e)),this._createSourceTrace(),this._unauthorizedSignal=pi.a.unauthorizedError.add(()=>{this.summaryTemplate("token-expired-apply-flow"),this._submitFailed()}),Kd.submitSucceed.add(()=>this._submitSucceed()),Kd.submitFailed.add(()=>this._submitFailed()),Kd.navigationOpen.add(this.isNavigationVisible),Kd.submit.add(this.applicationDraftMonitor.stop),Kd.restartDraftMonitor.add(this.startApplicationDraftMonitor,this)}startApplicationDraftMonitor(){ru.draftExists()&&this.applicationDraftMonitor.start()}_handleError(e){console.error(e),bi.error()}_createSourceTrace(){if(Oo.shouldTraceSource(this.jobId)){const e=ta.getHitCountResponse(this.jobId)||{},t={sourceLevel:Oo.LEVEL.JOB_APPLICATION,requisitionNumber:this.jobId,referralId:e.referralId,shareId:e.shareId,tokenId:Is.a.get().tokenId};return Oo.create(t)}return null}_validateSectionsAssessmentBack(){const{assessmentSection:e,element:t}=h.a.routeParams(),i=_p.isAllSectionsReady();t&&i.subscribeOnce(()=>{for(let t=1;t<e;t++)_p.setSectionVisited(t),kp.validateSection(t)})}_submitSucceed(){this.isFlowVisible(!1)}_submitFailed(){this.isFlowVisible(!1),this.applicationDraftMonitor.stop()}_closeAction(){this.applicationDraftMonitor.stop(),this.applicationDraftMonitor.clearDraft();const e=h.a.route();e.parent&&"job-preview"===e.parent.id?h.a.go("job-preview",{jobId:this.jobId}):h.a.go("job-details",{jobId:this.jobId})}_loadCandidate(){const e=Is.a.get();return Mo.loadForToken(Ga,e).catch(()=>{console.error("Unable to create candidate model.")})}_loadFlow(){return fd.query(this.jobId)}_determineDefaultProfileItemsBlock(e){return gv.find(e),e}_loadApplicationDraft(e){return ru.load(this.jobId,this.application()).then(t=>this._prepareDraft(t,e))}_prepareDraft(e,t){return this.applicationDraftMonitor.setDraft(e,Ga),this.application(Ba.application),Mo.loadFromDraft(Ga,Ba).then(()=>(Ba.update({candidate:Ga}),t)).catch(()=>t)}_renderFlow(e){return Promise.resolve(e).then(this.flow.bind(this)).then(this._notifySubscribers.bind(this)).then(this._subscribeForPageChange.bind(this)).then(Bt.a.loaded.dispatch)}_subscribeForPageChange(){this._currentPageSub=this.flowIterator().currentSection.subscribe(()=>{this._notifySubscribers()},this)}_notifySubscribers(){const e=this.flowIterator().currentSection();Tt.a.status.dispatch(Object(l.a)("apply-flow.a11y.section-loaded",{sectionname:e.title}))}_initializeSectionValidator(e){return kp.initialize(e.sections),e}_initializeSectionState(e){return _p.initialize(e.sections),e}_initializeLegalDisclaimer(e){return this._shouldCandidateAcceptLegalDisclaimer(e.legalDisclaimer)?(this.legalDisclaimer(e.legalDisclaimer),this.legalDisclaimerAcceptanceRequired(!0),this.isFlowVisible(!1)):this.startApplicationDraftMonitor(),e}_isLegalDisclaimerOutdated(e){return!Ba||Ba.legalDisclaimerId!==e}_shouldCandidateAcceptLegalDisclaimer({isEnabled:e,versionId:t}){const i=this._getLegalDisclaimerAcceptanceFromStorage(),n=this._isLegalDisclaimerOutdated(t);return i&&ru.updateLegalDisclaimerId(t),e&&n&&!i}dragEnterHandler(e,t){t.stopPropagation(),t.preventDefault(),Kd.dragEnter.dispatch()}dispose(){this.applicationDraftMonitor.stop(),this.applicationDraftMonitor.clearDraft(),this._currentPageSub&&this._currentPageSub.dispose(),this._unRegisterSignalHandlers(),this.flow()&&this.flow().destroy()}_unRegisterSignalHandlers(){this._unauthorizedSignal&&this._unauthorizedSignal.detach(),this._profileImportLoadingSignal&&this._profileImportLoadingSignal.detach(),this._profileImportSucceedSignal&&this._profileImportSucceedSignal.detach(),Object.keys(Kd).forEach(e=>{Kd[e].removeAll()})}_acceptAgreement(){this.legalDisclaimerAcceptanceRequired(!1),ru.updateLegalDisclaimerId(this.legalDisclaimer().versionId),this.startApplicationDraftMonitor(),this.isFlowVisible(!0)}_getLegalDisclaimerAcceptanceFromStorage(){const e=(t=this.jobId,(J.a.restore(Zu)||{})===t);var t;return J.a.remove(Zu),e}}var K_="<skip-navigation-link></skip-navigation-link>\n<notifications></notifications>\n\n<div class=\"app__viewport\">\n    <section\n        class=\"apply-flow background-color-apply-flow\"\n        data-bind=\"event: { dragenter: dragEnterHandler },\n        css: { 'apply-flow--legal-disclaimer-visible': legalDisclaimerAcceptanceRequired }, setBodyScrollTo: { to: 0 }\"\n    >\n        \x3c!-- ko if: flow --\x3e\n        \x3c!-- ko component: { \n                name: 'apply-flow-header', \n                params: { \n                    flow: flow, \n                    closeAction: closeAction, \n                    summaryTemplate: summaryTemplate, \n                } \n            } --\x3e\x3c!-- /ko --\x3e\n        \x3c!-- /ko --\x3e\n\n        <div role=\"main\">\n            <form class=\"apply-flow__content\" novalidate method=\"post\" data-bind=\"visible: isFlowVisible\">\n                <div\n                    class=\"apply-flow-page\"\n                    data-bind=\"routeTransition: 'apply-flow ',\n                                                        css: {\n                                                            'apply-flow-page--one-page': isSingleClickFlow,\n                                                            'apply-flow-page--blocked': isValidationInProgress\n                                                        },\n                                                        setBodyScrollTo: { to: 0, when: isFlowVisible }\"\n                >\n                    \x3c!-- ko if: flow --\x3e\n\n                    <apply-flow-section\n                        data-bind=\"attr: {'id': 'presection-' + flow().preSection.number}\"\n                        params=\"application: application, flow: flow(), section: flow().preSection\"\n                    ></apply-flow-section>\n\n                    \x3c!-- ko foreach: { data: flow().sections, as: 'section' } --\x3e\n                    <apply-flow-section\n                        data-bind=\"attr: {'id': 'section-' + section.number,\n                                        'data-scroll-spy': 'apply-flow-sections', 'data-scroll-spy-id': section.number},\n                                        boolAttr: {'aria-hidden':  $parent.isProfileImportLoading()}\"\n                        params=\"application: $parent.application, flow: $parent.flow(), section: section\"\n                    ></apply-flow-section>\n                    \x3c!-- /ko --\x3e\n\n                    <apply-flow-pagination\n                        params=\"flow: flow, isValidationInProgress: isValidationInProgress\"\n                    ></apply-flow-pagination>\n\n                    \x3c!-- /ko --\x3e\n                </div>\n            </form>\n\n            <div class=\"apply-flow__content\">\n                \x3c!-- ko component: {\n                    name: summaryComponentName,\n                    params: {\n                        application: application,\n                        template: summaryTemplate\n                    }\n                } --\x3e\x3c!-- /ko --\x3e\n\n                \x3c!-- ko if: legalDisclaimerAcceptanceRequired --\x3e\n                \x3c!-- ko component: {\n                        name: 'apply-flow-legal-disclaimer',\n                        params: {\n                            legalDisclaimer: legalDisclaimer(),\n                            acceptanceCallback: acceptAgreementCallback\n                        }\n                    } --\x3e\x3c!-- /ko --\x3e\n                \x3c!-- /ko --\x3e\n            </div>\n        </div>\n    </section>\n</div>\n\n<apply-flow-accessibility-messages></apply-flow-accessibility-messages>\n<cx-notifications></cx-notifications>\n";n.components.register("apply-flow",{viewModel:W_,template:K_}),n.components.register("apply-flow-light",{viewModel:class{constructor(){this.flow=s.a.observable({isSingleClick:!0,iterator:s.a.observable({currentSection:s.a.observable()})}),Bt.a.loaded.dispatch()}},template:'<skip-navigation-link params="ariaHidden: false"></skip-navigation-link>\n<notifications></notifications>\n\n<div class="app__viewport">\n    <section class="apply-flow">\n        <apply-flow-header params="flow: flow"></apply-flow-header>\n\n        <div role="main">\n            <div class="apply-flow__content" data-bind="view: \'apply-flow-content\'"></div>\n        </div>\n    </section>\n</div>\n'}),n.components.register("apply-flow-post",{viewModel:class extends W_{constructor(){super(),this.summaryComponentName="apply-flow-post-summary-thank-you",this.application().submissionId(h.a.routeParams().submissionId),this.application().currentPhaseId(fd.getSecondaryFlowData().stepActionUsageId),this.application().flowId(fd.getSecondaryFlowData().flowId),this.closeAction=this.postCloseAction.bind(this)}_createSourceTrace(){return null}_loadFlow(){return fd.querySecondary(h.a.routeParams().submissionId)}_loadApplicationDraft(e){return ru.loadForRIF(this.jobId,e.flowId,this.application()).then(t=>this._prepareDraft(t,e))}_handleError(e){"string"==typeof e&&"empty-post-flow"===e?h.a.go("candidate-self-service").then(()=>bi.errorAfterLoaded(Object(l.a)("post-apply.message.all-data-provided"),500)):console.error(e)}postCloseAction(){h.a.go("candidate-self-service").then(()=>{fd.clearSecondaryFlowData(),bi.errorAfterLoaded(Object(l.a)("post-apply.message.provide-additional-information"),500)})}},template:K_});class G_{constructor(e){this.baseClass=e.baseClass,this.isVisible=e.isVisible,this.onClose=e.onClose,this.nodes={},this.rootClass=this.baseClass?"tc-dialog "+this.baseClass:"tc-dialog",this.classSkipTo="skip-navigation-link-dialog--active"}close(){this.isVisible(!1)}}var Y_={createViewModel(e,t){const i=new G_(e);return t.templateNodes.filter(e=>e.tagName).forEach(e=>{const t=e.tagName.toLowerCase();i.nodes[t]=e.childNodes}),i}};n.components.register("tc-dialog",{viewModel:Y_,template:"<div\n    data-bind=\"ojComponent: { component: 'ojDialog',\n                    initialVisibility: isVisible() ? 'show' : 'hide',\n                    resizeBehavior: 'none',\n                    dragAffordance: 'none',\n                    rootAttributes: {\n                        class: rootClass\n                    },\n                    close: onClose\n                },\n                isDialogVisible: isVisible,\n                disableBodyScroll: {disabled: isVisible, allScreens: true},\n                a11y.trapFocus,\n                a11y.setInitialFocus: {isVisible: isVisible, delay: 1000, onInit: true, focusOn: '.tc-dialog__inner-wrapper', shouldRemoveTabIndexOnFocus: true}\"\n>\n    <div class=\"tc-dialog__inner-wrapper\" tabindex=\"0\" aria-live=\"polite\">\n        <div class=\"tc-dialog__header\">\n            <skip-navigation-link params=\"{ classLink: classSkipTo }\"></skip-navigation-link>\n            \x3c!-- ko template: { nodes: nodes['dialog-header'], data: $parent } --\x3e\x3c!-- /ko --\x3e\n            <button\n                class=\"tc-dialog__close\"\n                data-bind=\"click: close, i18nAttr: {'title': 'apply-flow.a11y.close'}\"\n            ></button>\n        </div>\n\n        <div\n            class=\"oj-dialog-body tc-dialog__body\"\n            data-bind=\"a11y.skipTo: {elementsContainer: '.tc-dialog__body',\n        skipToElement: '.'+classSkipTo, updateSkip: isVisible()}\"\n        >\n            \x3c!-- ko template: { nodes: nodes['dialog-body'], data: $parent } --\x3e\x3c!-- /ko --\x3e\n        </div>\n\n        \x3c!-- ko if: nodes['dialog-footer'] --\x3e\n        <div class=\"oj-dialog-footer tc-dialog__footer\">\n            \x3c!-- ko template: { nodes: nodes['dialog-footer'], data: $parent } --\x3e\x3c!-- /ko --\x3e\n        </div>\n        \x3c!-- /ko --\x3e\n    </div>\n</div>\n"});class Q_{constructor({flow:e}){this.flow=e(),this.progressVisible=am.state.showDialog,this.module="IRC_CE_TALENT_COMMUNITY",this.subscribeToJobAlert=!1,this._saveCandidate=this._saveCandidate.bind(this),Kd.submit.add(this._saveCandidate)}_saveCandidate(){return om.reset(),om.show(),this.subscribeToJobAlert=Ga.subscribeToJobAlert(),Dm.saveCandidate().then(this._onCandidateSave.bind(this)).then(this._clearCandidate.bind(this)).then(this._onSuccess.bind(this)).catch(this._onError.bind(this)).finally(om.hide)}_onCandidateSave(){return this.subscribeToJobAlert&&Ga.subscribeToJobAlert(!0),Promise.allSettled([ru.updateCandidateDrafts(Ga),this._saveJobAlertPreference()]).then(Bp)}_saveJobAlertPreference(){const{id:e,preferences:t}=Ga;return _m.saveJobAlert(e(),this._createJobAlertPreferencesPayload(t))}_createJobAlertPreferencesPayload(e){const{flowId:t,legalDescriptionVersionId:i}=this.flow;return{siteNumber:c.a.siteNumber,flowContext:wu.h[wu.e],optInMarketingEmailFlag:e.optIn?e.optIn():void 0,flowVersionId:t,legalDescriptionVersionId:i,jobAlertsEnabled:Ga.subscribeToJobAlert(),preferredLocations:Lb.getLocationIds(),preferredJobFamilies:Lb.getJobFamilyIds(),preferredJobFunctions:Lb.preferredJobFunctions()}}_clearCandidate(){Lb.clear(),Ga.clear()}_confirmTalentCommunityProfile(){_m.confirmTalentCommunity({candidateId:Ga.id(),flowContext:wu.h[wu.f]}).catch(console.error),Ml.userConfirmed.dispatch()}_onSuccess(){this._dumpLogs();if(Is.a.isKnownCandidate())return void this._confirmTalentCommunityProfile();const e=new Wu({candidate:{verificationMethod:Ga.basicInformation.verificationMethod,phone:Ga.basicInformation.phone,email:Ga.basicInformation.email},actions:{onPinValid:this._onPinValid.bind(this),onAttempsLimitReached:this._onAttempsLimitReached.bind(this)}});Is.a.destroy(),Ml.challengeRequired.dispatch(e)}_onPinValid(){this._confirmTalentCommunityProfile()}_onAttempsLimitReached(){Ml.hide.dispatch()}_onError(e){if(this._dumpLogsOnError(),this._clearCandidate(),Ml.submitFailed.dispatch(e),"candidate-exists"===e)return;const t="ORA_IRC_ATTACHMENT_FAILED"===e?Object(l.a)("apply-flow.submit-errors.file-upload"):void 0;throw bi.error(t,0),new Error(e)}_dumpLogs(){uu.dump(this._getLogMetadata())}_dumpLogsOnError(){uu.dumpOnError(this._getLogMetadata())}_getLogMetadata(){return Object.assign(Lm(),{module:this.module})}}var Z_="\x3c!-- ko if: progressVisible --\x3e\n<indeterminate-progress-bar></indeterminate-progress-bar>\n\x3c!-- /ko --\x3e\n";n.components.register("talent-community-summary",{viewModel:Q_,template:Z_}),n.components.register("talent-community-update-summary",{viewModel:class extends Q_{constructor({flow:e}){super({flow:e}),this.module="IRC_CE_CANDIDATE_SELF_SERVICE"}_saveJobAlertPreference(){return null}_submitSourceTracking(){return null}_onSuccess(){this._dumpLogs(),bi.successAfterLoaded(Object(l.a)("talent-community.update-success-message"),500),Kd.submitSucceed.dispatch()}_onError(e){if(this._dumpLogsOnError(),this._clearCandidate(),Kd.submitFailed.dispatch(),!ih.isValidationError(e)){const t="ORA_IRC_ATTACHMENT_FAILED"===e?Object(l.a)("apply-flow.submit-errors.file-upload"):void 0;throw bi.error(t),new Error(e)}ih.handleValidationError(e)}},template:Z_});function X_(e){return e.reduce((e,t)=>e.concat(t.pages),[]).reduce((e,t)=>e.concat(t.blocks),[])}function ey(e){const[t]=X_(e).filter(e=>"ORA_AGREEMENTS"===e.code);return t}function ty(e){const[t]=X_(e).filter(e=>"ORA_NAME_CONTACT_INFO"===e.code);return t}function iy(e){return"ORA_AGREEMENTS"!==e.code}function ny(e){return"ORA_NAME_CONTACT_INFO"!==e.code}function sy(e){return"ORA_ADDRESS"===e.code&&(e.additionalData={includeValidation:!1}),e}function ay(e){return e.map(e=>(e.blocks=e.blocks.filter(iy).filter(ny).map(sy),e))}var oy={mapFlowFromRest:e=>(e.flowJobAlertPreferencesSection={number:10,pages:[{blocks:{code:"ORA_JOB_ALERT_PREFERENCES",component:"job-alert-preferences"}}]},e.flowPersonalInformationsSection={number:20,pages:[{blocks:ty(e.sections)}]},e.flowAgreementsSection={number:30,pages:[{blocks:ey(e.sections)}]},e.sections=e.sections.map(e=>(e.pages=ay(e.pages),e)),e.isSingleClick=!0,e)};class ry{constructor(){this.flow=Object(n.observable)(),this.isFlowFieldsVisible=Object(n.observable)(!1),this.showExpandButton=Object(n.observable)(!0),this.isSubscribeButtonVisible=Object(n.observable)(!0),this.isValidationInProgress=Object(n.observable)(!1),this.classSkipTo="skip-navigation-link-dialog--active",this.toggleFieldsButtonLabel=Object(n.pureComputed)(this._getToogleButtonLabel,this),Th.initialize(),this._initialize(),this.toogleFlowFields=this.toogleFlowFields.bind(this),this.openFlowFields=this.openFlowFields.bind(this),this._submit=this._submit.bind(this),this._submitSucceed=this._submitSucceed.bind(this),this._submitFailed=this._submitFailed.bind(this),this._profileImportSucceed=this._profileImportSucceed.bind(this),Kd.submit.add(this._submit),Kd.submitSucceed.add(this._submitSucceed),Ml.submitFailed.add(this._submitFailed),Kd.profileImportSucceed.add(this._profileImportSucceed),Ml.toggleFields.add(this.openFlowFields),this.isFlowReady=Object(n.observable)(!1),this._unauthorizedSignal=pi.a.unauthorizedError.add(()=>{this._handleUnauthorized(Ku.a)})}toogleFlowFields(){this.isFlowFieldsVisible(!this.isFlowFieldsVisible())}openFlowFields(){this.isFlowFieldsVisible(!0)}dragEnterHandler(e,t){t.stopPropagation(),t.preventDefault(),Kd.dragEnter.dispatch()}dispose(){mu(),this._unRegisterSignalHandlers(),Op.clearNotifications(),this.flow()&&this.flow().destroy()}flowHasRemainingFields(){return this.flow().sections.some((function(e){return e.pages.some(e=>Boolean(e.blocks.length))}))}_submit(){this.isSubscribeButtonVisible(!1)}_submitSucceed(){Ml.hide.dispatch()}_submitFailed(){this._initialize()}_profileImportSucceed(){this.isFlowFieldsVisible(!0)}_getToogleButtonLabel(){return this.isFlowFieldsVisible()?"talent-community.flow.hide-all-fields":"talent-community.flow.show-all-fields"}_initialize(){return this.flow()&&this.flow().destroy(),this.isSubscribeButtonVisible(!0),Promise.all([this._loadFlow(),this._loadCandidate()]).then(this._initializeSectionState.bind(this)).then(this._initializeSectionValidator.bind(this)).then(this._determineDefaultProfileItemsBlock.bind(this)).then(this._renderFlow.bind(this)).catch(this._onError.bind(this))}_loadCandidate(){const e=Is.a.get();return e?Mo.loadForToken(Ga,e).catch(()=>{console.error("Unable to create candidate model.")}):Promise.reject(Ku.a)}_loadFlow(){return bu(),Hm.query(oy)}_renderFlow(e){return Promise.resolve(e).then(this.flow.bind(this))}_initializeSectionValidator(e){const t=e.sections.concat(e.flowAgreementsSection,e.flowPersonalInformationsSection,e.flowJobAlertPreferencesSection);return kp.initialize(t),e}_initializeSectionState([e]){const t=e.sections.concat(e.flowAgreementsSection,e.flowPersonalInformationsSection,e.flowJobAlertPreferencesSection);return _p.initialize(t),this._setFlowReadySubscription(),this._setShowMoreFieldsSubscription(e),e}_determineDefaultProfileItemsBlock(e){return gv.find(e),e}_onError(e){if(e!==Ku.a)throw bi.error(),console.error(e),new Error(e);this._handleUnauthorized()}_handleUnauthorized(){Ws.moveBackOrFallbackTo(),bi.error(Object(l.a)("general.session-expired"))}_setFlowReadySubscription(){_p.isAllSectionsReady().subscribeOnce(e=>{this.isFlowReady(e)})}_setShowMoreFieldsSubscription(e){this.isFlowReady.subscribeOnce(t=>{t&&Hm.shouldShowMoreFieldsSectionBeExpanded(e.sections)&&(this.isFlowFieldsVisible(!0),this.showExpandButton(!1))})}_unRegisterSignalHandlers(){this._unauthorizedSignal&&this._unauthorizedSignal.detach(),Object.keys(Kd).forEach(e=>{Kd[e].removeAll()})}setInitialFocus(e){e.find("oj-combobox-one").first().focus()}}n.components.register("talent-community-flow",{viewModel:ry,template:'<section\n    class="apply-flow talent-community-flow"\n    data-bind="event: { dragenter: dragEnterHandler }"\n    tabindex="-1"\n>\n    <form class="apply-flow__content talent-community-flow__content" novalidate method="post">\n        <div\n            class="apply-flow-page apply-flow-page--one-page talent-community-flow-page"\n            data-bind="css: {\n                            \'talent-community-flow-page--ready\': isFlowReady,\n                            \'apply-flow-page--blocked\': isValidationInProgress\n                        },\n                        a11y.setInitialFocus: {isVisible: isFlowReady, delay: 400, focusCallback: setInitialFocus}"\n        >\n            \x3c!-- ko if: flow --\x3e\n\n            <apply-flow-section\n                data-bind="attr: { \'id\': \'job-alert-preferences-section\' }"\n                params="flow: flow(), section: flow().flowJobAlertPreferencesSection"\n            ></apply-flow-section>\n\n            <apply-flow-section\n                data-bind="attr: { \'id\': \'presection-\' + flow().preSection.number }"\n                params="flow: flow(), section: flow().preSection"\n            ></apply-flow-section>\n\n            <apply-flow-section\n                data-bind="attr: { \'id\': \'personal-information-section\' }"\n                params="flow: flow(), section: flow().flowPersonalInformationsSection"\n            ></apply-flow-section>\n\n            \x3c!-- ko if: flowHasRemainingFields() --\x3e\n\n            \x3c!-- ko if: showExpandButton() --\x3e\n            <talent-community-expand\n                params="action: toogleFlowFields, label: toggleFieldsButtonLabel, state: isFlowFieldsVisible"\n            ></talent-community-expand>\n            \x3c!-- /ko --\x3e\n\n            <div class="talent-community-flow__remaining-fields" data-bind="visible: isFlowFieldsVisible">\n                \x3c!-- ko foreach: { data: flow().sections, as: \'section\' } --\x3e\n                <apply-flow-section\n                    data-bind="attr: { \'id\': \'section-\' + section.number }"\n                    params="flow: $parent.flow(), section: section"\n                ></apply-flow-section>\n                \x3c!-- /ko --\x3e\n            </div>\n            \x3c!-- /ko --\x3e\n\n            <apply-flow-section\n                data-bind="attr: { \'id\': \'agreements-section\' }"\n                params="flow: flow(), section: flow().flowAgreementsSection"\n            ></apply-flow-section>\n\n            <div class="talent-community-subscribe">\n                <talent-community-subscribe\n                    params="flow: flow, label: \'talent-community.action.subscribe\', isVisible: isSubscribeButtonVisible, isValidationInProgress: isValidationInProgress"\n                >\n                </talent-community-subscribe>\n\n                <talent-community-summary params="flow: flow"></talent-community-summary>\n            </div>\n\n            \x3c!-- /ko --\x3e\n        </div>\n\n        <indeterminate-progress-bar\n            class="talent-community-flow__loading-bar"\n            data-bind="css: {\'talent-community-flow__loading-bar--hidden\': isFlowReady}"\n        >\n        </indeterminate-progress-bar>\n    </form>\n</section>\n\n<apply-flow-accessibility-messages></apply-flow-accessibility-messages>\n'});function ly(e){return"ORA_AGREEMENTS"!==e.code}function cy(e){return"ORA_ADDRESS"===e.code&&(e.additionalData={includeValidation:!1}),e}function dy(e){return"ORA_NAME_CONTACT_INFO"===e.code&&(e.additionalData={editMode:!0}),e}function uy(e){return e.map(e=>(e.blocks=e.blocks.filter(ly).map(dy).map(cy),e))}var py={mapFlowFromRest:e=>(e.isSingleClick=!0,e.sections=e.sections.map(e=>(e.pages=uy(e.pages),e)),e)};n.components.register("talent-community-update-flow",{viewModel:class extends ry{_loadFlow(){return bu(),Hm.query(py)}_initializeSectionValidator(e){return kp.initialize(e.sections),e}_initializeSectionState([e]){return _p.initialize(e.sections),this._setFlowReadySubscription(),e}},template:'<section\n    class="apply-flow talent-community-flow"\n    data-bind="event: { dragenter: dragEnterHandler },\n        a11y.skipTo: {elementsContainer: \'.talent-community-flow\', skipToElement: \'.\'+classSkipTo, updateSkip: isFlowReady()}"\n    tabindex="-1"\n>\n    <form class="apply-flow__content talent-community-flow__content" novalidate method="post">\n        <div\n            class="apply-flow-page apply-flow-page--one-page talent-community-flow-page"\n            data-bind="css: {\n                 \'talent-community-flow-page--ready\': isFlowReady,\n                 \'apply-flow-page--blocked\': isValidationInProgress\n             }"\n        >\n            \x3c!-- ko if: flow --\x3e\n\n            <apply-flow-section\n                data-bind="attr: { \'id\': \'presection-\' + flow().preSection.number }"\n                params="flow: flow(), section: flow().preSection"\n            ></apply-flow-section>\n\n            <div class="talent-community-flow__remaining-fields">\n                \x3c!-- ko foreach: { data: flow().sections, as: \'section\' } --\x3e\n                <apply-flow-section\n                    data-bind="attr: { \'id\': \'section-\' + section.number }"\n                    params="flow: $parent.flow(), section: section"\n                ></apply-flow-section>\n                \x3c!-- /ko --\x3e\n            </div>\n\n            <div class="talent-community-subscribe">\n                <talent-community-subscribe\n                    params="flow: flow, label: \'talent-community.action.update-profile\', isVisible: isSubscribeButtonVisible, isValidationInProgress: isValidationInProgress"\n                    data-bind="visible: isSubscribeButtonVisible"\n                ></talent-community-subscribe>\n\n                <talent-community-update-summary params="flow: flow"></talent-community-update-summary>\n            </div>\n\n            \x3c!-- /ko --\x3e\n        </div>\n\n        <indeterminate-progress-bar\n            class="talent-community-flow__loading-bar"\n            data-bind="css: {\'talent-community-flow__loading-bar--hidden\': isFlowReady}"\n        >\n        </indeterminate-progress-bar>\n    </form>\n</section>\n\n<apply-flow-accessibility-messages></apply-flow-accessibility-messages>\n'});n.components.register("talent-community-expand",{viewModel:class{constructor({action:e,label:t,state:i}){this.action=e,this.label=t,this.state=i}},template:'<button\n    type="button"\n    class="talent-community-flow__toggle-button theme-color-1"\n    data-bind="click: action, i18n: label, css: { \'talent-community-flow__toggle-button--active\': state }"\n></button>\n'});n.components.register("talent-community-subscribe",{viewModel:class{constructor({flow:e,label:t,isVisible:i,isValidationInProgress:n}){this.flowIterator=e().iterator,this.label=t,this.isVisible=i,this.isEnabled=_p.isAllSectionsReady(),this.isValidationInProgress=n}validateAndSubmit(){return this._runBeforeValidation(),this.isValidationInProgress(!0),kp.validateAllSections().then(this._onValidationCompleted.bind(this))}_onValidationCompleted(e){if(e)return this._runBeforeExit(),void Rh.validate().then(()=>{this.isVisible(!1),Kd.submit.dispatch()}).catch(()=>this.isVisible(!0)).finally(()=>this.isValidationInProgress(!1));this.isVisible(!0),this.isValidationInProgress(!1),Ml.toggleFields.dispatch(),Fg.run(!1,200),Cp.addAlert.dispatch(Object(l.a)("apply-flow.validation.invalid-application"))}_runBeforeExit(){this.flowIterator().runBeforeExit()}_runBeforeValidation(){this.flowIterator().runBeforeValidation()}},template:'<div class="talent-community-subscribe__container">\n    <button\n        type="button"\n        class="button talent-community-subscribe__button theme-color-1"\n        data-bind="visible: isVisible, enable: isEnabled, click: validateAndSubmit"\n    >\n        <inline-spinner params="isLoading: isValidationInProgress, i18n: label"></inline-spinner>\n    </button>\n</div>\n'}),h.a.configure({"talent-community":{parent:"minimal",url:"/tc-join:?query:",view:{main:"talent-community",dialogs:null},canEnter:()=>c.a.tcOptInEnabled?Promise.resolve():Promise.reject({redirectTo:"home-page"})}});lt("talent-community-pin-code-required","\x3c!-- ko template: 'candidate-verification-pin-code-required' --\x3e\x3c!-- /ko --\x3e\n"),lt("talent-community-sign-in",'<div class="app-dialog__header">\n    <h1 class="heading" data-bind="i18n: \'talent-community.email-verification-header\'"></h1>\n</div>\n\n<div class="app-dialog__content">\n    <p\n        class="apply-flow-dialog__text"\n        data-bind="i18n: \'talent-community.email-verification-description\'"\n    ></p>\n\n    <talent-community-flow></talent-community-flow>\n</div>\n'),lt("talent-community-user-authorized",'<div class="app-dialog__header">\n    <h1 class="heading" data-bind="i18n: \'talent-community.email-verification-exist-user-header\'"></h1>\n</div>\n\n<div class="app-dialog__content">\n    <p\n        class="apply-flow-dialog__text"\n        data-bind="i18n: \'talent-community.email-verification-authorized-user-description\'"\n    ></p>\n</div>\n\n<footer class="app-dialog__footer">\n    <div class="buttons-bar">\n        <div class="buttons-bar__inner">\n            <button\n                type="button"\n                class="button buttons-bar__button text-color-secondary"\n                data-bind="route: \'search\'"\n            >\n                <span class="button__arrow button__arrow--left"></span>\n                <span class="button__label" data-bind="i18n: \'general.previous-button\'"></span>\n            </button>\n\n            <div class="buttons-bar__spacer"></div>\n\n            <button\n                type="button"\n                class="button buttons-bar__button theme-color-1"\n                data-bind="route: \'candidate-self-service\'"\n            >\n                <span\n                    class="button__label"\n                    data-bind="i18n: \'talent-community.action.manage-my-profile\'"\n                ></span>\n                <span class="button__arrow button__arrow--right"></span>\n            </button>\n        </div>\n    </div>\n</footer>\n'),lt("talent-community-user-exist",'<div class="app-dialog__header">\n    <h1 class="heading" data-bind="i18n: \'apply-flow.candidate-verification.header\'"></h1>\n</div>\n\n\x3c!-- ko component: {\n    name: \'pin-code-verification\',\n    params: {\n        challenge: challenge\n    }\n} --\x3e\n\x3c!-- /ko --\x3e\n'),lt("talent-community-user-subscribed",'<div class="app-dialog__header">\n    <h1 class="heading" data-bind="i18n: \'talent-community.thank-you-message\'"></h1>\n</div>\n\n<div class="app-dialog__content">\n    <p class="apply-flow-dialog__text" data-bind="i18n: \'talent-community.flow.new-user-enter-css\'"></p>\n</div>\n\n<footer class="app-dialog__footer">\n    <div class="buttons-bar">\n        <div class="buttons-bar__inner">\n            <button\n                type="button"\n                class="button buttons-bar__button text-color-secondary"\n                data-bind="route: \'search\'"\n            >\n                <span class="button__arrow button__arrow--left"></span>\n                <span class="button__label" data-bind="i18n: \'general.previous-button\'"></span>\n            </button>\n\n            <div class="buttons-bar__spacer"></div>\n\n            <button\n                type="button"\n                class="button buttons-bar__button theme-color-1"\n                data-bind="click: loginToCSS"\n            >\n                <span class="button__label" data-bind="i18n: \'talent-community.action.manage-profile\'"></span>\n                <span class="button__arrow button__arrow--right"></span>\n            </button>\n        </div>\n    </div>\n</footer>\n'),lt("talent-community-concurent-tab-issue",'<div class="app-dialog__header">\n    <h1 class="heading" data-bind="i18n: \'talent-community.submit-errors.cannot-submit\'"></h1>\n</div>\n\n<div class="app-dialog__content">\n    <p\n        class="apply-flow-dialog__text"\n        data-bind="i18n: \'talent-community.submit-errors.candidate-already-created\'"\n    ></p>\n</div>\n\n\x3c!-- ko if: isLoading --\x3e\n<indeterminate-progress-bar></indeterminate-progress-bar>\n\x3c!-- /ko --\x3e\n\n\x3c!-- ko ifnot: isLoading --\x3e\n<footer class="app-dialog__footer">\n    <div class="buttons-bar">\n        <div class="buttons-bar__inner">\n            <button\n                type="button"\n                class="button buttons-bar__button text-color-secondary"\n                data-bind="route: \'search\'"\n            >\n                <span class="button__arrow button__arrow--left"></span>\n                <span class="button__label" data-bind="i18n: \'general.previous-button\'"></span>\n            </button>\n\n            <div class="buttons-bar__spacer"></div>\n\n            <button\n                type="button"\n                class="button buttons-bar__button theme-color-1"\n                data-bind="click: verifyUser"\n            >\n                <span class="button__label" data-bind="i18n: \'talent-community.action.manage-profile\'"></span>\n                <span class="button__arrow button__arrow--right"></span>\n            </button>\n        </div>\n    </div>\n</footer>\n\x3c!-- /ko --\x3e\n');class hy extends Qu{constructor(){super(),this.visible=Object(n.observable)(this._shouldOpenDialogForDeeplink()),this.template=Object(n.observable)(null),this.isLoading=Object(n.observable)(!1),this.hasFocus=Object(n.observable)(!1),this.isSMSVerificationEnabled=!1,this.challenge.submodule=wu.e,this.classSkipTo="skip-navigation-link-tc-dialog",this._setTemplate(),this._loadLegalDisclaimer(),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this._showConfirmedMessage=this._showConfirmedMessage.bind(this),this._showChallenge=this._showChallenge.bind(this),this._onSubmitFailed=this._onSubmitFailed.bind(this),Ml.show.add(this.show),Ml.hide.add(this.hide),Ml.userConfirmed.add(this._showConfirmedMessage),Ml.challengeRequired.add(this._showChallenge),Ml.submitFailed.add(this._onSubmitFailed)}show(){this._setTemplate(),this.visible(!0),this.hasFocus(!0)}hide(){this.visible(!1),Ws.moveBackOrFallbackTo("search",{jobId:null})}subscribe(){const e=this.activeForm();e.enableImmediateValidation(),this._enableLegalDisclaimerValidation(),e.validate().then(e=>{e&&this._isLegalDisclaimerEmptyOrValid()&&this._createToken()})}dispose(){this._visibleSubscribe&&this._visibleSubscribe.dispose(),Ml.show.remove(this.show),Ml.hide.remove(this.hide)}loginToCSS(){return Is.a.isKnownCandidate()?h.a.go("candidate-self-service"):this._showChallenge(this.challenge)}verifyUser(){return this._createToken()}onPinValid(){return Is.a.isKnownCandidate()?h.a.go("candidate-self-service"):this.template("talent-community-sign-in")}onAttempsLimitReached(){this.hide()}_resetTemplate(){this.template(null)}_submitSourceTracking(){return Oo.createWithoutStorage({sourceLevel:"CANDIDATE",source:"talent community",sourceMedium:"career site"})}_createTokenWithSourceTracking(e){return Is.a.create({candidate:this.candidate,submodule:this.challenge.submodule,sourceTrace:e})}_createToken(){return this.isLoading(!0),this._submitSourceTracking().then(this._createTokenWithSourceTracking.bind(this)).then(this._checkCandidate.bind(this)).catch(this._showError.bind(this))}_checkCandidate(e){if(this.isLoading(!1),e.accessCode)return this.template("talent-community-sign-in"),void J.a.store("isReturningCandidate",!1);J.a.store("isReturningCandidate",!0),this.template("talent-community-user-exist")}_showConfirmedMessage(){this.template("talent-community-user-subscribed")}_showChallenge(e){this._setChallenge(e),this.template("talent-community-pin-code-required")}_setChallenge(e){this.challenge.candidate=e.candidate,this.challenge.actions=e.actions}_showError(e){if(e!==Po.b){if(e!==Ao.a)throw this.isLoading(!1),bi.error(e,0),new Error(e);this._handleAttempsLimitReachedError()}}_onSubmitFailed(e){"candidate-exists"!==e?this._showError(e):this.template("talent-community-concurent-tab-issue")}_shouldOpenDialogForDeeplink(){return h.a.isActive("talent-community")}_loadLegalDisclaimer(){return this.isLoading(!0),Uu.queryTCLegalDisclaimer().then(e=>{this.legalDisclaimer(e),this.legalDisclaimerForm(new Hu(this.legalDisclaimer().isAccepted)),this.isLoading(!1)}).catch(this._showError)}_setTemplate(){Is.a.isKnownCandidate()?this.template("talent-community-user-authorized"):Is.a.accessCodeExists()?this.template("talent-community-sign-in"):(this._createForms(),this._visibleSubscribe||(this._visibleSubscribe=this.visible.subscribe(this._resetTemplate,this)))}_handleAttempsLimitReachedError(){this.verificationStatus(Ao.a),this.template("talent-community-pin-code-required")}}n.components.register("talent-community",{viewModel:class extends hy{onAttempsLimitReached(){return h.a.go("search")}back(){Ws.moveBackOrFallbackTo("home-page")}},template:'<div class="app__subpage">\n    <div\n        class="talent-community-flow__container"\n        data-bind="a11y.skipTo: {elementsContainer: \'.talent-community-flow__container\'}, setBodyScrollTo: { to: 0 }"\n    >\n        \x3c!-- ko ifnot: template --\x3e\n        <form novalidate data-bind="submit: subscribe">\n            <div class="app-dialog__header">\n                <h1 class="heading" data-bind="i18n: \'talent-community.email-verification-header\'"></h1>\n            </div>\n\n            <section class="app-dialog__content" data-bind="setBodyScrollTo: { to: 0, when: isLoading }">\n                <p\n                    class="apply-flow-dialog__text"\n                    data-bind="i18n: \'talent-community.email-verification-description\'"\n                ></p>\n                <div class="talent-community-dialog__form">\n                    \x3c!-- ko ifnot: isLoading --\x3e\n                    <email-verification-form></email-verification-form>\n                    \x3c!-- /ko --\x3e\n\n                    \x3c!-- ko if: isLoading --\x3e\n                    <indeterminate-progress-bar\n                        class="talent-community-flow__loading-bar"\n                    ></indeterminate-progress-bar>\n                    \x3c!-- /ko --\x3e\n                </div>\n            </section>\n\n            \x3c!-- ko ifnot: isLoading --\x3e\n            <div class="app-dialog__footer">\n                <div class="buttons-bar">\n                    <div class="buttons-bar__inner">\n                        <button\n                            type="button"\n                            class="button buttons-bar__button text-color-secondary"\n                            data-bind="click: back"\n                        >\n                            <span class="button__arrow button__arrow--left"></span>\n                            <span class="button__label" data-bind="i18n: \'general.previous-button\'"></span>\n                        </button>\n\n                        <div class="buttons-bar__spacer"></div>\n\n                        <button type="submit" class="button buttons-bar__button theme-color-1">\n                            <span\n                                class="button__label"\n                                data-bind="i18n: \'talent-community.action.subscribe\'"\n                            ></span>\n                            <span class="button__arrow button__arrow--right"></span>\n                        </button>\n                    </div>\n                </div>\n            </div>\n            \x3c!-- /ko --\x3e\n        </form>\n        \x3c!-- /ko --\x3e\n\n        \x3c!-- ko if: template --\x3e\n        <div aria-live="assertive">\x3c!-- ko template: template --\x3e\x3c!-- /ko --\x3e</div>\n        \x3c!-- /ko --\x3e\n    </div>\n</div>\n'});var my={openWithdrawDialog:new Ot.a,openDeleteDraftDialog:new Ot.a,reloadUser:new Ot.a,openSignInDialog:new Ot.a};n.components.register("application-withdraw-dialog",{viewModel:class{constructor(){this.application=Object(n.observable)({}),this.isWithdrawDialogVisible=Object(n.observable)(!1),this.isWithdrawInProgress=Object(n.observable)(!1),my.openWithdrawDialog.add(e=>this.showWithdrawDialog(e))}get _withdrawFailMessage(){return Object(l.a)("candidate-self-service.withdraw-fail-message",{public_status:this.application().status})}hideWithdrawDialog(){this.isWithdrawDialogVisible(!1),this.application({})}showWithdrawDialog(e){this.isWithdrawDialogVisible(!0),this.application(e)}withdrawApplication(){let e;this.isWithdrawInProgress(!0),e=this.application().isPipeline()?kd.withdraw(this.application()):yd.withdraw(this.application()),e.then(()=>{bi.success(Object(l.a)("candidate-self-service.withdraw-application-success-message"))}).catch(e=>"object"==typeof e&&"withdraw-application-fail"===e.message?bi.error(this._withdrawFailMessage):bi.error()).then(()=>{this.hideWithdrawDialog(),this.isWithdrawInProgress(!1)})}},template:'<minimal-dialog params="isVisible: isWithdrawDialogVisible">\n    <dialog-body>\n        <div class="app-dialog__content cs-warning-dialog-body">\n            <i18n params="key: \'candidate-self-service.withdraw-warning\'">\n                <span\n                    class="cs-withdraw-dialog__text--bold"\n                    data-i18n-token="job_title"\n                    data-bind="text: $parent.application().jobTitle"\n                ></span>\n            </i18n>\n        </div>\n\n        <div class="app-dialog__footer">\n            <div class="app-dialog__buttons-bar font-family-secondary text-color-primary">\n                <button\n                    class="\n                        button\n                        app-dialog__footer-button\n                        cs-warning-dialog__button cs-warning-dialog__button--danger\n                    "\n                    data-bind="click: withdrawApplication, disable: isWithdrawInProgress"\n                >\n                    <inline-spinner\n                        params="isLoading: isWithdrawInProgress, i18n: \'candidate-self-service.withdraw-button-label\'"\n                    ></inline-spinner>\n                </button>\n                <button\n                    class="button app-dialog__footer-button cs-warning-dialog__button"\n                    data-bind="click: hideWithdrawDialog"\n                >\n                    <span class="button__label" data-bind="i18n: \'general.cancel-button\'"></span>\n                </button>\n            </div>\n        </div>\n    </dialog-body>\n</minimal-dialog>\n'});const by={drafts:Object(n.observableArray)([]),loadingStatus:Object(n.observable)("pending"),clear(){by.drafts([]),by.loadingStatus("pending")},setLoadedData(e){by.drafts(e),by.loadingStatus("loaded")},remove(e){by.drafts.remove(e)}};var fy=by;n.components.register("application-draft-delete-dialog",{viewModel:class{constructor(){this.draft=null,this.isVisible=Object(n.observable)(),this.isDeleteInProgress=Object(n.observable)(),this._openDialogSignal=my.openDeleteDraftDialog.add(this._showDialog.bind(this))}deleteDraft(){this.isDeleteInProgress(!0),ru.delete(this.draft.id).then(()=>fy.remove(this.draft)).catch(e=>console.error(e)).then(()=>this.hideDialog())}hideDialog(){this.draft=null,this.isVisible(!1),this.isDeleteInProgress(!1)}_showDialog(e){this.draft=e,this.isVisible(!0)}dispose(){this._openDialogSignal.detach()}},template:'<minimal-dialog params="isVisible: isVisible">\n    <dialog-body>\n        <div class="app-dialog__header">\n            <h1 class="heading" data-bind="i18n: \'candidate-self-service.delete-draft-header\'"></h1>\n        </div>\n        <div class="app-dialog__content cs-warning-dialog-body">\n            <span data-bind="i18n: \'candidate-self-service.delete-draft-warning\'"></span>\n        </div>\n\n        <div class="app-dialog__footer">\n            <div class="app-dialog__buttons-bar font-family-secondary text-color-primary">\n                <button\n                    class="button app-dialog__footer-button cs-warning-dialog__button"\n                    data-bind="click: hideDialog"\n                >\n                    <span class="button__label" data-bind="i18n: \'general.cancel-button\'"></span>\n                </button>\n                <button\n                    class="button app-dialog__footer-button cs-warning-dialog__button theme-color-1"\n                    data-qa="confirmDraftApplicationDeleteButton"\n                    data-bind="click: deleteDraft, disable: isDeleteInProgress"\n                >\n                    <inline-spinner\n                        params="isLoading: isDeleteInProgress, i18n: \'general.delete-button\'"\n                    ></inline-spinner>\n                </button>\n            </div>\n        </div>\n    </dialog-body>\n</minimal-dialog>\n'});const gy=Object(l.a)("apply-flow.candidate-verification.cant-use-this-phone"),vy={[Ya.SMS]:"apply-flow.candidate-verification.no-profile-phone",[Ya.EMAIL]:"apply-flow.candidate-verification.no-profile-email"};class _y extends Qu{constructor(){super(),this.isDialogVisible=Object(n.observable)(!1),this.refresh=Object(n.observable)(!1),this.isVerificationInProgress=Object(n.observable)(!1),this.isLoading=Object(n.observable)(!1),this.pinCodeRequired=Object(n.observable)(!1),this.challenge.submodule=wu.b,this._openSignInDialogHandler=this._openSignInDialogHandler.bind(this),this.routerSubscription=h.a.route.subscribe(this._openDialogIfDeepLinkActive,this),this._registerOpenDialogEvent(),this._openDialogIfDeepLinkActive(),this.lastName=Object(n.observable)(),this.lastNameForm=Xu.createForm(this.lastName),this.lastNameNotMatched=Object(n.observable)(!1),this.showLastNameMismatchMessage=Object(n.observable)(!1),this.showClaimMessage=!1,this.isLastNameCheck=Object(n.observable)(!1),this.onClose=this._resetState.bind(this)}_closeDialog(){this.isDialogVisible(!1),this._resetState()}next(){const e=this.activeForm();e.enableImmediateValidation(),e.validate().then(e=>{e&&(this.isVerificationInProgress(!0),Is.a.verifyCandidate({candidate:this.candidate,submodule:this.challenge.submodule}).then(e=>{!1===e.cookieMatchedFlag?(this.lastNameNotMatched(!0),this.isLastNameCheck(!0)):this._showPinChallenge(),this.refresh(!0)}).catch(this._handleError.bind(this)))})}verifyLastName(){this.lastNameForm.enableImmediateValidation(),this.lastNameForm.validate().then(e=>{e&&(this.isLoading(!0),Ro.verifyLastName({jobId:this.jobId,candidate:this.candidate,submodule:this.challenge.submodule,lastName:this.lastName()}).catch(this._handleError.bind(this)))})}redirectBackToEmailVerification(){this._resetState()}_resetState(){this.isVerificationInProgress(!1),this.lastNameNotMatched(!1),this.lastName(null),this.showLastNameMismatchMessage(!1),this.isLastNameCheck(!1)}_handleError(e){this.isVerificationInProgress(!1),this.isLoading(!1),e!==Po.b&&(e===Ao.a||e===Ao.g?(this.verificationStatus(Ao.a),this._showPinChallenge()):e===Ao.f?bi.error(gy,0):e===Po.c?this.showLastNameMismatchMessage(!0):e===Ao.b?(this.lastNameNotMatched(!1),this._showPinChallenge()):e===Po.g?this._showNoProfileNotification():(this._closeDialog(),bi.error()))}_showNoProfileNotification(){const e=Object(l.a)(vy[this.candidate.verificationMethod()]);bi.error(e,0)}_showPinChallenge(){this.pinCodeRequired(!0)}onPinValid(){this.pinCodeRequired(!1),this._closeDialog(),h.a.go("candidate-self-service")}onAttempsLimitReached(){return this.pinCodeRequired(!1),this._closeDialog(),this.verificationStatus(Ao.c),h.a.go("home-page")}dispose(){my.openSignInDialog.remove(this._openSignInDialogHandler),this.routerSubscription.dispose()}_openDialogIfDeepLinkActive(){h.a.isActive("candidate-self-service.sign-in")&&setTimeout(()=>this.isDialogVisible(!0),100)}_registerOpenDialogEvent(){my.openSignInDialog.add(this._openSignInDialogHandler)}_openSignInDialogHandler(){this.isDialogVisible(!0)}}n.components.register("cs-sign-in",{viewModel:class extends _y{constructor(){super({isVisible:Object(n.observable)(!0)})}_showPinChallenge(){ju.open(this.challenge)}onPinValid(){h.a.go("candidate-self-service")}onAttempsLimitReached(){return this.verificationStatus(Ao.c),h.a.go("home-page")}_closeDialog(){h.a.go("home-page")}back(){Ws.moveBackOrFallbackTo("home-page")}},template:'<div class="app__subpage">\n    <div\n        class="cs-sign-in__container"\n        data-bind="a11y.skipTo: { elementsContainer: \'.cs-sign-in__container\',\n        skipToElement: \'.main-skip\'}"\n    >\n        \x3c!-- ko ifnot: lastNameNotMatched --\x3e\n        <header>\n            <h1\n                class="apply-flow-dialog__header"\n                data-bind="i18n: \'apply-flow.candidate-verification.manage-profile\'"\n            ></h1>\n        </header>\n\n        \x3c!-- ko ifnot: isVerificationInProgress --\x3e\n        <form novalidate data-bind="submit: next">\n            <section class="apply-flow-dialog__content">\n                <p\n                    class="apply-flow-dialog__text"\n                    data-bind="i18n: isSMSVerificationEnabled ? \'candidate-self-service.confirm-dialog-info-sms-enabled\' : \'candidate-self-service.confirm-dialog-info\'"\n                ></p>\n\n                <div class="apply-flow-dialog__form">\n                    <email-verification-form></email-verification-form>\n                </div>\n\n                <footer class="app-dialog__footer">\n                    <div class="buttons-bar">\n                        <div class="buttons-bar__inner">\n                            <button\n                                type="button"\n                                class="button buttons-bar__button text-color-secondary"\n                                data-bind="click: back"\n                            >\n                                <span class="button__arrow button__arrow--left"></span>\n                                <span\n                                    class="button__label"\n                                    data-bind="i18n: \'general.previous-button\'"\n                                ></span>\n                            </button>\n\n                            <div class="buttons-bar__spacer"></div>\n\n                            <button\n                                type="button"\n                                class="button buttons-bar__button theme-color-1"\n                                data-qa="cs-sign-in-next-button"\n                                data-bind="\n                                    click: next,\n                                    disable: isVerificationInProgress"\n                            >\n                                <span\n                                    class="button__label"\n                                    data-bind="i18n: isSMSVerificationEnabled ? \'general.next-button\' : \'candidate-self-service.confirm-dialog-button\'"\n                                >\n                                </span>\n                                <span class="button__arrow button__arrow--right"></span>\n                            </button>\n                        </div>\n                    </div>\n                </footer>\n            </section>\n        </form>\n        \x3c!-- /ko --\x3e\n\n        \x3c!-- ko if: isVerificationInProgress --\x3e\n        <div class="apply-flow-dialog__form">\n            <indeterminate-progress-bar></indeterminate-progress-bar>\n        </div>\n        \x3c!-- /ko --\x3e\n\n        \x3c!-- /ko --\x3e\n\n        \x3c!-- ko if: lastNameNotMatched --\x3e\n        <section class="apply-flow-dialog__form">\n            \x3c!-- ko template: \'candidate-verification-last-name-check\' --\x3e\x3c!-- /ko --\x3e\n        </section>\n        \x3c!-- /ko --\x3e\n    </div>\n</div>\n'});n.components.register("cs-application-tile",{viewModel:class extends class{constructor({application:e}){this.application=e,this.menuId="#menu-"+e.submissionId();const[t]=this.application.unscheduledInterviewRequests();this.unscheduledInterviewRequest=t,this.isApplicationActive=this.application.isActive(),this.url=m.b.interpolate({},"job-details",{jobId:this.application.jobId})}openJobPreview(){h.a.go("job-details",{jobId:this.application.jobId})}}{openJobPreview(){h.a.go("candidate-self-service.job-preview",{jobId:this.application.jobId})}},template:'<li\n    class="cs-application-tile"\n    data-bind="css: {\'cs-application-tile--blocked\': application.isActionInProgress}"\n>\n    <div class="cs-application-tile__column cs-job-info">\n        <div class="cs-job-info__title-container">\n            <a\n                class="cs-job-info__title cs-button--link"\n                data-bind="text: application.jobTitle, click: openJobPreview, attr: {\'href\': url}"\n            ></a>\n        </div>\n        <span\n            class="cs-job-info__location text-color-secondary"\n            data-bind="text: application.jobLocation"\n        ></span>\n        <cs-application-actions params="application: application"></cs-application-actions>\n        \x3c!-- ko foreach: {data: application.scheduleInterviews, as: \'interview\'} --\x3e\n        <scheduled-interview-action params="interview: interview"></scheduled-interview-action>\n        \x3c!--/ko --\x3e\n        \x3c!-- ko if: unscheduledInterviewRequest --\x3e\n        <unscheduled-interview-action\n            params="interviewRequest: unscheduledInterviewRequest"\n        ></unscheduled-interview-action>\n        \x3c!--/ko --\x3e\n    </div>\n\n    <div class="cs-application-tile__column cs-job-info">\n        <div class="cs-job-status">\n            \x3c!-- ko if: isApplicationActive --\x3e\n            <button\n                data-bind="ojComponent: {\n                    component: \'ojButton\',\n                    menu: menuId,\n                    disabled: application.isActionInProgress,\n                    rootAttributes: {\n                        class: \'cs-job-info__context-menu-button\'\n                    }\n                }"\n            >\n                <span\n                    class="cs-job-status__label text-color-secondary"\n                    data-bind="i18n: \'candidate-self-service.tile.status\'"\n                ></span>\n                <span\n                    class="cs-job-status__value text-color-secondary"\n                    data-bind="text: application.status, \n                        attr: {\n                            title: application.status, \n                        }, \n                        css: {\n                            \'cs-job-status__value--on\': application.isConfirmed\n                        }"\n                >\n                </span>\n            </button>\n            <cs-application-context-menu params="application: application"></cs-application-context-menu>\n            \x3c!-- /ko --\x3e\n\n            \x3c!-- ko ifnot: isApplicationActive --\x3e\n            <span\n                class="cs-job-status__label text-color-secondary"\n                data-bind="i18n: \'candidate-self-service.tile.status\'"\n            ></span>\n            <span\n                class="cs-job-status__value text-color-secondary"\n                data-bind="text: application.status, css: {\'cs-job-status__value--on\': application.isConfirmed}"\n            ></span>\n            \x3c!-- /ko --\x3e\n        </div>\n\n        <div class="cs-job-info__metadata text-color-secondary">\n            <span data-bind="text: application.siteName"></span>\n            <span data-bind="text: application.jobId"></span>\n            <i18n\n                params="key: \'candidate-self-service.submission-date\', tokens: {submission_date: application.submissionDate}"\n            ></i18n>\n        </div>\n    </div>\n</li>\n'});n.components.register("cs-application-draft-tile",{viewModel:class extends class{constructor({draft:e}){this.draft=e,this.jobUrl=m.b.interpolate({},"job-details",{jobId:this.draft.jobId})}continueApplication(){const e=m.b.interpolate({siteCode:this.draft.siteNumber},"apply-flow",{jobId:this.draft.jobId,sectionNumber:"1"});h.a.redirect(e)}openJobPreview(){h.a.go("job-details",{jobId:this.draft.jobId})}showRemoveDraftDialog(){my.openDeleteDraftDialog.dispatch(this.draft)}}{openJobPreview(){h.a.go("candidate-self-service.job-preview",{jobId:this.draft.jobId})}},template:'<li class="cs-application-tile">\n    <div class="cs-application-tile__column cs-job-info">\n        <a\n            class="cs-job-info__title cs-button--link"\n            data-bind="text: draft.jobTitle, click: openJobPreview, attr: {\'href\': jobUrl}"\n        ></a>\n        <span class="cs-job-info__location text-color-secondary" data-bind="text: draft.jobLocation"></span>\n    </div>\n\n    <div class="cs-application-tile__column cs-job-info">\n        <div class="cs-job-status">\n            <button\n                class="cs-button--link theme-color-1"\n                data-bind="click: continueApplication, i18n: \'general.continue-button\'"\n            ></button>\n            <button\n                class="cs-job-status__remove-button text-color-secondary"\n                data-bind="click: showRemoveDraftDialog, i18nAttr: {\'title\': \'general.delete-button\'}"\n            ></button>\n        </div>\n        <div class="cs-job-info__metadata text-color-secondary">\n            <span data-bind="text: draft.siteName"></span>\n            <span data-bind="text: draft.jobId"></span>\n            <i18n\n                params="key: \'candidate-self-service.modification-date\', tokens: {date: draft.modificationDate}"\n            ></i18n>\n        </div>\n    </div>\n</li>\n'});n.components.register("show-more-applications-button",{viewModel:class{constructor({titleKey:e,isLoading:t,onClicked:i}){this.titleKey=Object(n.pureComputed)(()=>e()||"general.show-more"),this.isLoading=t||Object(n.observable)(!1),this.onClicked=i}},template:'<div class="theme-color-1 font-family-secondary">\n    <button type="button" class="cs-show-more-applications" data-bind="click: onClicked, disable: isLoading">\n        <inline-spinner params="isLoading: isLoading, i18n: titleKey"></inline-spinner>\n    </button>\n</div>\n'});const yy=e=>Boolean(!e.isConfirmed()||e.secondarySubmissions().length||e.scheduleInterviews().length||e.unscheduledInterviewRequests().length||e.hasAssessment()||e.backgroundCheckLinks().length||e.hasTaxCredit()),xy=(e,t)=>Number(yy(t))-Number(yy(e));class wy{constructor({entities:e,loadingStatus:t,titleKey:i,name:s}){this.entities=e,this.loadingStatus=t,this.titleKey=i,this.name=s,this.limit=Object(n.observable)(5),this.paginatedEntities=Object(n.pureComputed)(()=>this.entities().slice(0,this.limit())),this.showMoreTitleKey=Object(n.pureComputed)(()=>this.limit()>=20&&"candidate-self-service.show-all"),this.showMore=()=>{const e=(({currentLimit:e,entitiesLength:t,entitiesPerPage:i,countOfEntitiesBeforeShowingEverything:n})=>e>=n?t:e+i)({currentLimit:this.limit(),entitiesLength:this.entities().length,entitiesPerPage:5,countOfEntitiesBeforeShowingEverything:20});this.limit(e)}}}const ky="active",Iy="resolved",Cy="drafts";function Sy(e){return 0===Object.keys(e).length?Promise.resolve():(e.flowContext=wu.h[wu.f],_m.confirmTalentCommunity(e))}n.components.register("cs-applications",{viewModel:class{constructor(){const e=new wy({entities:Object(n.pureComputed)(()=>_d.applications().filter(e=>e.isActive()).sort(xy)),loadingStatus:_d.loadingStatus,titleKey:"candidate-self-service.active-applications",name:ky}),t=new wy({entities:Object(n.pureComputed)(()=>_d.applications().filter(e=>!e.isActive())),loadingStatus:_d.loadingStatus,titleKey:"candidate-self-service.resolved-applications",name:Iy}),i=new wy({entities:Object(n.pureComputed)(()=>fy.drafts()),loadingStatus:fy.loadingStatus,titleKey:"candidate-self-service.draft-applications",name:Cy});this.stateArray=[e,i,t],this.loadingStatusSubscription=e.loadingStatus.subscribe(t=>this._updateStateLimitWithActionRequiredApplicationsCount(t,e))}_updateStateLimitWithActionRequiredApplicationsCount(e,t){switch(e){case"loaded":{const e=t.entities().filter(yy).length;e>t.limit()&&t.limit(e);break}case"pending":case"error":break;default:console.error("Undefined loading status was handled: "+e)}}handleShowMore(e){const t=e.paginatedEntities().length;e.showMore(),this._setFocusOnNextEntity(e.name,t)}_setFocusOnNextEntity(e,t){const i=".cs-applications__container-"+e;setTimeout(()=>{document.querySelector(i).querySelectorAll(".cs-job-info__title")[t].focus()},0)}dispose(){this.loadingStatusSubscription.dispose()}},template:'<div class="cs-applications" data-bind="foreach: { data: stateArray, as: \'state\' }">\n    <div class="cs-applications__container" data-bind="class: `cs-applications__container-${state.name}`">\n        \x3c!-- ko if: state.loadingStatus() === \'pending\' --\x3e\n        <div class="skeleton cs-applications__container-skeleton"></div>\n        \x3c!-- /ko--\x3e\n\n        \x3c!-- ko if: state.loadingStatus() === \'loaded\' && state.entities().length > 0  --\x3e\n        <h2 class="cs-header text-color-secondary" data-bind="i18n: state.titleKey"></h2>\n\n        \x3c!-- ko if: state.name === \'active\'  --\x3e\n        <cs-applications-confirm-all></cs-applications-confirm-all>\n        \x3c!-- /ko--\x3e\n\n        <ul class="cs-applications__list" data-bind="foreach: state.paginatedEntities()">\n            \x3c!-- ko if: state.name === \'active\' ||  state.name === \'resolved\' --\x3e\n            <cs-application-tile params="application: $data"></cs-application-tile>\n            \x3c!-- /ko--\x3e\n\n            \x3c!-- ko if: state.name === \'drafts\' --\x3e\n            <cs-application-draft-tile params="draft: $data"></cs-application-draft-tile>\n            \x3c!-- /ko--\x3e\n        </ul>\n\n        \x3c!-- ko if: state.entities().length > state.limit()  --\x3e\n        <show-more-applications-button\n            params="onClicked: () => $parent.handleShowMore(state),\n            titleKey: state.showMoreTitleKey"\n        ></show-more-applications-button>\n        \x3c!--/ko--\x3e\n\n        \x3c!--/ko--\x3e\n    </div>\n</div>\n\n<application-withdraw-dialog></application-withdraw-dialog>\n<application-draft-delete-dialog></application-draft-delete-dialog>\n'});var Ey={confirmTalentCommunity:e=>c.a.tcOptInEnabled?_m.getPreferences(e).then(Sy):Promise.resolve()};var Oy={confirmAllApplications:e=>e.reduce((e,t)=>e.then(()=>{return(e=t).isActionInProgress(!0),Ed.accept(e).then(t=>_d.update(e,t)).catch(t=>(e.isActionInProgress(!1),console.error(t),Promise.reject(t)));var e}),Promise.resolve())};n.components.register("cs-applications-confirm-all",{viewModel:class{constructor(){this.isConfirmAllInProgress=Object(n.observable)(!1),this.applications=_d.applications,this.unconfirmedApplications=Object(n.pureComputed)(()=>this.applications().filter(e=>!e.isConfirmed()))}confirmAll(){this.isConfirmAllInProgress(!0);const e=this.unconfirmedApplications();return Oy.confirmAllApplications(e).then(this._confirmTCSignup.bind(this)).then(()=>bi.success(Object(l.a)("candidate-self-service.confirmed-all-success-message"))).catch(e=>{throw bi.error(),new Error(e)}).then(()=>this.isConfirmAllInProgress(!1))}_confirmTCSignup(){const[e]=this.applications();return Ey.confirmTalentCommunity(e.candidateNumber())}},template:'\x3c!-- ko if: unconfirmedApplications().length > 1 --\x3e\n<button\n    class="button cs-applications__confirm-all-button font-family-secondary"\n    data-bind="click: confirmAll, disable: isConfirmAllInProgress"\n>\n    <i18n\n        params="key: \'candidate-self-service.unconfirmed-applications-info\', tokens: {applications_count: unconfirmedApplications().length}"\n    ></i18n>\n    <inline-spinner\n        class="cs-applications__confirm-all-label"\n        params="isLoading: isConfirmAllInProgress, i18n: \'candidate-self-service.confirm-all\'"\n    ></inline-spinner>\n</button>\n\x3c!--/ko--\x3e\n'});class Ay{constructor(e){const t={id:void 0,value:void 0,label:void 0};this.removePillTitle=Object(n.pureComputed)(()=>[Object(l.a)("general.remove-button"),this.label()].join(" ")),e&&Object.assign(t,e),o.a.fromJS(t,{},this)}}n.components.register("cs-job-alert",{viewModel:class{constructor({jobAlert:e,candidateNumber:t,showSiteName:i,jobFunctions:s,jobAlertPreferencesConfig:a}){this.siteName=e.siteName,this.showSiteName=i,this.jobAlert=e,this.candidateNumber=t,this.jobAlertCheckboxId="job-alert-checkbox-"+e.siteNumber,this.jobAlertPreferencesConfig=a,this.validationDataErrorMessage=_m.getValidationMessage(this.jobAlertPreferencesConfig),this.isActive=Object(n.observable)(!1),this.jobFunctions=s,this.preferredLocations=Object(n.observableArray)(),this.fetchAvailableLocationsFunction=Sl.getLocationsByTerm,this.fetchAvailableJobFunctions=this._fetchAvailableJobFunctions.bind(this),this.preferredJobFamilies=Object(n.observableArray)(),this.preferredJobFunctions=Object(n.observableArray)(),this.fetchAvailableJobFamiliesFunction=_m.getJobFamilies,this.jobAlertsEnabled=Object(n.observable)(this.jobAlert.jobAlertsEnabled),this.showJobCategories=this._showJobCategories.bind(this),this.showJobFunctions=this._showJobFunctions.bind(this),this.isLocationsReady=Object(n.observable)(!1),this.isFamiliesReady=Object(n.observable)(!1),this.isJobFunctionsReady=Object(n.observable)(!1),_m.getLocationsByIds(e.preferredLocations).then(e=>{this.preferredLocations(e.map(e=>new Ay({value:e.geographyId.toString(),label:e.geographyFlatName})))}).catch(e=>{e&&(console.error(e),bi.error(Object(l.a)("candidate-self-service.tc-locations-loading-error")))}).finally(()=>{this.isLocationsReady(!0)}),_m.getJobFamiliesByIds(e.preferredJobFamilies).then(e=>{this.preferredJobFamilies(e.map(e=>new Ay({value:e.jobFamilyId.toString(),label:e.jobFamilyName})))}).catch(e=>{e&&(console.error(e),bi.error(Object(l.a)("candidate-self-service.tc-categories-loading-error")))}).finally(()=>{this.isFamiliesReady(!0)}),this._setJobFunctions(e),this.savePreferences=this.savePreferences.bind(this)}editJobAlert(){this.isActive(!0)}savePreferences(){const e=o.a.toJS(this.preferredLocations).map(e=>Number(e.value)),t=o.a.toJS(this.preferredJobFamilies).map(e=>Number(e.value)),i=o.a.toJS(this.preferredJobFunctions).map(e=>e.value),n=Object.assign({},this.jobAlert,{jobAlertsEnabled:this.jobAlertsEnabled(),preferredLocations:e,preferredJobFamilies:t,preferredJobFunctions:i});Ga.subscribeToJobAlert(this.jobAlertsEnabled()),this._isValid(e,t,i)&&(_m.saveTCJobAlert(n,this.candidateNumber()),this.isActive(!1))}_setJobFunctions({preferredJobFunctions:e}){const t=this.jobFunctions.filter(t=>e.includes(t.lookupCode)).map(e=>new Ay({value:e.lookupCode,label:e.meaning}));this.preferredJobFunctions(t),this.isJobFunctionsReady(!0)}_fetchAvailableJobFunctions(){return Promise.resolve(this.jobFunctions.map(e=>({id:e.lookupCode,name:e.meaning})))}_isValid(e,t,i){const n=Boolean(e.length+t.length+i.length);return n||bi.error(Object(l.a)(this.validationDataErrorMessage),0),n}enableJobAlerts(){this.jobAlertsEnabled(!this.jobAlertsEnabled())}_showJobCategories(){return this.jobAlertPreferencesConfig.includes("Job Category")}_showJobFunctions(){return this.jobAlertPreferencesConfig.includes("Job Function")}},template:'<article\n    class="cs-talent-community__job-alert-tile text-color-secondary"\n    data-bind="\n        css: {\'cs-talent-community__job-alert-tile--active\': isActive, \'cs-talent-community__job-alert-tile--animated\': isActive},\n        boolAttr: {\'aria-expanded\': isActive}"\n>\n    <header\n        class="cs-talent-community__job-alert-tile-summary"\n        data-bind="boolAttr: {\'aria-hidden\': isActive}"\n    >\n        <div class="cs-talent-community__job-alert-tile-status">\n            \x3c!-- ko if: jobAlertsEnabled --\x3e\n            <i\n                class="icon-jobalerts-on cs-talent-community__job-alert-tile-status--enabled theme-color-1"\n                data-bind="i18nAttr: {title: \'talent-community.job-alerts-self-service.jobalerts-on\'}"\n            ></i>\n            \x3c!-- /ko --\x3e\n            \x3c!-- ko ifnot: jobAlertsEnabled --\x3e\n            <i\n                class="icon-jobalerts-off"\n                data-bind="i18nAttr: {title: \'talent-community.job-alerts-self-service.jobalerts-off\'}"\n            ></i>\n            \x3c!-- /ko --\x3e\n        </div>\n        <div class="cs-talent-community__job-alert-tile-summary-content">\n            \x3c!-- ko if: showSiteName --\x3e\n            <h3 class="cs-talent-community__site-name" data-bind="text: siteName"></h3>\n            \x3c!-- /ko --\x3e\n            \x3c!-- ko if: showJobCategories() --\x3e\n            <div class="cs-talent-community__job-alert-tile-summary-content-preferences text-color-secondary">\n                <i18n params="key: \'talent-community.job-alerts-self-service.categories-label\'"></i18n>\n\n                \x3c!-- ko ifnot: isFamiliesReady --\x3e\n                <div class="skeleton cs-talent-community__values-skeleton"></div>\n                \x3c!-- /ko --\x3e\n\n                \x3c!-- ko foreach: preferredJobFamilies --\x3e\n                <span\n                    class="cs-talent-community__job-alert-tile-summary-content-preference text-color-primary"\n                >\n                    \x3c!-- ko text: label --\x3e\x3c!-- /ko --\x3e\n                </span>\n                \x3c!-- /ko --\x3e\n            </div>\n            \x3c!-- /ko --\x3e\n            \x3c!-- ko if: showJobFunctions() --\x3e\n            <div class="cs-talent-community__job-alert-tile-summary-content-preferences text-color-secondary">\n                <i18n params="key: \'talent-community.job-alerts-self-service.job-function-label\'"></i18n>\n\n                \x3c!-- ko ifnot: isJobFunctionsReady --\x3e\n                <div class="skeleton cs-talent-community__values-skeleton"></div>\n                \x3c!-- /ko --\x3e\n\n                \x3c!-- ko foreach: preferredJobFunctions --\x3e\n                <span\n                    class="cs-talent-community__job-alert-tile-summary-content-preference text-color-primary"\n                >\n                    \x3c!-- ko text: label --\x3e\x3c!-- /ko --\x3e\n                </span>\n                \x3c!-- /ko --\x3e\n            </div>\n            \x3c!-- /ko --\x3e\n            <div class="cs-talent-community__job-alert-tile-summary-content-preferences text-color-secondary">\n                <i18n params="key: \'talent-community.job-alerts-self-service.locations-label\'"></i18n>\n\n                \x3c!-- ko ifnot: isLocationsReady --\x3e\n                <div class="skeleton cs-talent-community__values-skeleton"></div>\n                \x3c!-- /ko --\x3e\n\n                \x3c!-- ko foreach: preferredLocations --\x3e\n                <span\n                    class="cs-talent-community__job-alert-tile-summary-content-preference text-color-primary"\n                >\n                    \x3c!-- ko text: label --\x3e\x3c!-- /ko --\x3e\n                </span>\n                \x3c!-- /ko --\x3e\n            </div>\n        </div>\n        <div class="cs-talent-community__job-alert-tile-button">\n            <button\n                class="cs-talent-community__job-alert-tile-button--edit"\n                data-bind="\n                    click: editJobAlert,\n                    a11y.keysHandler: {keys: \'enter\', handler: editJobAlert},\n                    i18nAttr: {\'title\': \'general.change-button\', \'aria-label\': \'general.change-button\'}"\n            >\n                <i class="icon-af-edit"></i>\n            </button>\n        </div>\n    </header>\n\n    <section\n        class="cs-talent-community__job-alert-tile-form"\n        aria-live="assertive"\n        data-bind="\n            boolAttr: {\'aria-hidden\': !isActive()},\n            a11y.trapFocus"\n    >\n        <div class="cs-talent-community__job-alert-tile-form-columns">\n            <div class="cs-talent-community__job-alert-tile-form-content">\n                \x3c!-- ko if: showSiteName --\x3e\n                <h3 class="cs-talent-community__site-name" data-bind="text: siteName"></h3>\n                \x3c!-- /ko --\x3e\n                \x3c!-- ko if: showJobCategories() --\x3e\n                <div class="cs-talent-community__column">\n                    <h4\n                        class="cs-talent-community__column-header"\n                        data-bind="i18n: \'talent-community.job-alerts-self-service.category-label\'"\n                    ></h4>\n                    <cs-dropdown-multiselect-pill-preference\n                        params="\n                            siteNumber: jobAlert.siteNumber,\n                            model: preferredJobFamilies,\n                            fetchAvailablePreferencesFunction: fetchAvailableJobFamiliesFunction,\n                            placeholder: \'talent-community.job-alerts-self-service.search-for-category\'"\n                    ></cs-dropdown-multiselect-pill-preference>\n                </div>\n                \x3c!-- /ko --\x3e\n                \x3c!-- ko if: showJobFunctions() --\x3e\n                <div class="cs-talent-community__column">\n                    <h4\n                        class="cs-talent-community__column-header"\n                        data-bind="i18n: \'talent-community.job-alerts-self-service.preferred-job-function-label\'"\n                    ></h4>\n                    <cs-dropdown-multiselect-pill-preference\n                        params="\n                            siteNumber: jobAlert.siteNumber,\n                            model: preferredJobFunctions,\n                            fetchAvailablePreferencesFunction: fetchAvailableJobFunctions,\n                            placeholder: \'talent-community.job-alerts-self-service.search-for-job-function\'"\n                    ></cs-dropdown-multiselect-pill-preference>\n                </div>\n                \x3c!-- /ko --\x3e\n                <div class="cs-talent-community__column">\n                    <h4\n                        class="cs-talent-community__column-header"\n                        data-bind="i18n: \'talent-community.job-alerts-self-service.location-label\'"\n                    ></h4>\n                    <cs-search-multiselect-pill-preference\n                        params="\n                                siteNumber: jobAlert.siteNumber,\n                                model: preferredLocations,\n                                fetchAvailablePreferencesFunction: fetchAvailableLocationsFunction,\n                                placeholder: \'talent-community.job-alerts-self-service.search-for-location\'"\n                    ></cs-search-multiselect-pill-preference>\n                </div>\n                <div class="cs-talent-community__save-preferences apply-flow-input-checkbox">\n                    <input\n                        type="checkbox"\n                        class="input-row__hidden-control"\n                        data-bind="checked: jobAlertsEnabled, attr: {id: jobAlertCheckboxId}"\n                    />\n                    <label class="apply-flow-input-checkbox" data-bind="attr: {for: jobAlertCheckboxId}">\n                        <span class="apply-flow-input-checkbox__button"></span>\n                        <span\n                            class="apply-flow-input-checkbox__label"\n                            data-bind="i18n: \'talent-community.job-alerts-self-service.job-opportunities-agree-label\'"\n                        ></span>\n                    </label>\n                </div>\n            </div>\n            <div class="cs-talent-community__job-alert-tile-button">\n                <button\n                    class="cs-talent-community__job-alert-tile-button--save"\n                    data-bind="\n                        click: savePreferences,\n                        a11y.keysHandler: {keys: \'enter\', handler: savePreferences},\n                        i18nAttr: {\'title\': \'talent-community.job-alerts-self-service.done\', \'aria-label\': \'talent-community.job-alerts-self-service.done\'}"\n                >\n                    <i class="icon-check-rounded"></i>\n                    <span\n                        class="cs-talent-community__job-alert-tile-button-label"\n                        data-bind="i18n: \'talent-community.job-alerts-self-service.done\'"\n                    ></span>\n                </button>\n            </div>\n        </div>\n    </section>\n</article>\n'});var Py={mapSiteNamesFromRest:e=>e.items.reduce((e,{siteName:t,siteNumber:i})=>(e[i]=t,e),{})},Ty={getSiteNames:()=>W.get("/recruitingCESites?onlyData=true").then(Py.mapSiteNamesFromRest)};n.components.register("cs-talent-community",{viewModel:class{constructor({candidateNumber:e,enableOptInCSS:t,isTCOptInEnabled:i}){this.candidateNumber=e,this.showSitesNames=Object(n.observable)(),this.tcPreferences=Object(n.observable)(),this.optIn=Object(n.observable)(!1),this.isReady=Object(n.observable)(!1),this.jobAlertPreferencesConfig=c.a.getSettingByKey("ORA_IRC_TC_ACTIVE_ATTRIBUTES"),this.jobFunctions=[],this.enableOptInCSS=Object(n.pureComputed)(()=>(t()&&this.optIn(new cd({isEnabled:t(),versionId:c.a.optinDescriptionVersionId,description:c.a.optinDescriptionStr})),t())),this.isTCOptInEnabled=Object(n.pureComputed)(()=>i()),this.candidateNumber()?this._loadPreferences():this.candidateNumber.subscribeOnce(this._loadPreferences.bind(this))}_loadPreferences(){this.isReady(!1),Promise.all([_m.getPreferences(this.candidateNumber()),Ty.getSiteNames(),this._fetchJobFunctions()]).then(([e,t,i])=>{this.jobFunctions=i,this._addCurrentSitePreferences(e),this.showSitesNames(e.siteTCPreferences.length>1),this.tcPreferences(this._mapSiteNames(e.siteTCPreferences,t))}).then(()=>{this.isReady(!0)})}_addCurrentSitePreferences(e){e.siteTCPreferences?e.siteTCPreferences.filter(e=>e.siteNumber===c.a.siteNumber).length||e.siteTCPreferences.push(this._addCurrentSitePreferencesData()):(e.siteTCPreferences=[],e.candidateId=this.candidateNumber(),e.siteTCPreferences.push(this._addCurrentSitePreferencesData()))}_addCurrentSitePreferencesData(){return{jobAlertsEnabled:!1,preferredLocations:[],preferredJobFamilies:[],preferredJobFunctions:[],siteName:c.a.siteName,siteNumber:c.a.siteNumber}}_fetchJobFunctions(){return Bb.get("JOB_FUNCTION_CODE")}_mapSiteNames(e,t){return e.forEach((e,i,n)=>{n[i].siteName=t[e.siteNumber]}),e}},template:'<div class="cs-talent-community">\n    \x3c!-- ko if: isReady --\x3e\n    <h2\n        class="cs-header cs-header--underline text-color-secondary"\n        data-bind="i18n: \'talent-community.job-alerts-main-header\'"\n    ></h2>\n    \x3c!-- /ko --\x3e\n\n    \x3c!-- ko ifnot: isReady --\x3e\n    <div class="skeleton cs-talent-community__skeleton"></div>\n    \x3c!-- /ko --\x3e\n\n    \x3c!-- ko if: isTCOptInEnabled --\x3e\n    <div class="cs-talent-community__job-alerts" data-bind="foreach: { data: tcPreferences, as: \'jobAlert\'}">\n        <cs-job-alert\n            class="cs-talent-community__job-alert"\n            params="jobAlert: $data, candidateNumber: $parent.candidateNumber, showSiteName: $parent.showSitesNames, jobFunctions: $parent.jobFunctions, jobAlertPreferencesConfig: $parent.jobAlertPreferencesConfig"\n        ></cs-job-alert>\n    </div>\n    \x3c!-- /ko --\x3e\n\n    \x3c!-- ko if: enableOptInCSS --\x3e\n    <div class="cs-talent-community__opt-in">\n        <opt-in params="optIn: optIn, candidateNumber: candidateNumber, savePreferencesFlag: true"></opt-in>\n    </div>\n    \x3c!-- /ko --\x3e\n</div>\n'});n.components.register("cs-application-context-menu",{viewModel:class{constructor({application:e}){this.application=e,this.menuId="menu-"+e.submissionId(),this.onMenuSelect=this.onMenuSelect.bind(this),this.removeApplication=this.removeApplication.bind(this),this.ariaLabels={withdraw:Object(n.pureComputed)(()=>`${Object(l.a)("candidate-self-service.withdraw-button-label")} ${this.application.jobTitle()}`),remove:Object(n.pureComputed)(()=>`${Object(l.a)("candidate-self-service.tile.remove-button")} ${this.application.jobTitle()}`)}}showWithdrawDialog(){my.openWithdrawDialog.dispatch(this.application)}removeApplication(){Ed.remove(this.application).then(()=>{_d.remove(this.application),bi.success(Object(l.a)("candidate-self-service.remove-application-success-message"))}).catch(e=>{throw bi.error(),new Error(e)})}onMenuSelect(e,{item:t}){this[t.children("a").attr("data-action-name")]()}},template:'<cx-context-menu params="menuId: menuId, onSelect: onMenuSelect">\n    <li class="cx-context-menu__item">\n        \x3c!-- ko if: application.isConfirmed --\x3e\n        <a\n            href="#"\n            class="cx-context-menu__item-button"\n            data-action-name="showWithdrawDialog"\n            data-bind="\n                i18n: \'candidate-self-service.withdraw-button-label\',\n                attr: {\n                    \'aria-label\': ariaLabels.withdraw\n                }\n            "\n        >\n        </a>\n        \x3c!-- /ko --\x3e\n\n        \x3c!-- ko ifnot: application.isConfirmed --\x3e\n        <a\n            href="#"\n            class="cx-context-menu__item-button"\n            data-action-name="removeApplication"\n            data-bind="\n                i18n: \'candidate-self-service.tile.remove-button\',\n                attr: {\n                    \'aria-label\': ariaLabels.remove\n                }\n            "\n        >\n        </a>\n        \x3c!-- /ko --\x3e\n    </li>\n</cx-context-menu>\n'});var jy={mapTaxCreditLinkFromRest:({taxCreditUrl:e})=>e},Ry={getAssessmentURL:(e,t)=>U.a.post("/recruitingCandidateAssessments",{requisitionNumber:e,provisioningId:t}).then(Lc.mapAssessmentLinkFromRest).catch(e=>(console.error(e),Promise.reject("Assessment link error"))),getTaxCreditURL:e=>U.a.post("/recruitingCETaxCredits",{requisitionNumber:e}).then(jy.mapTaxCreditLinkFromRest).catch(e=>(console.error(e),Promise.reject("Tax credit link error"))),getBackgroundCheckURL:(e,t)=>U.a.post("/recruitingCEBackgroundChecks",{requisitionNumber:e,provisioningId:t}).then(Nc.mapBackgroundCheckLinkFromRest).catch(e=>(console.error(e),Promise.reject("BGC link error")))};n.components.register("cs-application-actions",{viewModel:class{constructor({application:e}){this.application=e,this.confirm=this.confirm.bind(this),this.takeAssessment=this.takeAssessment.bind(this),this.takeTaxCredit=this.takeTaxCredit.bind(this),this.takeBackgroundCheck=this.takeBackgroundCheck.bind(this),this.redirectToPostApplyFlow=this.redirectToPostApplyFlow.bind(this),this.getSecondaryFlows=this.getSecondaryFlows.bind(this),this.getAssessments=this.getAssessments.bind(this),this.getBackgroundCheck=this.getBackgroundCheck.bind(this)}confirm(){this.application.isActionInProgress(!0),Ed.accept(this.application).then(e=>(_d.update(this.application,e),bi.success((this.application.hasAssessment()||this.application.hasTaxCredit())&&this.application.isActive()?Object(l.a)("apply-flow.thank-you-dialog.additional-instructions-text"):Object(l.a)("candidate-self-service.confirm-success-message")),e.jobId())).then(e=>Ed.getFullJob(e)).then(e=>(_d.update(this.application,e),Ey.confirmTalentCommunity(e.candidateNumber()))).catch(e=>{this.application.isActionInProgress(!1),"ORA_JOB_NOT_AVAILABLE"!==e?(bi.error(),console.error(e)):bi.error(Object(l.a)("candidate-self-service.job-unavailable-confirmation-error"))})}redirectToAction(e){this.application.isActionInProgress(!0),e.then(e=>{if(!e)throw Error("Missing partner link");Vt.isMobile()?h.a.redirect(e):(window.open(e,"_blank"),this.application.isActionInProgress(!1))}).catch(e=>{this.application.isActionInProgress(!0),bi.error(Object(l.a)("candidate-self-service.partner-link-error")),console.error(e)})}takeTaxCredit(){this.redirectToAction(Ry.getTaxCreditURL(this.application.jobId()))}takeAssessment(e){this.redirectToAction(Ry.getAssessmentURL(this.application.jobId(),e.provisioningId()))}takeBackgroundCheck(e){this.redirectToAction(Ry.getBackgroundCheckURL(this.application.jobId(),e.provisioningId()))}redirectToPostApplyFlow(e){return fd.setSecondaryFlowData(fd.createFlowData(e.secondaryFlowId(),e.stepActionUsageId())),h.a.go("post-apply",{sectionNumber:"1",submissionId:e.submissionId(),jobId:e.jobId()})}getAssessments(){const e=[];return this.application.assessmentLinks().length&&e.push(...this.application.assessmentLinks()),e}getBackgroundCheck(){const e=[];return this.application.backgroundCheckLinks().length&&e.push(...this.application.backgroundCheckLinks()),e}getSecondaryFlows(){const e=[];return this.application.secondarySubmissions().length&&e.push(...this._getSecondarySubmissions(this.application)),this.application.hiringJobApplications().length&&this.application.hiringJobApplications().filter(e=>e.secondarySubmissions().length).forEach(t=>e.push(...this._getSecondarySubmissions(t))),e}_getSecondarySubmissions(e){return e.secondarySubmissions()}},template:'<ul class="cs-application-actions">\n    \x3c!-- ko if: application.isActive --\x3e\n    \x3c!-- ko ifnot: application.isConfirmed --\x3e\n    <li class="cs-application-actions__action cs-application-actions__action--warning">\n        <span\n            class="cs-application-actions__info"\n            data-bind="i18n: \'candidate-self-service.tile.confirm-text\'"\n        ></span>\n        <button\n            class="cs-button cs-button--link theme-color-1"\n            data-bind="click: confirm, disable: application.isActionInProgress, i18n: \'candidate-self-service.tile.confirm-button\'"\n        ></button>\n    </li>\n    \x3c!-- /ko --\x3e\n\n    \x3c!-- ko if: application.isConfirmed --\x3e\n    \x3c!-- ko foreach: getSecondaryFlows() --\x3e\n    <li class="cs-application-actions__action cs-application-actions__action--warning">\n        <span\n            class="cs-application-actions__info"\n            data-bind="i18n: \'candidate-self-service.post-apply.provide-info-description\'"\n        ></span>\n        <button\n            class="cs-button cs-button--link theme-color-1"\n            data-bind="click: $parent.redirectToPostApplyFlow.bind($data), i18n: \'candidate-self-service.post-apply.provide-info-label\'"\n            data-qa="redirectToPostApplyFlowButton"\n        ></button>\n    </li>\n    \x3c!-- /ko --\x3e\n\n    \x3c!-- ko foreach: getAssessments() --\x3e\n    <li class="cs-application-actions__action cs-application-actions__action--warning">\n        <span class="cs-application-actions__info">\n            <i18n\n                params="key: \'candidate-self-service.tile.assessment-text-with-name\', tokens: {partner_name: partnerName}"\n            ></i18n>\n        </span>\n        <button\n            class="cs-button cs-button--link theme-color-1"\n            data-bind="click: $parent.takeAssessment.bind($data), i18n: \'apply-flow.thank-you-dialog.assessment-label\'"\n        ></button>\n    </li>\n    \x3c!-- /ko --\x3e\n\n    \x3c!-- ko foreach: getBackgroundCheck() --\x3e\n    <li class="cs-application-actions__action cs-application-actions__action--warning">\n        <span class="cs-application-actions__info">\n            <i18n\n                params="key: \'candidate-self-service.tile.background-check-text\', tokens: {partner_name: partnerName}"\n            ></i18n>\n        </span>\n        <button\n            class="cs-button cs-button--link theme-color-1"\n            data-bind="click: $parent.takeBackgroundCheck.bind($data), i18n: \'apply-flow.thank-you-dialog.background-check-label\'"\n        ></button>\n    </li>\n    \x3c!-- /ko --\x3e\n\n    \x3c!-- ko if: application.hasTaxCredit --\x3e\n    <li class="cs-application-actions__action cs-application-actions__action--warning">\n        <span\n            class="cs-application-actions__info"\n            data-bind="i18n: \'candidate-self-service.tile.tax-credit-text\'"\n        ></span>\n        <button\n            class="cs-button cs-button--link theme-color-1"\n            data-bind="click: takeTaxCredit, disable: application.isActionInProgress, i18n: \'apply-flow.thank-you-dialog.tax-credit-label\'"\n        ></button>\n    </li>\n    \x3c!-- /ko --\x3e\n    \x3c!-- /ko --\x3e\n\n    \x3c!-- /ko --\x3e\n</ul>\n'});const Fy={markSelectedDisabled:!1,possibleValueValue:"value",possibleValueName:"name"};class Dy extends class{constructor({model:e,filterRepository:t}){this.filters=e,this.filterRepository=t}addFilter(e){this.filters.push(e)}removeFilter(e){this.filterRepository&&this.filterRepository.remove(e),this.filters.remove(e)}removeAll(){this.filterRepository&&this.filters().forEach(e=>this.filterRepository.remove(e)),this.filters.removeAll()}_handleErrors(e){console.error(e)}}{constructor({model:e,filterRepository:t,config:i=null}){super({model:e,filterRepository:t}),this._currentValue=Object(n.observable)([]),this._config=Object.assign({},Fy,i||{}),this._dictionaryPossibleValues=[],this.currentValue=Object(n.pureComputed)({read(){return this._currentValue()},write(e){const t=e||null,i=this._config.possibleValueValue,[n]=this._dictionaryPossibleValues.filter(e=>e[i]===t);if(n){const[e]=this.filters().filter(e=>e.value()===n[i]);e||this.addFilter(new Ay({value:n[i],label:n[this._config.possibleValueName]}))}this._currentValue([])},owner:this}),this._fetchMissingLabels()}_fetchFromRepository(e,t){return e(t).then(e=>(this._config.markSelectedDisabled&&this.filters().forEach(t=>{const i=n.utils.arrayFirst(e,e=>e.id===t.value());i&&(i.disabled=!0)}),this._dictionaryPossibleValues=e,e)).catch(this._handleErrors)}fetchLabelForValue(){throw new Error("Not implemented")}_fetchMissingLabels(){this.filters().filter(e=>!e.label()).forEach(e=>{this.fetchLabelForValue(e.value()).then(({name:t})=>e.label(t)).catch(this._handleErrors)})}}n.components.register("cs-dropdown-multiselect-pill-preference",{viewModel:class extends Dy{constructor({siteNumber:e,model:t,fetchAvailablePreferencesFunction:i,placeholder:s}){super({model:t,filterRepository:null,config:{markSelectedDisabled:!0,possibleValueValue:"id"}}),this.availablePreferences=Object(n.observableArray)([]),this._fetchFromRepository(i,e).then(e=>this.availablePreferences(e)),this.placeholder=Object(l.a)(s)}addFilter(e){this._changePreferenceState(e.value(),!0),super.addFilter(e)}removeFilter(e){this._changePreferenceState(e.value(),!1),super.removeFilter(e)}_changePreferenceState(e,t){const i=this.availablePreferences().find(t=>t.id===e);this.availablePreferences.replace(i,Object.assign({},i,{disabled:t}))}},template:'<div class="cs-talent-community-multiselect">\n    <div class="cs-talent-community-multiselect-control">\n        <oj-combobox-one\n            class="cs-talent-community-multiselect-control--input"\n            value="{{currentValue}}"\n            options="[[availablePreferences]]"\n            options-keys="[[{ value: \'id\', label: \'name\' }]]"\n            placeholder="[[placeholder]]"\n        ></oj-combobox-one>\n    </div>\n\n    <ul class="cs-talent-community-multiselect-pills">\n        \x3c!-- ko foreach: filters --\x3e\n        <li class="cs-talent-community-multiselect-pill">\n            \x3c!-- ko text: label --\x3e\n            \x3c!-- /ko --\x3e\n            <button\n                class="cs-talent-community-multiselect-pill__remove"\n                data-bind="\n                a11y.setFocusOnClick: {focusOn: \'.cs-talent-community__column--category input\'},\n                click: $component.removeFilter.bind($component, $data),\n                attr: { \'title\': removePillTitle }"\n            ></button>\n        </li>\n        \x3c!-- /ko --\x3e\n    </ul>\n</div>\n'});n.components.register("cs-search-multiselect-pill-preference",{viewModel:class extends Dy{constructor({siteNumber:e,model:t,fetchAvailablePreferencesFunction:i,placeholder:n}){super({model:t,filterRepository:null,config:{markSelectedDisabled:!0}}),this._siteNumber=e,this._fetchAvailablePreferencesFunction=i,this.fetchAvailablePreferences=this.fetchAvailablePreferences.bind(this),this.placeholder=Object(l.a)(n)}fetchAvailablePreferences(e){return this._fetchFromRepository(this._fetchAvailablePreferencesFunction,{siteNumber:this._siteNumber,term:e.term})}},template:'<div class="cs-talent-community-multiselect">\n    <div class="cs-talent-community-multiselect-control">\n        <oj-combobox-one\n            class="cs-talent-community-multiselect-control--input"\n            value="{{currentValue}}"\n            options="[[fetchAvailablePreferences]]"\n            options-keys="[[{ value: \'id\', label: \'name\' }]]"\n            placeholder="[[placeholder]]"\n            picker-attributes="[[{ \'class\': \'input-row__listbox\' }]]"\n        >\n        </oj-combobox-one>\n    </div>\n\n    <ul class="cs-talent-community-multiselect-pills">\n        \x3c!-- ko foreach: filters --\x3e\n        <li class="cs-talent-community-multiselect-pill">\n            \x3c!-- ko text: label --\x3e\x3c!-- /ko --\x3e\n            <button\n                class="cs-talent-community-multiselect-pill__remove"\n                data-bind="\n                a11y.setFocusOnClick: {focusOn: \'.cs-talent-community__column--location input\'},\n                click: $component.removeFilter.bind($component, $data),\n                attr: { \'title\': removePillTitle }"\n            ></button>\n        </li>\n        \x3c!-- /ko --\x3e\n    </ul>\n</div>\n'});function Ly(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}n.components.register("cs-delete-profile",{viewModel:class{constructor({candidateNumber:e}){this.candidateNumber=e,this.isDeleteProfileDialogVisible=Object(n.observable)(!1),this.isDeleteProfileInProgress=Object(n.observable)(!1),this.candidateSites=Object(n.pureComputed)(()=>{const e=[];return _d.applications().forEach(({siteName:t})=>{e.indexOf(t())<0&&e.push(t())}),e})}deleteProfile(){return this.isDeleteProfileInProgress(!0),dp.delete(this.candidateNumber()).then(this._handleDeleteProfileSuccess).catch(e=>this._handleError(e)).then(()=>{this.isDeleteProfileInProgress(!1),this.hideDeleteProfileDialog()})}_handleError(e){if("object"==typeof e&&"delete-profile-fail"===e.message){const{status:t}=_d.getByJobId(e.jobId);return bi.error(Object(l.a)("candidate-self-service.delete-fail-message",{public_status:t}))}return console.error(e),bi.error()}_handleDeleteProfileSuccess(){qo.a.cleanup(),h.a.go("home-page"),bi.successAfterLoaded(Object(l.a)("candidate-self-service.delete-profile-success-message"),500)}hideDeleteProfileDialog(){this.isDeleteProfileDialogVisible(!1)}showDeleteProfileDialog(){this.isDeleteProfileDialogVisible(!0)}},template:'<div class="candidate-self-service__delete-profile text-color-secondary">\n    <hr class="candidate-self-service__separator" />\n    <button\n        data-bind="i18n: \'candidate-self-service.delete-profile\', click: showDeleteProfileDialog"\n        class="candidate-self-service__delete-profile-button"\n    ></button>\n</div>\n\n<minimal-dialog params="isVisible: isDeleteProfileDialogVisible">\n    <dialog-body>\n        <div class="app-dialog__header">\n            <h2\n                class="cs-warning-dialog__title"\n                data-bind="i18n: \'candidate-self-service.delete-profile-warning-title\'"\n            ></h2>\n        </div>\n\n        <div\n            class="app-dialog__content cs-warning-dialog-body"\n            data-bind="\n        a11y.skipTo: {elementsFocused: \'.cs-warning-dialog__button\', skipToElement: \'.skip-navigation-link-dialog--active\' , updateSkip: isDeleteProfileDialogVisible()}"\n        >\n            <p data-bind="i18n: \'candidate-self-service.delete-profile-warning-text-top\'"></p>\n            <ul class="cs-warning-dialog__sites-list" data-bind="foreach: candidateSites">\n                <li data-bind="text: $data"></li>\n            </ul>\n            <p data-bind="i18n: \'candidate-self-service.delete-profile-warning-text-bottom\'"></p>\n        </div>\n\n        <div class="app-dialog__footer">\n            <div class="app-dialog__buttons-bar font-family-secondary text-color-primary">\n                <button\n                    class="\n                        button\n                        app-dialog__footer-button\n                        cs-warning-dialog__button cs-warning-dialog__button--danger\n                    "\n                    data-bind="click: deleteProfile, disable: isDeleteProfileInProgress"\n                >\n                    <inline-spinner\n                        params="isLoading: isDeleteProfileInProgress, i18n: \'candidate-self-service.delete-profile\'"\n                    ></inline-spinner>\n                </button>\n                <button\n                    class="button app-dialog__footer-button cs-warning-dialog__button"\n                    data-bind="click: hideDeleteProfileDialog"\n                >\n                    <span class="button__label" data-bind="i18n: \'general.cancel-button\'"></span>\n                </button>\n            </div>\n        </div>\n    </dialog-body>\n</minimal-dialog>\n'});function Ny(){return Is.a.isCandidateVerified()?Promise.resolve():Promise.reject({redirectTo:"home-page"})}n.components.register("cs-update-profile",{viewModel:class{constructor(){Ly(this,"onDialogClose",()=>{my.reloadUser.dispatch()}),Ly(this,"showUpdateDialog",()=>this.isUpdateDialogVisible(!0)),Ly(this,"hideUpdateDialog",()=>this.isUpdateDialogVisible(!1)),this.isUpdateDialogVisible=Object(n.observable)(!1),this.isTalentCommunityFlowConfigured=Object(n.observable)(!1),Ml.hide.add(this.hideUpdateDialog),this._checkTalentCommunityFlow()}_checkTalentCommunityFlow(){Hm.query().then(e=>this.isTalentCommunityFlowConfigured(Boolean(e)))}dispose(){Ml.hide.remove(this.hideUpdateDialog)}},template:"\x3c!-- ko if: isTalentCommunityFlowConfigured --\x3e\n<button\n    class=\"context-menu__link\"\n    data-qa=\"edit-css-profile\"\n    data-bind=\"click: showUpdateDialog,\n            i18n: 'candidate-self-service.edit-personal-information-button',\n            i18nAttr: {'title': 'candidate-self-service.edit-personal-information-button'},\n            a11y.skipTo: {elementsFocused: '.candidate-self-service__update-profile'}\"\n></button>\n\n<minimal-dialog params=\"isVisible: isUpdateDialogVisible, afterClose: onDialogClose\">\n    <dialog-body>\n        \x3c!-- ko if: isUpdateDialogVisible --\x3e\n        <talent-community-update-flow></talent-community-update-flow>\n        \x3c!-- /ko --\x3e\n    </dialog-body>\n</minimal-dialog>\n\x3c!-- /ko --\x3e\n"}),h.a.configure({"candidate-self-service.sign-in":{parent:"minimal",url:"/my-profile/sign-in",view:{main:"cs-sign-in",dialogs:null},title:Object(l.a)("candidate-self-service.page-title"),canEnter:()=>Is.a.isCandidateVerified()?Promise.reject({redirectTo:"candidate-self-service"}):Promise.resolve()}}),h.a.configure({"candidate-self-service":{url:"/my-profile",view:{layout:"candidate-self-service",dialogs:null},title:Object(l.a)("candidate-self-service.page-title"),canEnter:()=>Ny()},"candidate-self-service.sign-in":{parent:"cx",url:"/my-profile/sign-in",canEnter:()=>Is.a.isCandidateVerified()?Promise.reject({redirectTo:"candidate-self-service"}):Promise.resolve()},"candidate-self-service-with-token":{url:"/my-profile/{token}",view:{layout:"candidate-self-service"},title:Object(l.a)("candidate-self-service.page-title"),enter(e){Object(Ru.d)({token:e.token})}},"candidate-self-service-not-me":{url:"/my-profile/{token}/talent-community/not-me",view:{layout:"candidate-self-service-action"},title:Object(l.a)("candidate-self-service.page-title")},"candidate-self-service.job-preview":{parent:"candidate-self-service",url:"/preview/{jobId}",view:{dialogs:"job-details-css"},canEnter:()=>Ny()},"candidate-self-service-unsubscribe-job-alerts":{url:"/my-profile/{token}/job-alerts/unsubscribe",view:{layout:"candidate-self-service-action"}},"candidate-self-service-doi-accept":{url:"/my-profile/{token}/doi/accept",view:{layout:"candidate-self-service-action"}}});class My extends Yu{constructor(){var e,t,i;super(),i=()=>{this._resetScroll(),this._initialize()},(t="reloadUser")in(e=this)?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,this.candidateFullName=Object(n.observable)(),this.candidateEmail=Object(n.observable)(),this.candidateNumber=Object(n.observable)(),this.isCandidateCwk=Object(n.observable)(),this.jobAlerts=Object(n.observableArray)([]),this.applicationsLoaded=Object(n.observable)(!1),this.lastRequisitionId=Object(n.observable)(0),this.showJobsToCandidate=Object(n.pureComputed)(()=>this.lastRequisitionId()>0),this.isJobsToCandidateComponentReady=Object(n.observable)(!1),this.showSkeletonForJobsToCandidate=Object(n.pureComputed)(this._shouldShowSkeletonForJobsToCandidate,this),this.isTalentCommunityFlowConfigured=Object(n.observable)(!1),this.isDeleteProfileDialogVisible=Object(n.observable)(!1),this.isDeleteProfileInProgress=Object(n.observable)(!1),this.isUpdateDialogVisible=Object(n.observable)(!1),this.enableOptInCSS=Object(n.observable)(!1),this.isPinRequired=Object(n.observable)(),this.isOptionsShown=Object(n.observable)(!1),this.isEditProfileOpen=Object(n.observable)(!1),this.isKeepMeSignedInEnabled=Object(n.observable)(Fu.a.isEnabled()),this.isTCSectionReady=Object(n.observable)(!1),this.showSkeletonForTCSection=Object(n.pureComputed)(this._shouldShowSkeletonForTCSection.bind(this)),this.isClickOutsideActive=Object(n.pureComputed)(()=>this.isOptionsShown()&&!this.isEditProfileOpen()),this.showDeleteProfileLink=Object(n.pureComputed)(()=>!this.isCandidateCwk()),this.reloadUser(),this._initialize=this._initialize.bind(this),my.reloadUser.add(this.reloadUser)}onPinValid(){this.isPinRequired(!1),this._initialize()}async _initialize(){ju.isChallengeRequired()&&(await this._triggerChallenge().then(this._onTriggeredChallenge.bind(this)).catch(e=>{this._handleError(e),this.isPinRequired(ju.isChallengeRequired())}),this.isPinRequired())?Bt.a.loaded.dispatch():(this.isEditProfileOpen(!1),this.isOptionsShown(!1),this._initializeWithToken())}_initializeWithToken(){this._verifyToken().then(this._onTokenVerified).then(this._loadCandidateData.bind(this)).then(this._getPreferencesOptIn.bind(this)).catch(this._handleError.bind(this)).then(Bt.a.loaded.dispatch)}async _loadCandidateData(e){fy.clear(),_d.clear();const t=await Ty.getSiteNames();return Promise.all([this._loadApplications(t),this._loadDrafts(t),this._loadCandidate(e)])}_onTokenVerified(e){return Bt.a.loaded.dispatch(),e}_loadApplications(e){return Ed.getAll().then(t=>((e,t)=>e.map(e=>(e.siteName(t[e.siteNumber()]),e)))(t,e)).then(this._setApplications.bind(this))}_loadDrafts(e){return ru.getCandidateDrafts().then(t=>((e,t)=>e.map(e=>({...e,siteName:t[e.siteNumber]})))(t,e)).then(ru.mergeDraftsAndJobsDetails).then(e=>e.sort((e,t)=>Cd(e.modificationDateOrigianl,t.modificationDateOrigianl))).then(e=>fy.setLoadedData(e))}_shouldShowSkeletonForJobsToCandidate(){return!this.applicationsLoaded()||!(this.applicationsLoaded()&&!this.showJobsToCandidate())&&!this.isJobsToCandidateComponentReady()}_shouldShowSkeletonForTCSection(){const e=this.enableOptInCSS()||this.isTCOptInEnabled();return!this.isTCSectionReady()&&!e}toggleMenuOptions(){this.isOptionsShown(!this.isOptionsShown())}signOut(){qo.a.signOut().then(()=>h.a.go("home-page"))}onEditProfile(){this.isEditProfileOpen(!0)}closeMenu(){this.isOptionsShown(!1)}signOutAll(){qo.a.signOutAll().then(()=>h.a.go("home-page"))}async _setApplications(e){if(_d.setLoadedData(e),e.length){const t=await Ed.getLastPostedApplicationReqId(e);this.lastRequisitionId(t)}this.applicationsLoaded(!0)}_loadCandidate(e){return dp.get(e.candidateNumber).then(({displayName:e,email:t,candidateNumber:i,cwkCandidateFlag:n})=>{this.candidateFullName(e),this.candidateEmail(t),this.candidateNumber(i),this.isCandidateCwk(n)})}isTCOptInEnabled(){return c.a.tcOptInEnabled}_getPreferencesOptIn(){return _m.getPreferences(this.candidateNumber()).then(e=>{this.enableOptInCSS(void 0!==e.optIn)}).finally(()=>{this.isTCSectionReady(!0)})}_handleDeleteProfileSuccess(){return this._redirectToHomePage({notificationKey:"candidate-self-service.delete-profile-success-message",destroyToken:!0})}_handleConfirmSuccess(){return h.a.go("candidate-self-service").then(()=>bi.successAfterLoaded(Object(l.a)("talent-community.welcome-message"),500))}_handleError(e){return"token-invalid"===e||"token-expired"===e?(h.a.go("home-page"),void bi.error(Object(l.a)("general.error-token-expired.header"))):e===Ao.a||e===Ao.g?(this.verificationStatus(Ao.a),void this.isPinRequired(!0)):void super._handleError(e)}_redirectToHomePage({notificationKey:e,destroyToken:t}){return t&&Is.a.destroy(),h.a.go("home-page").then(()=>bi.successAfterLoaded(Object(l.a)(e),500))}_verifyToken(){return Is.a.accessCodeExists()?Promise.resolve(Is.a.get()):Is.a.verifyToken(h.a.routeParams().token)}_onTriggeredChallenge(e){this.handleMergedCandiate(),this.isPinRequired(e)}async _setApplicationsSiteName(e){try{const t=await Ty.getSiteNames();e.forEach(e=>{e.siteName(t[e.siteNumber()])})}catch(e){console.error(e)}return e}_resetScroll(){$s.scrollTo(0)}}const Vy=["candidate-self-service-not-me","candidate-self-service-unsubscribe-job-alerts","candidate-self-service-doi-accept"];class By extends My{_isSupportedAction(){return Vy.includes(h.a.route().id)&&!ju.isChallengeRequired()}_initialize(){const e={"candidate-self-service-not-me":this._markAsNotMe,"candidate-self-service-unsubscribe-job-alerts":this._unsubscribeJobAlerts,"candidate-self-service-doi-accept":this._doiAcceptConfirm};this.token=h.a.routeParams().token,this.action=null,e[h.a.route().id]&&(this.action=e[h.a.route().id]),super._initialize()}_initializeWithToken(){this._isSupportedAction()?this._performAction().catch(this._handleError.bind(this)).then(Bt.a.loaded.dispatch):super._initializeWithToken()}_performAction(){if(this.action){const e=this.action.bind(this);return this.action=null,e()}return null}_markAsNotMe(){return Is.a.verifyToken(this.token).then(this._handleNotMeSuccess.bind(this)).catch(this._handleError.bind(this))}_unsubscribeJobAlerts(){return Is.a.verifyToken(this.token).then(this._handleUnsubscribeJobAlertsSuccess.bind(this)).catch(this._handleError.bind(this))}_handleConfirmWithoutAuthorizationSuccess(){return h.a.go("home-page").then(()=>bi.successAfterLoaded(Object(l.a)("talent-community.thank-you-message"),500))}_doiAcceptConfirm(){return Is.a.verifyToken(this.token).then(this._handleDoiAcceptSuccess.bind(this)).catch(this._handleError.bind(this))}_handleDoiAcceptSuccess(){return this._redirectToHomePage({notificationKey:"candidate-self-service.doi-accept-confirmed"})}_handleNotMeSuccess(){return this._redirectToHomePage({notificationKey:"referral.not-me.header",destroyToken:!0})}_handleUnsubscribeJobAlertsSuccess(){return this._redirectToHomePage({notificationKey:"candidate-self-service.unsubscribe-job-alerts-message"})}}n.components.register("candidate-self-service",{viewModel:{createViewModel:function(){return h.a.routeParams().token?new By:new My}},template:'<skip-navigation-link></skip-navigation-link>\n<notifications></notifications>\n\n<div class="app__viewport">\n    <div class="app__wrapper candidate-self-service__header-wrapper">\n        <header class="app-header apply-flow-header candidate-self-service-header">\n            <div class="apply-flow-header__content">\n                <div class="app-header__current-page text-color-secondary">\n                    <button\n                        class="app-header-icon-button app-header__close"\n                        data-bind="route: \'home-page\', i18nAttr: {title: \'apply-flow.a11y.close\'} "\n                    >\n                        <span class="app-header-icon-button__icon app-header__close-icon"></span>\n                    </button>\n\n                    <span class="app-header__spacer app-header__close-spacer"></span>\n\n                    <div\n                        class="app-header__current-page-title"\n                        data-bind="i18n: \'candidate-self-service.page-title\'"\n                    ></div>\n                </div>\n                <div\n                    class="app-header__gear-icon"\n                    data-bind="clickOutside: { action: closeMenu, when: isClickOutsideActive }"\n                >\n                    <button\n                        class="candidate-self-service__toolbar-button"\n                        type="button"\n                        data-bind="\n                        click: $component.toggleMenuOptions, \n                        css: {\'candidate-self-service__toolbar-button--focused\': $component.isOptionsShown },\n                        i18nAttr: {\'title\': \'candidate-self-service.show-menu-options\'},\n                        attr: {\'aria-expanded\': isOptionsShown }"\n                    >\n                        <i class="icon-gear"></i>\n                    </button>\n\n                    <div\n                        class="context-menu candidate-self-service__options"\n                        data-bind="\n                            css: {\'candidate-self-service__options--active\': isOptionsShown },\n                        "\n                    >\n                        <ul class="context-menu__list">\n                            <li class="context-menu__item" data-bind="click: onEditProfile">\n                                \x3c!-- ko if: candidateNumber() && !isPinRequired() --\x3e\n                                <cs-update-profile></cs-update-profile>\n                                \x3c!-- /ko --\x3e\n                            </li>\n                            \x3c!-- ko if: isKeepMeSignedInEnabled --\x3e\n                            <li class="context-menu__item">\n                                <button\n                                    class="context-menu__link"\n                                    data-bind="click: $component.signOut,\n                                    i18nAttr: {\'title\': \'candidate-self-service.sign-out-from-current-device\'}"\n                                >\n                                    <span\n                                        data-bind="i18n: \'candidate-self-service.sign-out-from-current-device\'"\n                                    ></span>\n                                </button>\n                            </li>\n                            <li class="context-menu__item">\n                                <button\n                                    class="context-menu__link"\n                                    data-bind="click: $component.signOutAll,\n                                    i18nAttr: {\'title\': \'candidate-self-service.sign-out-from-all-devices\'}"\n                                >\n                                    <span\n                                        data-bind="i18n: \'candidate-self-service.sign-out-from-all-devices\'"\n                                    ></span>\n                                </button>\n                            </li>\n                            \x3c!-- /ko --\x3e\n                            \x3c!-- ko ifnot: isKeepMeSignedInEnabled --\x3e\n                            <li class="context-menu__item">\n                                <button\n                                    class="context-menu__link"\n                                    data-bind="click: $component.signOutAll,\n                                    i18nAttr: {\'title\': \'candidate-self-service.sign-out\'}"\n                                >\n                                    <span data-bind="i18n: \'candidate-self-service.sign-out\'"></span>\n                                </button>\n                            </li>\n                            \x3c!-- /ko --\x3e\n                        </ul>\n                    </div>\n                </div>\n            </div>\n            <div class="apply-flow-header__background candidate-self-service-header__background"></div>\n        </header>\n\n        \x3c!-- ko if: isPinRequired --\x3e\n        <main class="candidate-self-service__content" role="main">\n            <div class="candidate-self-service__section">\n                <div class="candidate-self-service__section-content">\n                    \x3c!-- ko template: \'candidate-verification-pin-code-required\' --\x3e\x3c!-- /ko --\x3e\n                </div>\n            </div>\n        </main>\n        \x3c!-- /ko --\x3e\n\n        \x3c!-- ko if: !isPinRequired() --\x3e\n        <main role="main" class="app__content candidate-self-service__content">\n            <div class="candidate-self-service__section">\n                <div class="candidate-self-service__section-content">\n                    <div class="candidate-self-service__personal-information font-family-primary">\n                        <span class="icon-candidate-avatar" aria-hidden="true"></span>\n                        <h1\n                            class="candidate-self-service__name text-color-primary"\n                            data-bind="text: candidateFullName"\n                        ></h1>\n                        <p\n                            class="candidate-self-service__email text-color-secondary"\n                            data-bind="text: candidateEmail"\n                        ></p>\n                    </div>\n\n                    \x3c!-- ko ifnot: candidateNumber --\x3e\n                    <div class="skeleton-box">\n                        <div class="skeleton skeleton-box__item candidate-self-service__name-skeleton"></div>\n                        <div class="skeleton skeleton-box__item candidate-self-service__email-skeleton"></div>\n                    </div>\n                    \x3c!-- /ko --\x3e\n\n                    <cs-applications></cs-applications>\n\n                    \x3c!-- ko if: showSkeletonForJobsToCandidate --\x3e\n                    <div class="skeleton candidate-self-service__jobs-to-candidate-skeleton"></div>\n                    \x3c!-- /ko --\x3e\n                </div>\n            </div>\n\n            <div class="candidate-self-service__section candidate-self-service__section--alternate">\n                <div class="candidate-self-service__section-content">\n                    \x3c!-- ko if: showJobsToCandidate --\x3e\n                    <div class="candidate-self-service__jobs-to-candidate">\n                        \x3c!-- ko component: { \n                                    name: \'search-jobs-to-candidate\', \n                                    params: {\n                                        requisitionId: lastRequisitionId(),\n                                        className: \'cs-ai-jobs-search\',\n                                        isReady: isJobsToCandidateComponentReady\n                                    }\n                                } --\x3e\n                        \x3c!-- /ko --\x3e\n                    </div>\n                    \x3c!-- /ko--\x3e\n                </div>\n            </div>\n\n            <div class="candidate-self-service__section">\n                <div class="candidate-self-service__section-content">\n                    \x3c!-- ko if: showSkeletonForTCSection --\x3e\n                    <div class="cs-talent-community">\n                        <div class="skeleton cs-talent-community__skeleton"></div>\n                    </div>\n                    \x3c!-- /ko --\x3e\n\n                    \x3c!-- ko if: isTCOptInEnabled() || enableOptInCSS() --\x3e\n                    <cs-talent-community\n                        params="candidateNumber: candidateNumber, enableOptInCSS: enableOptInCSS, isTCOptInEnabled: isTCOptInEnabled"\n                    ></cs-talent-community>\n                    \x3c!-- /ko --\x3e\n\n                    \x3c!-- ko if: showDeleteProfileLink --\x3e\n                    <cs-delete-profile params="candidateNumber: candidateNumber"></cs-delete-profile>\n                    \x3c!-- /ko --\x3e\n                </div>\n            </div>\n        </main>\n        \x3c!-- /ko --\x3e\n\n        \x3c!-- ko view: \'dialogs\' --\x3e\n        \x3c!-- /ko --\x3e\n    </div>\n</div>\n'}),n.components.register("candidate-self-service-action",{viewModel:By,template:"<skip-navigation-link></skip-navigation-link> <notifications></notifications>\n"});const qy=window.parent;qy&&Ft.dispatch("preview-ready",null,qy),Ft.add("change-preview-route",e=>{h.a.go(e.name,e.params||{})});var Uy={mapAddThisToConfig:e=>({ADDTHIS_PROFILE_ID:e.profileId,ADDTHIS_INLINE_FOLLOW_CODE:e.inlineFollowCode,ADDTHIS_INLINE_SHARE_CODE:e.inlineShareCode,ADDTHIS_RELATED_POST_CODE:e.relatedPostCode})},Hy={mapChatbotToConfig:e=>({CHATBOT_ENABLED:e.isChatbotEnabled?"Y":"N"})},$y=i(90);Ft.add("store-site",e=>{var t;e.cookies=ki.mapCookiesToConfig(e.cookies),e.addThis=Uy.mapAddThisToConfig(e.addThis),e.chatbot=Hy.mapChatbotToConfig(e.chatbot),e.facets=(t=e.facets,{LOCATIONS_FACET_ENABLED:String(t.locationsEnabled),WORK_LOCATIONS_FACET_ENABLED:String(t.workLocationsEnabled),CATEGORIES_FACET_ENABLED:String(t.categoriesEnabled),ORGANIZATIONS_FACET_ENABLED:String(t.organizationsEnabled),TITLES_FACET_ENABLED:String(t.titlesEnabled),POSTING_DATES_FACET_ENABLED:String(t.postingDatesEnabled)}),c.a.setSite(e),$y.a.reload()});var Jy={store(e){const t={headerMode:(a=e.customHeader,a?4:1),footerMode:(n=e.templateFooter,s=e.customFooter,n||s?n&&!s?1:!n&&s?2:4:0),template:{welcomeText:e.welcomeText},theme:{brand:e.brand,cssStyles:e.cssStyles},themeSettings:(i=e.themeSettings,{PARALLAX_ENABLED:i.parallaxEnabled?"true":"false"})};var i,n,s,a;J.a.store("cx-theme-config",t)},restore:()=>J.a.restore("cx-theme-config"),remove(){J.a.remove("cx-theme-config")}};Ft.add("store-theme",e=>{Jy.store(e),c.a.setTheme(Jy.restore())}),Ft.add("restore-theme",()=>{const e=Jy.restore();c.a.setTheme(e)}),Ft.add("clear-stored-theme",()=>{Jy.remove()}),Ft.add("update-theme",(function(e){At.welcomeTextUpdated.dispatch(e.welcomeText),At.customHeaderUpdated.dispatch(e.customHeader,e.brand.headerHtml),At.customFooterUpdated.dispatch(e.customFooter,e.brand.footerHtml),At.templateFooterUpdated.dispatch(e.templateFooter),At.stylesUpdated.dispatch(e.generatedCustomCSS,e.brand),At.customCssUpdated.dispatch(e.brand.customCss),At.customJsUpdated.dispatch(e.brand.customJs,e.customJsEnabled),At.customFontsUpdated.dispatch(e.customFonts),At.themeSettingsUpdated.dispatch(e.themeSettings),At.logoImageUrl.dispatch(e.brand.logoImageUrl),At.mobileLogoImageUrl.dispatch(e.brand.mobileLogoImageUrl),At.frontImageUrl.dispatch(e.brand.frontImageUrl)}));class zy{constructor(e){this.title=e,this.styleSheet=this._getStylesheetElement()}applyCSS(e){this.styleSheet.innerText=e}_getStylesheetElement(){const e=document.querySelector(`[title="${this.title}"]`),t=document.createElement("style");return e.parentNode.insertBefore(t,e.nextSibling),t}}class Wy{constructor(e){this.customCss=document.getElementById(e)||this._createElement(e)}_createElement(e){const t=document.createElement("style");return t.id=e,document.head.appendChild(t),t}update(e){this.customCss.innerText=e}}class Ky{constructor(e){this.customJsId=e,this.currentScriptValue=""}_removeElement(){const e=document.getElementById(this.customJsId);e&&e.parentNode&&e.parentNode.removeChild(e)}_createElement(e){const t=document.createElement("script");t.id=this.customJsId;const i=document.createTextNode(e);return t.appendChild(i),document.head.appendChild(t),t}update(e,t){this._removeElement(),t&&e&&e!==this.currentScriptValue&&(this._createElement(e),this.currentScriptValue=e)}}class Gy{constructor(e){this.fontsCss=document.getElementById(e)||this._createElement(e)}_createElement(e){const t=document.createElement("style");return t.id=e,document.head.appendChild(t),t}_buildFiles(e){return e.filter(e=>e&&e.url).map(e=>`url('${e.url}') format('${e.type}')`).join(", ")}_buildRules(e){return e.variants.sort(e=>"italic"===e.style?-1:1).reduce((t,i)=>{const[n]=i.files.filter(e=>"woff2"===e.type),[s]=i.files.filter(e=>"woff"===e.type),a=this._buildFiles([n,s]);return`${t}\n                @font-face {\n                    font-family: '${e.name}';\n                    font-style: ${i.style};\n                    font-weight: ${i.weight};\n                    src: ${a};\n                }`},"")}update(e){this.fontsCss.innerText=e.reduce((e,t)=>e+this._buildRules(t),"")}}new function(){const e=new zy("cx-custom"),t=new Wy("custom-css"),i=new Ky("custom-js"),n=new Gy("custom-fonts");this.updateStyles=t=>e.applyCSS(t),this.updateCustomCss=e=>t.update(e),this.updateCustomFonts=e=>n.update(e),this.updateCustomJs=(e,t)=>i.update(e,t),At.stylesUpdated.add(this.updateStyles),At.customCssUpdated.add(this.updateCustomCss),At.customJsUpdated.add(this.updateCustomJs),At.customFontsUpdated.add(this.updateCustomFonts)};var Yy=i(92);const Qy={[Ln.b.full]:["500 Oracle Parkway, Redwood Shores, CA, 94065 United States","315 Park Avenue South, New York, NY, 10010 United States"],[Ln.b.zipCode]:["94065","10010"],[Ln.b.name]:["Redwood Shores","New York"],[Ln.b.none]:[]};n.components.register("fake-job-details",{viewModel:class extends zs{loadJob(){return Yy.workLocations=function(){const e=c.a.getSettingByKey(Ln.a);return Qy[e]}(),this.job(Yy),this.loaded(!0),Promise.resolve(Yy)}},template:Ks}),h.a.configure({"fake-job-details":{parent:"minimal",url:"/fake-job/{jobId}:?query:",view:{main:"search",dialogs:"fake-job-details"}}}),h.a.configure({"interview-self-schedule":{url:"/my-profile/interview/self-schedule/{id}/{token}",title:Object(l.a)("candidate-self-service.page-title"),view:{layout:"interview-scheduling","interview-scheduling-content":"self-schedule"},enter(e){Object(Ru.d)({token:e.token})}},"interview-self-re-schedule":{url:"/my-profile/interview/self-schedule/{id}/{requestId}/{token}",title:Object(l.a)("candidate-self-service.page-title"),view:{layout:"interview-scheduling","interview-scheduling-content":"self-schedule"},enter(e){Object(Ru.d)({token:e.token})}},"interview-detail":{url:"/my-profile/interview/detail/{id}",title:Object(l.a)("candidate-self-service.page-title"),view:{layout:"interview-scheduling","interview-scheduling-content":"interview-detail"},canEnter:()=>Is.a.isCandidateVerified()?Promise.resolve():Promise.reject({redirectTo:"home-page"})},"interview-detail-with-token":{url:"/my-profile/interview/detail/{id}/{token}",title:Object(l.a)("candidate-self-service.page-title"),view:{layout:"interview-scheduling","interview-scheduling-content":"interview-detail"},enter(e){Object(Ru.d)({token:e.token})}}});var Zy=i(65);n.components.register("schedule-date-time",{viewModel:class{constructor(e){this.scheduleDateTime=e.scheduleDateTime,this.date=Object(n.pureComputed)(()=>this._formatDateFull(this.scheduleDateTime().startTime())),this.timeSlot=Object(n.pureComputed)(()=>this._getTimeSlot())}_formatDateFull(e){const t=Object(n.unwrap)(e);return t?ye.date.formatFull(t):null}_getTimeSlot(){const e=this._formatTimeShort(this.scheduleDateTime().startTime()),t=this._formatTimeShort(this.scheduleDateTime().endTime()),i=Object(Zy.a)();let n=null;return e&&t&&(n=e.concat(" - ").concat(t).concat(" ").concat(i)),n}_formatTimeShort(e){const t=Object(n.unwrap)(e);return t?ye.time.formatShort(t):null}},template:'<div class="schedule-date-time">\n    <div data-bind="text: date"></div>\n    <div data-bind="text: timeSlot"></div>\n</div>\n'});n.components.register("schedule-info",{template:'<div class="schedule-info" data-bind="with: scheduleInfo">\n    \x3c!-- ko if: address --\x3e\n    <div class="schedule-info__element">\n        <div\n            class="schedule-info__label"\n            data-bind="i18n: \'interview-scheduling.schedule-info-component.location\'"\n        ></div>\n        <div class="schedule-info__value" data-bind="text: address"></div>\n    </div>\n    \x3c!-- /ko --\x3e\n    \x3c!-- ko if: phoneFormatted --\x3e\n    <div class="schedule-info__element">\n        <div\n            class="schedule-info__label"\n            data-bind="i18n: \'interview-scheduling.schedule-info-component.phone-number\'"\n        ></div>\n        <div class="schedule-info__value" data-bind="text: phoneFormatted"></div>\n    </div>\n    \x3c!-- /ko  --\x3e\n    \x3c!-- ko if: phonePasscode --\x3e\n    <div class="schedule-info__element">\n        <div\n            class="schedule-info__label"\n            data-bind="i18n: \'interview-scheduling.schedule-info-component.phone-passcode\'"\n        ></div>\n        <div class="schedule-info__value" data-bind="text: phonePasscode"></div>\n    </div>\n    \x3c!-- /ko  --\x3e\n    \x3c!-- ko if: webConferenceUrl --\x3e\n    <div class="schedule-info__element">\n        <div\n            class="schedule-info__label"\n            data-bind="i18n: \'interview-scheduling.schedule-info-component.web-conference\'"\n        ></div>\n        <div class="schedule-info__value" data-bind="text: webConferenceUrl"></div>\n    </div>\n    \x3c!-- /ko --\x3e\n    \x3c!-- ko if: interviewerNames --\x3e\n    <div class="schedule-info__element">\n        <div\n            class="schedule-info__label"\n            data-bind="i18n: \'interview-scheduling.schedule-info-component.interviewers\'"\n        ></div>\n        <div class="schedule-info__value" data-bind="text: interviewerNames"></div>\n    </div>\n    \x3c!-- /ko --\x3e\n    \x3c!-- ko if: locationDetail --\x3e\n    <div class="schedule-info__element">\n        <div\n            class="schedule-info__label"\n            data-bind="i18n: \'interview-scheduling.schedule-info-component.location-detail\'"\n        ></div>\n        <div class="schedule-info__value" data-bind="text: locationDetail"></div>\n    </div>\n    \x3c!-- /ko --\x3e\n</div>\n'});n.components.register("reschedule-info",{template:'<p\n    class="interview-detail__message interview-detail__message--danger text-color-danger"\n    data-bind="with: interviewModel"\n>\n    \x3c!-- ko if: reScheduleLimit() === 1 --\x3e\n    <span\n        data-bind="i18n: \'interview-scheduling.interview-action-component.messages.reschedule-last-limit\'"\n    ></span>\n    \x3c!-- /ko --\x3e\n</p>\n'});n.components.register("schedule-row",{viewModel:class{constructor(e){this.scheduleRow=e.scheduleRow,this.groups=this._splitGroups()}formatDateLong(e){return e?ye.date.formatLong(e):null}formatWeekDayLong(e){return e?ye.weekDay.formatLong(e):null}_splitGroups(){const{interviews:e}=this.scheduleRow,t=Object(n.observableArray)(),i=Math.ceil(e.length/4);for(let s=0;s<i;s++){const i=Object(n.observableArray)(e.slice(4*s,4*(s+1)));t.push(i)}return t}},template:'<div class="schedule-row">\n    <div class="schedule-row__day">\n        <div\n            class="schedule-row__title text-color-primary"\n            data-bind="text: formatWeekDayLong(scheduleRow.date)"\n        ></div>\n        <div\n            class="schedule-row__date text-color-secondary"\n            data-bind="text: formatDateLong(scheduleRow.date)"\n        ></div>\n    </div>\n    <div class="schedule-row__timeslots">\n        \x3c!-- ko foreach: {data: groups, as: \'interviewGroups\'} --\x3e\n        <div class="schedule-row__button-group">\n            \x3c!-- ko foreach: {data: interviewGroups, as: \'interviews\'} --\x3e\n            \x3c!-- ko component: { name: \'schedule-row-button\', params: {scheduleRowButton: interviews} } --\x3e\n            \x3c!-- /ko --\x3e\n            \x3c!-- /ko --\x3e\n        </div>\n        \x3c!-- /ko --\x3e\n    </div>\n</div>\n'});var Xy={showConfirmDialog:new Ot.a};class ex{constructor(e={}){this.scheduleId=e.scheduleId,this.preScheduleMessage=Object(n.observable)(e.preScheduleMessage),this.interviewGroups=Object(n.observableArray)(e.interviewGroups)}}class tx{constructor(e={}){this.interviewId=e.interviewId,this.scheduleId=Object(n.observable)(e.scheduleId),this.requestId=e.requestId,this.submissionId=Object(n.observable)(e.submissionId),this.isScheduled=Object(n.observable)(e.isScheduled),this.address=e.address,this.phoneFormatted=e.phoneFormatted,this.phonePasscode=e.phonePasscode,this.webConferenceUrl=e.webConferenceUrl,this.jobTitle=Object(n.observable)(e.jobTitle),this.startTimeUTC=Object(n.observable)(e.startTimeUTC),this.startTime=Object(n.observable)(e.startTime),this.endTimeUTC=Object(n.observable)(e.endTimeUTC),this.endTime=Object(n.observable)(e.endTime),this.candidateMessage=Object(n.observable)(e.candidateNotes),this.interviewerNames=e.interviewerNames,this.reScheduleLimit=Object(n.observable)(e.reScheduleLimit),this.canSchedule=Object(n.observable)(e.canSchedule),this.canReSchedule=Object(n.observable)(e.canReSchedule),this.lockDuration=Object(n.observable)(e.lockDuration),this.canCancel=Object(n.observable)(e.canCancel),this.locationDetail=Object(n.observable)(e.locationDetail)}}var ix={mapFromRest:(e={})=>({name:e.displayName})};function nx(e=[]){return e.map(e=>ix.mapFromRest(e)).filter(e=>Boolean(e.name)).map(e=>e.name).join(", ")}function sx(e){const t=new Date(e.substring(0,19).concat("Z"));return de.IntlConverterUtils.dateToLocalIso(t)}function ax(e={}){return new tx({interviewId:e.interviewId,scheduleId:e.scheduleId,requestId:e.interviewRequestId,submissionId:e.submissionId,isScheduled:"Y"===e.isScheduled,address:e.formattedSingleLineAddress,phoneFormatted:e.formattedPhoneNumber,phonePasscode:e.phoneNumberPasscode,webConferenceUrl:e.webConferenceLink,jobTitle:e.jobTitle,startTimeUTC:e.startDate,startTime:sx(e.startDate),endTimeUTC:e.endDate,endTime:sx(e.endDate),canCancel:"Y"===e.canCancel,canSchedule:"Y"===e.canSchedule,canReSchedule:"Y"===e.canReschedule,reScheduleLimit:e.remainingRescheduleCount,locationDetail:e.locationDetails,interviewerNames:nx(e.ScheduleInterviewParticipants)})}var ox={mapFromRest:e=>ax(e),mapFromRestArray:e=>ax(e.items[0])};function rx(e,t,i=0){const n=new Date(e),s=new Date,a=new Date(s.getFullYear(),s.getMonth(),s.getDate()),o=new Date(new Date(a).setDate(a.getDate()+7*t)),r=o.getDay();let l;l=0===i?o.getDate()-r:o.getDate()-o.getDay()+(0===o.getDay()?-6:1);const c=new Date(new Date(o).setDate(l)),d=new Date(new Date(c).setDate(c.getDate()+7));return n>=c&&n<d}function lx(e){const t=e.reduce((e,t)=>{const i=t.startTime().substring(0,10);return e[i]||(e[i]={date:i,interviews:[]}),e[i].interviews.push(t),e},{});return Object.keys(t).map(e=>t[e])}function cx(e){const t=[];if(e&&e.length>0){const i={group:1,groupTitle:Object(l.a)("interview-scheduling.self-schedule.groups.group-1"),interviewDays:[]},n={group:2,groupTitle:Object(l.a)("interview-scheduling.self-schedule.groups.group-2"),interviewDays:[]},s={group:3,groupTitle:Object(l.a)("interview-scheduling.self-schedule.groups.group-3"),interviewDays:[]};e.forEach(e=>{const t=ox.mapFromRest(e),a=t.startTime();rx(a,0)?i.interviewDays.push(t):rx(a,1)?n.interviewDays.push(t):s.interviewDays.push(t)}),i.interviewDays=lx(i.interviewDays),n.interviewDays=lx(n.interviewDays),s.interviewDays=lx(s.interviewDays),t.push(i),t.push(n),t.push(s)}return t}var dx={mapFromRest(e){const t=e.items[0]||{};return new ex({scheduleId:t.scheduleId,interviewGroups:cx(t.Interviews)})}};class ux{constructor(e={}){this.interviewRequestId=e.requestId,this.interviewId=e.interviewId,this.submissionId=e.submissionId,this.actionType=e.actionType,this.message=e.message}}var px={mapScheduleActionToRest:(e,t,i)=>new ux({actionType:"SCHEDULE_INTERVIEW",requestId:e,interviewId:t,submissionId:i}),mapRescheduleActionToRest:(e,t)=>new ux({actionType:"RESCHEDULE_INTERVIEW",requestId:e,interviewId:t}),mapCancelActionToRest:e=>new ux({actionType:"CANCEL_INTERVIEW",requestId:e}),mapActionFromRest:e=>new ux({actionType:e.actionType,requestId:e.interviewRequestId,interviewId:e.interviewid,submissionId:e.submissionId,message:e.message})},hx={getInterviewScheduleDetail:(e,t)=>U.a.get(`/recruitingCEInterviewScheduleDetails?finder=findByScheduleId;ScheduleId=${e},SubmissionId=${t}&expand=Interviews&onlyData=true&limit=500`).then(dx.mapFromRest),getPreScheduleDetail:e=>e?U.a.get(`/recruitingCEInterviewScheduleDetails/${e}/enclosure/PreScheduleDetails`):Promise.resolve(null),getInterviewDetail(e,t){const i={InterviewId:e};return t&&(i.SubmissionId=t),U.a.get("/recruitingCEInterviewDetails?finder=findByInterviewId;:finderParams:&expand=ScheduleInterviewParticipants&onlyData=true",{params:{finderParams:i},paramsDelimiter:","}).then(ox.mapFromRestArray)},getPostScheduleDetail:e=>U.a.get(`/recruitingCEInterviewScheduleDetails/${e}/enclosure/PostScheduleDetails`),getCandidateNotes:e=>U.a.get(`/recruitingCEInterviewDetails/${e}/enclosure/CandidateNotes`),getLocationDetail:e=>U.a.get(`/recruitingCEInterviewDetails/${e}/enclosure/LocationDetails`).catch(()=>Promise.resolve()),scheduleInterview:(e,t,i)=>U.a.post("/recruitingCEInterviewActions",px.mapScheduleActionToRest(e,t,i)).then(px.mapActionFromRest),cancelInterview:e=>U.a.post("/recruitingCEInterviewActions",px.mapCancelActionToRest(e)).then(px.mapActionFromRest),reScheduleInterview:(e,t)=>U.a.post("/recruitingCEInterviewActions",px.mapRescheduleActionToRest(e,t)).then(px.mapActionFromRest)};n.components.register("schedule-row-button",{viewModel:class{constructor(e){this.scheduleRowButton=e.scheduleRowButton,this.time=this._formatTimeShort(this.scheduleRowButton.startTime()),this.model=Object(n.observable)()}_formatTimeShort(e){const t=Object(n.unwrap)(e);return t?ye.time.formatShort(t):null}openScheduleConfirmDialog(){hx.getInterviewDetail(this.scheduleRowButton.interviewId).then(e=>this.model(e)).then(()=>hx.getLocationDetail(this.model().interviewId).then(e=>this.model().locationDetail(e))).then(()=>{Xy.showConfirmDialog.dispatch({interviewModel:this.model()})})}},template:'<div class="schedule-row-button-wrapper">\n    <button\n        type="button"\n        class="schedule-row-button text-color-primary"\n        data-bind="text: time, click: openScheduleConfirmDialog"\n    ></button>\n</div>\n'});n.components.register("schedule-group-title",{viewModel:class{constructor(e){this.title=e.title,this.preferredTimezone=Object(Zy.a)()}},template:'<div class="schedule-group-title font-family-secondary text-color-secondary">\n    <div class="schedule-group-title__name" data-bind="text: title"></div>\n    <div\n        class="schedule-group-title__timezone"\n        data-bind="i18n: {key: \'interview-scheduling.self-schedule.groups.candidate-timezone\', tokens: {\'CANDIDATE_TIME_ZONE\': preferredTimezone }}"\n    ></div>\n</div>\n'});n.components.register("schedule-group",{viewModel:class{constructor(e){this.scheduleGroup=e.scheduleGroup,this.isDisplayed=this.scheduleGroup.interviewDays.length>0}},template:'\x3c!-- ko if: isDisplayed --\x3e\n<div class="schedule-group" data-bind="a11y.skipTo: {elementsContainer: \'.schedule-group\'}">\n    <schedule-group-title params="title: scheduleGroup.groupTitle"></schedule-group-title>\n    \x3c!-- ko foreach: {data: scheduleGroup.interviewDays, as: \'interviewDays\'} --\x3e\n    <schedule-row params="scheduleRow: interviewDays"></schedule-row>\n    \x3c!--/ko --\x3e\n</div>\n\x3c!--/ko --\x3e\n'});n.components.register("self-schedule",{viewModel:class extends Yu{constructor(){super(),this.model=Object(n.observable)(),this.submissionId=Object(n.observable)(),this.requestId=Object(n.observable)(),this.loaded=Object(n.observable)(!1),this.emptySchedule=Object(n.observable)(!1),this.preScheduleDetails=Object(n.observable)(),this.isPinRequired=Object(n.observable)(),this._initialize()}onPinValid(){this.isPinRequired(!1),this._initialize()}async _initialize(){ju.isChallengeRequired()&&(await this._triggerChallenge().then(e=>{this.isPinRequired(e)}).catch(e=>{this._handleError(e),this.isPinRequired(ju.isChallengeRequired())}),this.isPinRequired())?Bt.a.loaded.dispatch():this._verifyToken().then(()=>this._verifySubmission()).then(()=>this._load()).catch(e=>this._handleError(e)).then(()=>Bt.a.loaded.dispatch())}_verifySubmission(){if(!this.submissionId()){const{submissionId:e}=h.a.routeParams();e&&this.submissionId(e)}return Ed.getSubmission(this.submissionId()).catch(()=>Promise.reject("inactive-submission"))}_load(){this.loaded(!1),this.model(null);const{requestId:e,id:t,submissionId:i}=h.a.routeParams();return e&&this.requestId(e),i&&this.submissionId(i),hx.getInterviewScheduleDetail(t,this.submissionId()).then(e=>this.model(e)).then(()=>hx.getPreScheduleDetail(this.model().scheduleId)).then(e=>{this.preScheduleDetails(e),this.emptySchedule(this.model()&&0===this.model().interviewGroups().length)}).catch(()=>this.emptySchedule(!0)).then(()=>this.loaded(!0))}_verifyToken(){let e=null;return e=Is.a.accessCodeExists()&&this._submissionIdExists()?Promise.resolve(Is.a.get()):Is.a.verifyToken(h.a.routeParams().token),e.then(e=>{e.submissionId&&this.submissionId(e.submissionId),e.interviewRequestId&&this.requestId(e.interviewRequestId)})}_handleError(e){"inactive-submission"===e?bi.error(Object(l.a)("interview-scheduling.self-schedule.messages.inactive-submission")):super._handleError(e)}_submissionIdExists(){var e;return(null===(e=Is.a.get())||void 0===e?void 0:e.submissionId)||h.a.routeParams().submissionId}},template:'\x3c!-- ko if: isPinRequired --\x3e\n<div class="interview-scheduling-content__pin-code-required">\n    \x3c!-- ko template: \'candidate-verification-pin-code-required\' --\x3e\x3c!-- /ko --\x3e\n</div>\n\x3c!-- /ko --\x3e\n\n\x3c!-- ko ifnot: isPinRequired --\x3e\n<article class="self-schedule">\n    \x3c!-- ko ifnot: loaded --\x3e\n    <spinner class="spinner"></spinner>\n    \x3c!-- /ko --\x3e\n\n    \x3c!-- ko if: loaded --\x3e\n    <h1 class="interview-detail__title" data-bind="i18n: \'interview-scheduling.self-schedule.title\'"></h1>\n\n    \x3c!-- ko if: emptySchedule --\x3e\n    <p\n        class="interview-detail__message"\n        data-bind="i18n: \'interview-scheduling.self-schedule.messages.no-schedule\'"\n    ></p>\n    <interview-back-button></interview-back-button>\n    \x3c!-- /ko --\x3e\n\n    \x3c!-- ko ifnot: emptySchedule --\x3e\n    \x3c!-- ko if: preScheduleDetails --\x3e\n    <div class="interview-detail__message" data-bind="html: preScheduleDetails"></div>\n    \x3c!-- /ko --\x3e\n    \x3c!-- ko foreach: {data: model().interviewGroups, as: \'interviewGroups\'} --\x3e\n    <schedule-group params="scheduleGroup: interviewGroups"></schedule-group>\n    \x3c!-- /ko --\x3e\n    \x3c!-- /ko --\x3e\n\n    \x3c!-- /ko --\x3e\n</article>\n\n\x3c!-- ko if: loaded --\x3e\n<self-schedule-confirm-dialog\n    params="submissionId: submissionId, requestId: requestId"\n></self-schedule-confirm-dialog>\n\x3c!-- /ko --\x3e\n\x3c!-- /ko --\x3e\n'});n.components.register("interview-detail",{viewModel:class extends Yu{constructor(){super(),this.model=Object(n.observable)(),this.submissionId=Object(n.observable)(),this.loaded=Object(n.observable)(!1),this.postScheduleDetails=Object(n.observable)(),this.candidateMessage=Object(n.observable)(),this.locationDetail=Object(n.observable)(),this.isInterviewCancelVisible=Object(n.observable)(!1),this.isPinRequired=Object(n.observable)(),this.routerParamsSubscription=h.a.routeParams.subscribe(this._initialize,this),this._initialize()}onPinValid(){this.isPinRequired(!1),this._initialize()}async _initialize(){ju.isChallengeRequired()&&(await this._triggerChallenge().then(e=>{this.isPinRequired(e)}).catch(e=>{this._handleError(e),this.isPinRequired(ju.isChallengeRequired())}),this.isPinRequired())?Bt.a.loaded.dispatch():this._verifyToken().then(()=>this._verifySubmission()).then(()=>this._load()).catch(e=>this._handleError(e)).then(()=>Bt.a.loaded.dispatch())}_verifySubmission(){if(!this.submissionId()){const{submissionId:e}=h.a.routeParams();e&&this.submissionId(e)}return Ed.getSubmission(this.submissionId()).catch(()=>Promise.reject("inactive-submission"))}_load(){return this.loaded(!1),this.model(null),hx.getInterviewDetail(h.a.routeParams().id,this.submissionId()).then(e=>this.model(e)).then(()=>{const e=hx.getPostScheduleDetail(this.model().scheduleId()).then(e=>this.postScheduleDetails(e)),t=hx.getCandidateNotes(this.model().interviewId).then(e=>this.candidateMessage(e)),i=hx.getLocationDetail(this.model().interviewId).then(e=>this.model().locationDetail(e));return Promise.all([e,t,i])}).then(()=>this.loaded(!0)).catch(this._handleError)}_verifyToken(){let e=null;return e=Is.a.accessCodeExists()&&this._submissionIdExists()?Promise.resolve(Is.a.get()):Is.a.verifyToken(h.a.routeParams().token),e.then(e=>{e.submissionId&&this.submissionId(e.submissionId)})}_handleError(e){"inactive-submission"!==e?e!==Ao.a&&e!==Ao.g?super._handleError(e):this.verificationStatus(Ao.a):bi.error(Object(l.a)("interview-scheduling.self-schedule.messages.inactive-submission"))}openInterviewCancelDialog(){this.isInterviewCancelVisible(!0)}reScheduleInterview(){h.a.go("interview-self-re-schedule",{id:this.model().scheduleId(),requestId:this.model().requestId})}_submissionIdExists(){var e;return(null===(e=Is.a.get())||void 0===e?void 0:e.submissionId)||h.a.routeParams().submissionId}dispose(){this.routerParamsSubscription.dispose()}},template:'\x3c!-- ko if: isPinRequired --\x3e\n<div class="interview-scheduling-content__pin-code-required">\n    \x3c!-- ko template: \'candidate-verification-pin-code-required\' --\x3e\x3c!-- /ko --\x3e\n</div>\n\x3c!-- /ko --\x3e\n\n\x3c!-- ko ifnot: isPinRequired --\x3e\n<article class="interview-detail" data-bind="a11y.skipTo: {elementsContainer: \'.interview-detail\'}">\n    \x3c!-- ko ifnot: loaded --\x3e\n    <spinner class="spinner"></spinner>\n    \x3c!-- /ko --\x3e\n\n    \x3c!-- ko if: loaded --\x3e\n    <h1\n        class="interview-detail__title"\n        data-bind="i18n: {key: \'interview-scheduling.interview-detail.title\', tokens: {\'JOB_TITLE\': model().jobTitle }}"\n    ></h1>\n\n    <schedule-date-time params="scheduleDateTime: model"></schedule-date-time>\n    <schedule-info params="scheduleInfo: model"></schedule-info>\n\n    \x3c!-- ko if: model().canReSchedule --\x3e\n    <button\n        type="button"\n        class="cs-button cs-button--link interview-detail__action theme-color-1"\n        data-bind="i18n: \'interview-scheduling.interview-detail.buttons.reschedule-interview\',\n                        click: reScheduleInterview"\n    ></button>\n    \x3c!-- /ko --\x3e\n\n    \x3c!-- ko if: model().canCancel --\x3e\n    <button\n        type="button"\n        class="cs-button cs-button--link interview-detail__action theme-color-1"\n        data-bind="i18n: \'interview-scheduling.interview-detail.buttons.cancel-interview\',\n                        click: openInterviewCancelDialog"\n    ></button>\n    \x3c!-- /ko --\x3e\n\n    \x3c!-- ko if: postScheduleDetails --\x3e\n    <div class="interview-detail__message" data-bind="html: postScheduleDetails"></div>\n    \x3c!-- /ko --\x3e\n\n    \x3c!-- ko if: candidateMessage --\x3e\n    <div class="interview-detail__message" data-bind="html: candidateMessage"></div>\n    \x3c!-- /ko --\x3e\n\n    <reschedule-info params="interviewModel: model"></reschedule-info>\n\n    <interview-back-button></interview-back-button>\n    \x3c!-- /ko --\x3e\n</article>\n\n\x3c!-- ko if: loaded --\x3e\n<interview-cancel-dialog\n    params="isVisible: isInterviewCancelVisible, requestId: model().requestId"\n></interview-cancel-dialog>\n\x3c!-- /ko --\x3e\n\x3c!-- /ko --\x3e\n'});n.components.register("scheduled-interview-action",{viewModel:class{constructor(e){this.interview=e.interview,this.isScheduled=Object(n.observable)(!1),this.canReschedule=Object(n.observable)(!1),this.interview&&(this.isScheduled(this.interview.isScheduled()),this.canReschedule(this.interview.isReschedulable())),this.viewDetail=this.viewDetail.bind(this)}viewDetail(){h.a.go("interview-detail",{id:this.interview.interviewId(),submissionId:this.interview.submissionId()})}reScheduleInterview(){h.a.go("interview-self-re-schedule",{id:this.interview.scheduleId(),requestId:this.interview.interviewRequestId()})}},template:'<ul class="cs-application-actions">\n    \x3c!-- ko if: isScheduled --\x3e\n    <li class="cs-application-actions__action cs-application-actions__action--success">\n        <span\n            class="cs-application-actions__info"\n            data-bind="i18n: \'interview-scheduling.interview-action-component.scheduled-text\'"\n        ></span>\n        <button\n            type="button"\n            class="cs-button cs-button--link theme-color-1"\n            data-bind="click: viewDetail, i18n: \'interview-scheduling.interview-action-component.buttons.view-detail\'"\n        ></button>\n        \x3c!-- ko if: canReschedule --\x3e\n        <button\n            type="button"\n            class="cs-button cs-button--link theme-color-1"\n            data-bind="click: reScheduleInterview, i18n: \'interview-scheduling.interview-action-component.buttons.reschedule-interview\'"\n        ></button>\n        \x3c!-- /ko --\x3e\n    </li>\n    \x3c!-- /ko --\x3e\n</ul>\n'});n.components.register("unscheduled-interview-action",{viewModel:class{constructor(e){this.interviewRequest=e.interviewRequest,this.canSchedule=Object(n.observable)(!1),this.interviewRequest&&this.canSchedule(this.interviewRequest.isSchedulable())}scheduleInterview(){h.a.go("interview-self-schedule",{id:this.interviewRequest.scheduleId(),requestId:null,submissionId:this.interviewRequest.submissionId()})}},template:'<ul class="cs-application-actions">\n    <li class="cs-application-actions__action cs-application-actions__action--warning">\n        <span\n            class="cs-application-actions__info"\n            data-bind="i18n: \'interview-scheduling.interview-action-component.invited-text\'"\n        ></span>\n        \x3c!-- ko if: canSchedule --\x3e\n        <button\n            type="button"\n            class="cs-button cs-button--link theme-color-1"\n            data-bind="click: scheduleInterview, i18n: \'interview-scheduling.interview-action-component.buttons.schedule-interview\'"\n        ></button>\n        \x3c!-- /ko --\x3e\n    </li>\n</ul>\n'});n.components.register("interview-back-button",{template:'<button\n    type="button"\n    class="button"\n    data-bind="i18n: \'interview-scheduling.interview-detail.buttons.back-to-my-profile\',\n                   route: \'candidate-self-service\'"\n></button>\n'});n.components.register("interview-cancel-dialog",{viewModel:class{constructor({isVisible:e,requestId:t}){this.isVisible=e,this.requestId=t,this.isCancelInProgress=Object(n.observable)(!1)}closeDialog(){this.isVisible(!1)}confirmCancel(){return this.isCancelInProgress(!0),hx.cancelInterview(this.requestId()).then(({message:e})=>{"CANCELLED"===e?(bi.success(Object(l.a)("interview-scheduling.interview-detail.messages.cancel-success")),h.a.go("candidate-self-service")):bi.error(Object(l.a)("interview-scheduling.interview-detail.errors.cancel-error"))}).catch(()=>{bi.error(Object(l.a)("interview-scheduling.interview-detail.errors.cancel-error"))}).then(()=>{this.isCancelInProgress(!1),this.closeDialog()})}dispose(){this.isVisible=null,this.interviewId=null}},template:'<minimal-dialog params="isVisible: isVisible">\n    <dialog-body>\n        <div class="app-dialog__header">\n            <h2 data-bind="i18n: \'interview-scheduling.interview-cancel.title\'"></h2>\n        </div>\n\n        <div class="app-dialog__footer">\n            <div class="app-dialog__buttons-bar">\n                <button\n                    class="button theme-color-1 app-dialog__footer-button cs-warning-dialog__button"\n                    data-bind="click: confirmCancel, disable: isCancelInProgress"\n                >\n                    <inline-spinner\n                        params="isLoading: isCancelInProgress, i18n: \'general.yes\'"\n                    ></inline-spinner>\n                </button>\n                <button\n                    class="button app-dialog__footer-button cs-warning-dialog__button"\n                    data-bind="i18n: \'general.no\', click: closeDialog"\n                ></button>\n            </div>\n        </div>\n    </dialog-body>\n</minimal-dialog>\n'});n.components.register("self-schedule-confirm-dialog",{viewModel:class{constructor({submissionId:e,requestId:t}){this.submissionId=e,this.interviewModel=Object(n.observable)(),this.isVisible=Object(n.observable)(!1),this.isScheduleConfirmDialogProgress=Object(n.observable)(!1),this.requestId=t,this.buttonLabel=Object(n.pureComputed)(()=>this.requestId()?"interview-scheduling.interview-detail.buttons.reschedule-interview":"interview-scheduling.schedule-confirm.buttons.schedule-interview"),this._scheduleConfirmDialogShowSignal=Xy.showConfirmDialog.add(({interviewModel:e})=>{this.interviewModel(e),this.isVisible(!0)})}closeDialog(){this.isVisible(!1)}confirm(){this.isScheduleConfirmDialogProgress(!0);const{interviewId:e}=this.interviewModel();return(this.requestId()?hx.reScheduleInterview(this.requestId(),e):hx.scheduleInterview(this.requestId(),e,this.submissionId())).then(({message:t})=>{"SCHEDULED"===t||"RESCHEDULED"===t?(bi.success(Object(l.a)("interview-scheduling.self-schedule.messages.schedule-success")),h.a.go("interview-detail",{id:e})):bi.error(Object(l.a)("interview-scheduling.self-schedule.errors.schedule-error"))}).catch(()=>{bi.error(Object(l.a)("interview-scheduling.self-schedule.errors.schedule-error"))}).then(()=>{this.isScheduleConfirmDialogProgress(!1),this.closeDialog()})}dispose(){this._scheduleConfirmDialogShowSignal.detach()}},template:'<minimal-dialog params="isVisible: isVisible">\n    <dialog-body>\n        \x3c!-- ko if: interviewModel--\x3e\n        <div class="app-dialog__header">\n            <h2\n                data-bind="i18n: {key: \'interview-scheduling.schedule-confirm.title\', tokens: {\'JOB_TITLE\': interviewModel().jobTitle }}"\n            ></h2>\n        </div>\n\n        <div class="app-dialog__content">\n            <schedule-date-time params="scheduleDateTime: interviewModel"></schedule-date-time>\n            <schedule-info params="scheduleInfo: interviewModel"></schedule-info>\n            <reschedule-info params="interviewModel: interviewModel"></reschedule-info>\n        </div>\n        \x3c!-- /ko --\x3e\n\n        <div class="app-dialog__footer">\n            <div class="app-dialog__buttons-bar">\n                <button\n                    class="button app-dialog__footer-button cs-warning-dialog__button"\n                    data-bind="click: confirm, disable: isScheduleConfirmDialogProgress"\n                >\n                    <inline-spinner\n                        params="isLoading: isScheduleConfirmDialogProgress,\n                                            i18n: buttonLabel"\n                    ></inline-spinner>\n                </button>\n                \x3c!-- <button class="button app-dialog__footer-button cs-warning-dialog__button"\n                        data-bind="i18n: \'general.cancel-button\', click: closeDialog"></button> --\x3e\n            </div>\n        </div>\n    </dialog-body>\n</minimal-dialog>\n'});n.components.register("interview-scheduling",{viewModel:class{constructor(){this.isCandidateVerified=Is.a.isCandidateVerified()}},template:'<skip-navigation-link></skip-navigation-link>\n<notifications></notifications>\n\n<div class="app__viewport">\n    <div class="app__wrapper">\n        <header class="app-header apply-flow-header candidate-self-service-header">\n            <div class="apply-flow-header__content">\n                <div class="app-header__current-page text-color-secondary">\n                    <button\n                        class="app-header-icon-button app-header__close"\n                        data-bind="route: \'candidate-self-service\', i18nAttr: {title: \'interview-scheduling.layout.back-button-label\'} "\n                    >\n                        <span class="app-header-icon-button__icon app-header__close-icon"></span>\n                    </button>\n\n                    <span class="app-header__spacer app-header__close-spacer"></span>\n\n                    <div\n                        class="app-header__current-page-title"\n                        data-bind="i18n: \'interview-scheduling.self-schedule.title\'"\n                    ></div>\n                </div>\n            </div>\n            <div class="apply-flow-header__background candidate-self-service-header__background"></div>\n        </header>\n\n        <main\n            role="main"\n            class="app__content candidate-self-service__content"\n            data-bind="view: \'interview-scheduling-content\'"\n        ></main>\n    </div>\n</div>\n'}),h.a.configure({offer:{url:"/offers/{token}:?query:",view:{layout:"offer","offer-main":"offer-content"},enter(e){Object(Ru.d)({token:e.token}),Bt.a.loaded.dispatch()}},"offer-inactive":{parent:"offer",url:"/offer-message/inactive",view:{"offer-main":"offer-message"}},"offer-refused":{parent:"offer",url:"/offer-message/refused",view:{"offer-main":"offer-message"}},"e-signature":{parent:"offer",url:"/e-signature",view:{"offer-main":"e-signature"}},"offer-just-refused":{parent:"offer",url:"/offer-message/refuse-acknowledgement",view:{"offer-main":"offer-message"}},"offer-refusal":{parent:"offer",url:"/refuse",view:{"offer-main":"offer-refusal"}}});s.a.components.register("offer-message",{viewModel:class{constructor(){switch(this.isOfferJustRefused="offer-just-refused"===h.a.route().id,h.a.route().id){case"offer-refused":this.description=Object(l.a)("offer.errors.offer-refused");break;case"offer-just-refused":this.description=Object(l.a)("offer.errors.offer-just-refused");break;default:this.description=Object(l.a)("offer.errors.offer-inactive")}}},template:'<div class="offer-message">\n    <div class="offer__header">\n        <h1 class="heading" data-bind="text: description"></h1>\n    </div>\n\n    <div class="offer__main">\n        <p class="paragraph" data-bind="i18n: \'offer.errors.similar-jobs-text\'"></p>\n\n        <div class="buttons-bar">\n            <div class="buttons-bar__inner">\n                <button class="button buttons-bar__button theme-color-1" data-bind="route: \'search\'">\n                    <span class="button__label" data-bind=" i18n:\'offer.errors.similar-jobs-link\'"></span>\n                    <span class="button__arrow button__arrow--right"></span>\n                </button>\n            </div>\n        </div>\n    </div>\n</div>\n'});var mx={fromRest(e){if(!e||!e[0])return{html:null,pdf:null};const[{html:t,pdf:i}]=e;return{html:Li.decode(t),pdf:i}}};class bx{constructor(e){this.description=e.description}}class fx extends bx{constructor(e){super(e),this.type="file",this.name=e.fileName,this.url=function(e){const t=s.a.utils.arrayFirst(e,e=>"enclosure"===e.rel);return t?t.href:""}(e.links),this.mimeType=e.uploadedFileContentType}}class gx extends bx{constructor(e){super(e),this.type="link",this.name=e.url,this.url=e.url}}var vx={createAttachment:e=>new("WEB_PAGE"===e.datatypeCode?gx:fx)(e)},_x={fromRest:e=>e.map(vx.createAttachment)},yx={mapCollectionFromRest(e){return e.items.map(this.fromRest.bind(this))[0]},fromRest:e=>(e.mediaLinks&&(e.media=Dn.mapFromRest(e.mediaLinks),delete e.mediaLinks),e.offerLetter=mx.fromRest(e.offerLetter),e.attachments=_x.fromRest(e.attachments),e.status=e.displayMode,delete e.displayMode,e.candidateName=e.candidateDisplayName,delete e.candidateDisplayName,e.acceptedOnBehalf="Y"===e.acceptedOnBehalf,e.acceptedOnBehalfDate&&(e.acceptedOnBehalfDate=ye.dateTime.formatLong(e.acceptedOnBehalfDate)),e.signatureDate&&(e.signatureDate=ye.dateTime.formatLong(e.signatureDate)),e)};const xx="JOBOFFER_REFUSED",wx="JOBOFFER_REJECTED",kx="JOBOFFER_UNAVAILABLE";var Ix={get(e){const t={headers:{"Ora-Irc-Access-Code":e}};return U.a.get("/recruitingCEOfferDetails?expand=all",t).then(yx.mapCollectionFromRest.bind(yx))},getOfferDataContent:({offerId:e,format:t})=>U.a.get(`/CandExpSecured/previewOfferDetails/${e}?format=:format:`,{baseUrl:""+c.a.uiBaseUrl,params:{format:t},timeout:6e5,statusCodes:{400:()=>Promise.reject()},credentials:"same-origin"}).then(yx.fromRest),_respond:(e,t)=>U.a.post("/CandidateExperience/OfferResponsesAuth",t,{baseUrl:""+c.a.uiBaseUrl,statusCodes:{400:({response:e})=>"ORA_IRC_ESIGN_INVALID"===e?Promise.reject("invalid-esign"):Promise.reject(),404(){h.a.go("offer-inactive")}},headers:{"Ora-Irc-Access-Code":e}}),accept(e,t){return this._respond(e,{accessCode:e,action:"ACCEPTED",signature:t})},refuse(e,t,i){return this._respond(e,{accessCode:e,action:"REFUSED",reasonId:t,comment:i})},calculateOffer(){return this.get(Is.a.get().accessCode)},_isTokenFromRouteValid:e=>Boolean(e)};n.components.register("offer-content",{viewModel:class{constructor(e){this.offer=s.a.observable(e),this.offerTitle=s.a.pureComputed(()=>{if("offer"===h.a.route().id){if(h.a.routeParams().freshlyAccepted)return Object(l.a)("offer.header.congratulations-text");if(!this.offer().isOfferAccepted())return Object(l.a)("offer.header.welcome-text");if(this.offer().isOfferAccepted())return Object(l.a)("offer.accepted-job-offer-label")}return""}),this.isPreview=s.a.pureComputed(()=>h.a.routeParams().query&&h.a.routeParams().query.preview||!1),this.isOfferLetterDownloadInProgress=s.a.observable(!1)}downloadContent(){const e=`${Object(l.a)("offer.job-offer-label")}-${this.offer().offerName()}.pdf`;this._download(e)}_download(e){const t=this.offer().offerLetter.pdf();if(t)return void Ab.download(Promise.resolve({fileName:e,fileContents:t,mimeType:"application/pdf"}));this.isOfferLetterDownloadInProgress(!0);const i=Ix.getOfferDataContent({offerId:h.a.routeParams().query.offerId,format:"pdf"}).then(({offerLetter:{pdf:t}})=>({fileName:e,fileContents:t,mimeType:"application/pdf"})).catch(e=>console.error(e)).finally(()=>this.isOfferLetterDownloadInProgress(!1));Ab.download(i)}downloadAttachment(e){const t={url:e.url(),fileName:e.name(),mimeType:e.mimeType()},i={baseUrl:"",headers:{"Ora-Irc-Access-Code":Is.a.get().accessCode}};Ab.download(Promise.resolve(t),i)}},template:'\x3c!-- ko ifnot: offer() --\x3e\n<div class="offer-content__loading">\n    <spinner></spinner>\n</div>\n\x3c!-- /ko --\x3e\n\n\x3c!-- ko if: offer() --\x3e\n<h1 class="offer-content-wrapper__title" data-bind="text: offerTitle"></h1>\n<div class="offer-content">\n    <modal-spinner params="{isVisible: isOfferLetterDownloadInProgress}"></modal-spinner>\n\n    \x3c!-- ko if: offer().postAcceptMessage --\x3e\n    <div class="offer-post-accept-message" data-bind="html: offer().postAcceptMessage"></div>\n    \x3c!-- /ko --\x3e\n\n    <div class="offer-details">\n        <div class="offer-details-letter" data-bind="html: offer().offerLetter.html"></div>\n\n        <a\n            class="download-content-button icon-downloadpdf"\n            href="#"\n            role="button"\n            data-bind="click: downloadContent,\n                      i18nAttr: {\'aria-label\': \'offer.download-pdf-button-description\', \'title\': \'offer.download-pdf-button-description\'}"\n        >\n            <span class="download-content-button__label" data-bind="i18n: \'offer.download-pdf-button\'"></span>\n        </a>\n    </div>\n\n    \x3c!-- ko if: offer().attachments().length > 0 --\x3e\n    <div class="offer-attachments">\n        <h2\n            class="offer-content__header font-family-secondary"\n            data-bind="i18n: \'offer.offer-details.attachments.title\'"\n        ></h2>\n\n        <ul class="offer-attachments-list">\n            \x3c!--ko ifnot: isPreview --\x3e\n            \x3c!-- ko foreach: offer().attachments --\x3e\n            \x3c!-- ko if: type() === \'file\' --\x3e\n            <li class="offer-attachment">\n                <a\n                    class="offer-attachment__link icon-attach"\n                    href="#"\n                    data-bind="text: name, click: $parent.downloadAttachment"\n                ></a>\n                <div class="offer-attachment__description" data-bind="text: description"></div>\n            </li>\n            \x3c!-- /ko --\x3e\n            \x3c!-- ko if: type() === \'link\' --\x3e\n            <li class="offer-attachment">\n                <a\n                    class="offer-attachment__link icon-attach"\n                    target="_blank"\n                    data-bind="text: name, attr: {href: url}"\n                ></a>\n                <div class="offer-attachment__description" data-bind="text: description"></div>\n            </li>\n            \x3c!-- /ko --\x3e\n            \x3c!-- /ko --\x3e\n            \x3c!-- /ko --\x3e\n            \x3c!--ko if: isPreview --\x3e\n            \x3c!-- ko foreach: offer().attachments --\x3e\n            <li class="offer-attachment">\n                <a class="offer-attachment__link icon-attach" data-bind="text: name"></a>\n                <div class="offer-attachment__description" data-bind="text: description"></div>\n            </li>\n            \x3c!-- /ko --\x3e\n            \x3c!-- /ko --\x3e\n        </ul>\n    </div>\n    \x3c!-- /ko --\x3e\n\n    \x3c!-- ko if: offer().media().length > 0 --\x3e\n    <div class="offer-media" data-binding-id="offer-media">\n        <h2 class="offer-content__header font-family-secondary" data-bind="i18n: \'offer.media-header\'"></h2>\n\n        <media-tiles\n            params="tiles: offer().media(), initialState: \'collapsed\', canExpand: false"\n        ></media-tiles>\n        <media-slider params="slides: offer().media()"></media-slider>\n    </div>\n    \x3c!-- /ko --\x3e\n</div>\n\n\x3c!-- ko ifnot: offer().isOfferAccepted() --\x3e\n<div\n    class="offer-actions"\n    data-bind="a11y.skipTo: {elementsContainer: \'.offer-main-wrapper\', elementsFocused: \'.offer-actions__button--primary\'}"\n>\n    \x3c!--ko ifnot: isPreview --\x3e\n    <a\n        class="button offer-actions__button offer-actions__button--secondary"\n        role="button"\n        data-bind="i18n: \'offer.refuse\', route: \'offer-refusal\'"\n    ></a>\n    <a\n        class="button offer-actions__button offer-actions__button--primary"\n        role="button"\n        data-bind="i18n: \'offer.accept\', route: \'e-signature\'"\n    ></a>\n    \x3c!-- /ko --\x3e\n    \x3c!-- ko if: isPreview --\x3e\n    <a\n        class="button offer-actions__button offer-actions__button--secondary offer-actions__button--disabled"\n        role="button"\n        data-bind="i18n: \'offer.refuse\'"\n    ></a>\n    <a\n        class="button offer-actions__button offer-actions__button--primary offer-actions__button--disabled"\n        role="button"\n        data-bind="i18n: \'offer.accept\'"\n    ></a>\n    \x3c!-- /ko --\x3e\n</div>\n\x3c!-- /ko --\x3e\n\x3c!-- /ko --\x3e\n'});var Cx=function(){o.a.fromJS({fullName:""},{},this)},Sx={accept:new Ot.a,refuse:new Ot.a},Ex=Object.create(at,{createForm:{value(e){const t=at.createForm(e);return t.elements(this._createNameFormElement()),t}},_createNameFormElement:{value:()=>nt.create("text","fullName").label(Object(l.a)("offer.e-signature.name-label")).attributes("autocomplete","off").validators("required",{}).validators("maxLength",{max:240})}});n.components.register("e-signature",{viewModel:class{constructor(e){e&&e.isOfferAccepted()&&h.a.go("offer"),this.model=new Cx,this.form=s.a.observable({}),this.isValid=s.a.observable(!0),this.isOfferBeingAccepted=s.a.observable(!1),this.eSignatureInstructions=null,this.offerModel=e,e&&(this.eSignatureInstructions=e.esignatureInstructions),this._createForm(),this.isSubmitButtonDisabled=s.a.pureComputed(()=>{const e=this.form().isValid(),t=this.isValid();return!e||!t}),this._fullNameSub=this.model.fullName.subscribe(()=>{this.isValid(!0)})}_createForm(){const e=Ex.createForm();e.registerModel(this.model),this.form(e)}submit(){this.form().isValid()&&this.isValid()&&(this.isOfferBeingAccepted(!0),Ix.accept(Is.a.get().accessCode,this.model.fullName()).then(Sx.accept.dispatch).then(()=>{this.isOfferBeingAccepted(!1),h.a.go("offer",{freshlyAccepted:!0})}).catch(e=>{this.isOfferBeingAccepted(!1),"invalid-esign"===e?this.isValid(!1):pi.a.error.dispatch()}))}dispose(){this._fullNameSub.dispose()}},template:'<div class="e-signature">\n    <div class="e-signature__container">\n        \x3c!-- ko if: isOfferBeingAccepted --\x3e\n        <div class="e-signature__header">\n            <h1 class="heading" data-bind="i18n: \'offer.e-signature.offer-processing-message\'"></h1>\n        </div>\n\n        <indeterminate-progress-bar></indeterminate-progress-bar>\n        \x3c!-- /ko --\x3e\n\n        \x3c!-- ko ifnot: isOfferBeingAccepted --\x3e\n        <div class="e-signature__header">\n            <h1 class="heading" data-bind="i18n: \'offer.e-signature.title\'"></h1>\n        </div>\n\n        \x3c!-- ko ifnot: offerModel --\x3e\n        <spinner></spinner>\n        \x3c!-- /ko --\x3e\n\n        \x3c!-- ko if: offerModel --\x3e\n        <div class="e-signature__instructions">\n            <div class="paragraph basic-formatter" data-bind="html: eSignatureInstructions"></div>\n        </div>\n\n        <div class="e-signature__content">\n            <form-builder params="form: form"></form-builder>\n\n            \x3c!-- ko ifnot: isValid --\x3e\n            <p\n                class="input-row__validation"\n                role="alert"\n                data-bind="i18n: \'offer.e-signature.invalid-dialog.description\'"\n            ></p>\n            \x3c!-- /ko --\x3e\n\n            <div class="buttons-bar">\n                <div class="buttons-bar__inner">\n                    <button class="button buttons-bar__button" data-bind="route: \'offer\'">\n                        <span class="button__arrow button__arrow--left"></span>\n                        <span class="button__label" data-bind="i18n: \'general.previous-button\'"></span>\n                    </button>\n\n                    <div class="buttons-bar__spacer"></div>\n\n                    <button\n                        class="button buttons-bar__button theme-color-1"\n                        data-bind="css: {\'buttons-bar__button--disabled\': isSubmitButtonDisabled}, click: submit"\n                    >\n                        <span class="button__label" data-bind="i18n: \'offer.accept\'"></span>\n                        <span class="button__arrow button__arrow--right"></span>\n                    </button>\n                </div>\n            </div>\n        </div>\n        \x3c!-- /ko --\x3e\n        \x3c!-- /ko --\x3e\n    </div>\n</div>\n'});class Ox{constructor(){this.comment=Object(n.observable)(),this.reasonId=Object(n.observable)()}}var Ax=Object.create(at,{createForm:{value(e){const t=at.createForm(),i=[this._createReasonFormElement(e),this._createCommentFormElement()];return t.elements(i),t}},_createCommentFormElement:{value:()=>nt.create("textarea","comment").label(Object(l.a)("offer.offer-refusal.comment-label")).attributes("autocomplete","off")},_createReasonFormElement:{value:e=>nt.create("select","reasonId").label(Object(l.a)("offer.offer-refusal.reason-label")).withEmptyOption(!0).optionsKeys({value:"reasonId",label:"reasonName"}).options(e).isHidden(!(e&&e.length))}});n.components.register("offer-refusal",{viewModel:class{constructor(e){e&&e.isOfferAccepted()&&h.a.go("offer"),this.offer=s.a.observable(e),this.isOfferBeingDeclined=s.a.observable(!1),this.showOfferDeclineReasons=e.declineReasonsEnabledFlag,this.declineReasons=e.offerDeclineReasons,this.model=new Ox,this.declineForm=this._createForm(this.declineReasons)}_createForm(e){const t=Ax.createForm(e);return t.registerModel(this.model),s.a.observable(t)}submit(){this.isOfferBeingDeclined(!0),Ix.refuse(Is.a.get().accessCode,this.model.reasonId(),this.model.comment()).then(()=>{this.isOfferBeingDeclined(!1),h.a.go("offer-just-refused")}).catch(()=>{this.isOfferBeingDeclined(!1),pi.a.error.dispatch()})}goBack(){Sx.refuse.dispatch(),h.a.go("offer")}},template:'<div class="offer-message">\n    <div class="offer__header">\n        <h1 class="heading" data-bind="i18n: \'offer.offer-refusal.title\'"></h1>\n    </div>\n\n    <div class="offer__main">\n        \x3c!-- ko if: isOfferBeingDeclined --\x3e\n        <p class="paragraph" data-bind="i18n: \'offer.e-signature.offer-processing-message\'"></p>\n\n        <div class="horizontal-break"></div>\n\n        <indeterminate-progress-bar></indeterminate-progress-bar>\n        \x3c!-- /ko --\x3e\n\n        \x3c!-- ko ifnot: isOfferBeingDeclined --\x3e\n        <p class="paragraph" data-bind="i18n: \'offer.offer-refusal.description\'"></p>\n\n        \x3c!--ko if: showOfferDeclineReasons --\x3e\n        <form-builder params="form: declineForm"></form-builder>\n        \x3c!-- /ko --\x3e\n\n        <div class="buttons-bar">\n            <div class="buttons-bar__inner">\n                <button class="button buttons-bar__button" data-bind="click: goBack">\n                    <span class="button__arrow button__arrow--left"></span>\n                    <span class="button__label" data-bind="i18n: \'general.previous-button\'"></span>\n                </button>\n\n                <div class="buttons-bar__spacer"></div>\n\n                <button class="button buttons-bar__button theme-color-1" data-bind="click: submit">\n                    <span class="button__label" data-bind="i18n: \'offer.refuse\'"></span>\n                    <span class="button__arrow button__arrow--right"></span>\n                </button>\n            </div>\n        </div>\n        \x3c!-- /ko --\x3e\n    </div>\n</div>\n'});class Px{constructor(e){this.media=s.a.observableArray(),o.a.fromJS(e,{},this),this.isOfferAcceptedByCandidate=s.a.pureComputed(()=>"JOBOFFER_ACCEPTED"===this.status()),this.isOfferAcceptedOnBehalf=s.a.pureComputed(()=>"JOBOFFER_ACCEPTED_ON_BEHALF"===this.status()),this.isOfferAccepted=s.a.pureComputed(()=>this.isOfferAcceptedByCandidate()||this.isOfferAcceptedOnBehalf()),e.offerDeclineReasons&&(this.offerDeclineReasons=o.a.toJS(e.offerDeclineReasons))}}n.components.register("offer",{viewModel:class extends Yu{constructor(){super(),this.offer=Object(n.observable)(),this.isPinRequired=Object(n.observable)(),this.isHeaderAndFooterVisible=Object(n.pureComputed)(()=>this.offer()&&!this.isPinRequired()),this._initialize=this._initialize.bind(this),Sx.accept.add(this._initialize),Sx.refuse.add(this._initialize),this._userSessionRemovedSignal=L.a.userSessionRemoved.add(this._navigateToHome),this._initialize()}dispose(){this._userSessionRemovedSignal.detach()}onPinValid(){this.isPinRequired(!1),this._initialize()}async _initialize(){this._shouldTriggerChallenge()&&(await this._triggerChallenge().then(this._onTriggeredChallenge.bind(this)).catch(e=>{this._handleError(e),this.isPinRequired(ju.isChallengeRequired())}),this.isPinRequired())||(this.isPreview()?this._initializePreview():this._initializeOffer())}_shouldTriggerChallenge(){return(!Is.a.accessCodeExists()||Fu.a.isActive())&&ju.isChallengeRequired()}_initializeOffer(){Ix.calculateOffer().then(e=>{if(e)switch(e.status){case wx:case kx:h.a.go("offer-inactive");break;case xx:h.a.go("offer-refused");break;default:this.offer(new Px(e))}}).catch(e=>this._handleError(e))}_initializePreview(){Ix.getOfferDataContent({offerId:h.a.routeParams().query.offerId,format:"html"}).then(e=>this.offer(new Px(e))).catch(e=>{bi.error(),console.error(e)})}isPreview(){return h.a.routeParams().query&&h.a.routeParams().query.preview}_navigateToHome(){h.a.go("home-page")}_handleError(e){e!==Ao.a&&e!==Ao.g?super._handleError(e):this.verificationStatus(Ao.a)}_onTriggeredChallenge(e){this.handleMergedCandiate(),this.isPinRequired(e)}},template:'<notifications></notifications>\n\n<div class="app__viewport" role="main">\n    <div class="app__wrapper">\n        <div class="app__main offer" data-bind="css: {\'offer--preview\': isPreview()}">\n            <div class="app__top-wrapper">\n                <div class="app__top">\n                    <div class="app-header">\n                        <company-logo></company-logo>\n\n                        \x3c!-- ko if: isHeaderAndFooterVisible --\x3e\n                        <div class="app-header__actions">\n                            <favourite-jobs></favourite-jobs>\n                            <user-menu></user-menu>\n                            <app-menu-toggle></app-menu-toggle>\n                        </div>\n                        \x3c!-- /ko --\x3e\n                    </div>\n\n                    <div class="app__top-background-wrapper">\n                        <div class="app__top-background"></div>\n                    </div>\n                </div>\n            </div>\n\n            <div class="app__content">\n                <div class="app__subpage">\n                    <skip-navigation-link params="ariaHidden: false"></skip-navigation-link>\n                    \x3c!-- ko if: isPinRequired --\x3e\n                    \x3c!-- ko template: \'candidate-verification-pin-code-required\' --\x3e\x3c!-- /ko --\x3e\n                    \x3c!-- /ko --\x3e\n\n                    \x3c!-- ko ifnot: isPinRequired --\x3e\n                    <div class="offer-content-wrapper" data-bind="view: \'offer-main\', params: offer"></div>\n                    \x3c!-- /ko --\x3e\n                </div>\n            </div>\n        </div>\n\n        \x3c!-- ko if: isHeaderAndFooterVisible --\x3e\n        \x3c!-- ko component: \'app-footer\' --\x3e\x3c!-- /ko --\x3e\n        \x3c!-- /ko --\x3e\n    </div>\n</div>\n\n\x3c!-- ko if: isHeaderAndFooterVisible --\x3e\n\x3c!-- ko component: \'app-menu\' --\x3e\x3c!-- /ko --\x3e\n\x3c!-- /ko --\x3e\n'});const Tx=Object(l.a)("campaign.thank-you.description"),jx=Object(l.a)("campaign.unsubscribe.description");h.a.configure({"campaign-thank-you":{parent:"home-page",url:"campaign/thank-you",canEnter:()=>(bi.success(Tx),Promise.reject({redirectTo:"home-page"}))},"campaign-unsubscribe":{parent:"home-page",url:"unsubscribe/{campaignCode}/token/{token}",canEnter:e=>(function({token:e}){Is.a.verifyToken(e).then(()=>bi.success(jx)).catch(e=>{console.error(e),bi.error()})}(e),Promise.reject({redirectTo:"home-page"}))}});class Rx{constructor({name:e,value:t}){this.name=e,this.value=t}}n.components.register("meta-item-text",{viewModel:Rx,template:'<span class="job-meta__title" data-bind="text: name"></span>\n<span class="job-meta__subitem" data-bind="text: value"></span>\n'});n.components.register("meta-item-location",{viewModel:Rx,template:'<span class="job-meta__title job-meta__title--locations" data-bind="text: name"></span>\n\x3c!-- ko foreach: value --\x3e\n<span class="job-meta__subitem">\n    <i class="job-meta__pin-icon"></i>\n    \x3c!-- ko text: $data --\x3e\x3c!-- /ko --\x3e\n</span>\n\x3c!-- /ko --\x3e\n'});n.components.register("meta-item-static-url",{viewModel:Rx,template:'<span class="job-meta__title" data-bind="text: name"></span>\n<span class="job-meta__subitem">\n    <a data-bind="attr: {href: value}, text: value" target="_blank"></a>\n</span>\n'});const Fx=new Proxy({StaticURL:"meta-item-static-url",locations:"meta-item-location",__default:"meta-item-text"},{get:(e,t)=>t in e?e[t]:e.__default});function Dx(){return bi.errorAfterLoaded(Object(l.a)("general.error-token-expired.header")),Promise.reject({redirectTo:"home-page"})}n.components.register("job-meta-item",{viewModel:class{constructor(e){this.componentName=Fx[e.type||e.id],this.componentData=e}},template:'<li class="job-meta__item">\n    \x3c!-- ko component: { name: componentName, params: componentData } --\x3e\x3c!-- /ko --\x3e\n</li>\n'}),h.a.configure({"interview-token-expired":{url:"/my-profile/interview/token-expired/{action}",canEnter:Dx},"post-apply.resend-token":{parent:"cx",url:"/submission/{jobId}/{submissionId}/post-apply-resend/{token}",canEnter:Dx},"job-details.referral-already-applied":{parent:"job-details",url:"/referral/{token}/already-applied",canEnter:Dx},"prospect-token-verification.resend-token":{parent:"job-details",url:"/prospect-resend/{token}",canEnter:Dx},"offer-token-expired":{parent:"offer",url:"/token-expired",canEnter:Dx},"candidate-self-email-change-confirm":{url:"/my-profile/{token}/email-change-confirm",canEnter:Dx}});const Lx=(e,t)=>{const i=parseInt(t,10)||0;document.documentElement.style.setProperty(e,i+"px")},Nx=e=>{if(!e)return void console.warn("Element for calculateSearchInputWidth was not found");const t=e.offsetWidth,i=e.getBoundingClientRect().left;Lx("--search-input-width",t),Lx("--search-input-left",i)};function Mx(e,t){t.forEach(t=>{t.setAttribute("tabindex",e?-1:0)}),!e&&t.length>0&&t[0].focus()}s.a.bindingHandlers.calculateSearchInputWidth={init(e){const t=document.querySelector("#location-container"),i=Jo(()=>Nx(t),50);Nx(t),window.addEventListener("resize",i),s.a.utils.domNodeDisposal.addDisposeCallback(e,()=>{window.removeEventListener("resize",i)})}};s.a.bindingHandlers["a11y.setTabIndex"]={init(e,t){const{isTruncated:i}=t(),n=e.querySelectorAll("a[href], button");Mx(i(),n);const a=i.subscribe(e=>{Mx(e,n)});s.a.utils.domNodeDisposal.addDisposeCallback(e,()=>{a.dispose()})}};const Vx=[{browser:"Internet Explorer",version:10}];var Bx={isBrowserUnsupported(){const e=Vt.browser,t=Vt.version;return Vx.some(i=>i.browser===e&&(!i.version||t<=i.version))}};n.components.register("minimal",{viewModel:class extends class{constructor(){this.isBrowserUnsupported=Bx.isBrowserUnsupported(),ea.store(),Bt.a.loaded.dispatch()}}{constructor(e){super(e),this.isAppMenuNotEmpty=Object(n.pureComputed)(this._computeAppMenuNotEmpty,this)}_computeAppMenuNotEmpty(){const e=Boolean(Ai.getHeaderPageLinks().length),t=c.a.languages.length>1;return e||t||!Qs.isSignedIn()}},template:'\x3c!-- ko if: isBrowserUnsupported --\x3e\n<unsupported-browser-message></unsupported-browser-message>\n\x3c!-- /ko --\x3e\n\n\x3c!-- ko if: !isBrowserUnsupported --\x3e\n<skip-navigation-link params="ariaHidden: false"></skip-navigation-link>\n\n<div class="app__viewport" role="main">\n    <div class="app__wrapper">\n        <div class="app__main">\n            \x3c!-- ko component: \'custom-header\' --\x3e\n            \x3c!-- /ko --\x3e\n\n            <div class="app__top-wrapper">\n                <div class="app__top">\n                    <div class="app-header">\n                        <company-logo></company-logo>\n\n                        <div class="app-header__actions">\n                            <favourite-jobs></favourite-jobs>\n                            <user-menu></user-menu>\n                            \x3c!-- ko if: isAppMenuNotEmpty() --\x3e\n                            <app-menu-toggle></app-menu-toggle>\n                            \x3c!-- /ko --\x3e\n                        </div>\n                    </div>\n\n                    <div class="app__top-background-wrapper">\n                        <div class="app__top-background"></div>\n                    </div>\n                </div>\n            </div>\n\n            <div class="app__content" data-bind="view: \'main\'"></div>\n\n            \x3c!-- ko view: \'dialogs\' --\x3e\n            \x3c!-- /ko --\x3e\n        </div>\n\n        \x3c!-- ko component: \'app-footer\' --\x3e\n        \x3c!-- /ko --\x3e\n\n        \x3c!-- ko component: \'custom-footer\' --\x3e\n        \x3c!-- /ko --\x3e\n\n        \x3c!-- ko component: \'accessibility-messages\' --\x3e\n        \x3c!-- /ko --\x3e\n    </div>\n</div>\n\n\x3c!-- ko view: \'candidate-verification\' --\x3e\n\x3c!-- /ko --\x3e\n\n\x3c!-- ko component: \'add-this\' --\x3e\n\x3c!-- /ko --\x3e\n\n\x3c!-- ko component: \'app-menu\' --\x3e\n\x3c!-- /ko --\x3e\n\n\x3c!-- ko component: \'cookie-consent\' --\x3e\n\x3c!-- /ko --\x3e\n\n\x3c!-- ko component: \'notifications\' --\x3e\n\x3c!-- /ko --\x3e\n\n\x3c!-- /ko --\x3e\n'})}])}));
//# sourceMappingURL=main-minimal.js.map